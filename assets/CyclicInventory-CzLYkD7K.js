import{p as de,j as e,q as k,r as ue,s as me,t as D,u as _,v as pe,w as $,x as T,y as B,z as V,B as z,L as G,E as U}from"./ui-vendor-Bb_mGnpn.js";import{r as l,u as xe}from"./react-vendor-DdjUaGoS.js";import{c as F,o as m,C as v,f as fe,g as K,O as ge,B as I}from"./index-79gJsbWV.js";import{I as he}from"./input-B4Qg--CR.js";import{B as ve}from"./badge-DZ4OAlY8.js";import{C as b}from"./CounterAnimation-DLyiKbvL.js";import{C as Z,A as be}from"./chevron-right-vTt8UDvH.js";import{C as H}from"./circle-check-CkBJYZ1s.js";import{C as Ne}from"./check-B8DXHzRw.js";import{D as je}from"./dollar-sign-nxU0mCEA.js";import{S as ye}from"./search-CQKPkt0l.js";import{F as we}from"./filter-rVWvFjMi.js";import"./utils-CUsTgaRG.js";import"./animation-_rLC-yhr.js";import"./excel-uoQkVabA.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=F("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=F("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var C="Progress",A=100,[Se,ss]=de(C),[Re,Ie]=Se(C),X=l.forwardRef((s,a)=>{const{__scopeProgress:r,value:t=null,max:n,getValueLabel:f=Me,...i}=s;(n||n===0)&&!M(n)&&console.error(Le(`${n}`,"Progress"));const d=M(n)?n:A;t!==null&&!L(t,d)&&console.error(Pe(`${t}`,"Progress"));const u=L(t,d)?t:null,g=N(u)?f(u,d):void 0;return e.jsx(Re,{scope:r,value:u,max:d,children:e.jsx(k.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":N(u)?u:void 0,"aria-valuetext":g,role:"progressbar","data-state":Y(u,d),"data-value":u??void 0,"data-max":d,...i,ref:a})})});X.displayName=C;var J="ProgressIndicator",q=l.forwardRef((s,a)=>{const{__scopeProgress:r,...t}=s,n=Ie(J,r);return e.jsx(k.div,{"data-state":Y(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...t,ref:a})});q.displayName=J;function Me(s,a){return`${Math.round(s/a*100)}%`}function Y(s,a){return s==null?"indeterminate":s===a?"complete":"loading"}function N(s){return typeof s=="number"}function M(s){return N(s)&&!isNaN(s)&&s>0}function L(s,a){return N(s)&&!isNaN(s)&&s<=a&&s>=0}function Le(s,a){return`Invalid prop \`max\` of value \`${s}\` supplied to \`${a}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${A}\`.`}function Pe(s,a){return`Invalid prop \`value\` of value \`${s}\` supplied to \`${a}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${A} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Q=X,Ee=q;const W=l.forwardRef(({className:s,value:a,indicatorClassName:r,...t},n)=>e.jsx(Q,{ref:n,className:m("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...t,children:e.jsx(Ee,{className:m("h-full w-full flex-1 bg-primary transition-all",r),style:{transform:`translateX(-${100-(a||0)}%)`}})}));W.displayName=Q.displayName;function Oe({name:s,value:a,status:r,progress:t=0,onClick:n}){const i=(g=>{switch(g){case"controlado":return{color:"text-success",bgColor:"bg-success/10",borderColor:"border-success/20",icon:H,label:"Controlado",barColor:"bg-success"};case"por_controlar":return{color:"text-warning",bgColor:"bg-warning/10",borderColor:"border-warning/20",icon:Ae,label:"En Proceso",barColor:"bg-warning"};case"pendiente":return{color:"text-muted-foreground",bgColor:"bg-muted",borderColor:"border-muted",icon:K,label:"Pendiente",barColor:"bg-muted-foreground"}}})(r),d=i.icon,u=r==="controlado"?100:r==="pendiente"?0:t||45;return e.jsxs(v,{className:"group hover:shadow-md transition-all duration-200 border cursor-pointer overflow-hidden relative",onClick:n,children:[e.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${i.barColor}`}),e.jsxs(fe,{className:"p-4 pl-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx("div",{className:`p-1.5 rounded-full ${i.bgColor}`,children:e.jsx(d,{className:`w-4 h-4 ${i.color}`})}),e.jsx("h3",{className:"font-semibold text-base truncate",title:s,children:s})]}),e.jsx(Z,{className:"w-4 h-4 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wider",children:"Valorizado"}),e.jsxs("span",{className:"text-lg font-bold font-mono tracking-tight",children:["$",e.jsx(b,{value:a})]})]}),e.jsx(ve,{variant:"outline",className:`${i.color} ${i.borderColor} bg-transparent`,children:i.label})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:"Progreso"}),e.jsxs("span",{children:[u,"%"]})]}),e.jsx(W,{value:u,className:"h-1.5",indicatorClassName:i.barColor})]})]})]})]})}const P=ue,E=me,ke=l.forwardRef(({className:s,inset:a,children:r,...t},n)=>e.jsxs(D,{ref:n,className:m("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",a&&"pl-8",s),...t,children:[r,e.jsx(Z,{className:"ml-auto h-4 w-4"})]}));ke.displayName=D.displayName;const De=l.forwardRef(({className:s,...a},r)=>e.jsx(_,{ref:r,className:m("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...a}));De.displayName=_.displayName;const w=l.forwardRef(({className:s,sideOffset:a=4,...r},t)=>e.jsx(pe,{children:e.jsx($,{ref:t,sideOffset:a,className:m("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r})}));w.displayName=$.displayName;const x=l.forwardRef(({className:s,inset:a,...r},t)=>e.jsx(T,{ref:t,className:m("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",a&&"pl-8",s),...r}));x.displayName=T.displayName;const _e=l.forwardRef(({className:s,children:a,checked:r,...t},n)=>e.jsxs(B,{ref:n,className:m("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",s),checked:r,...t,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(V,{children:e.jsx(Ne,{className:"h-4 w-4"})})}),a]}));_e.displayName=B.displayName;const $e=l.forwardRef(({className:s,children:a,...r},t)=>e.jsxs(z,{ref:t,className:m("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",s),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(V,{children:e.jsx(Ce,{className:"h-2 w-2 fill-current"})})}),a]}));$e.displayName=z.displayName;const Te=l.forwardRef(({className:s,inset:a,...r},t)=>e.jsx(G,{ref:t,className:m("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",s),...r}));Te.displayName=G.displayName;const Be=l.forwardRef(({className:s,...a},r)=>e.jsx(U,{ref:r,className:m("-mx-1 my-1 h-px bg-muted",s),...a}));Be.displayName=U.displayName;const O=[{id:1,name:"ANDRÓMACO",value:15e4,status:"controlado",progress:100},{id:2,name:"BAGÓ",value:85e3,status:"controlado",progress:100},{id:3,name:"BALIARDA",value:0,status:"pendiente",progress:0},{id:4,name:"BAYER CONSUMER",value:45e3,status:"por_controlar",progress:45},{id:5,name:"CASASCO",value:32e3,status:"controlado",progress:100},{id:6,name:"CASSARÁ",value:0,status:"pendiente",progress:0},{id:7,name:"ELEA",value:12e3,status:"por_controlar",progress:30},{id:8,name:"GADOR",value:12e4,status:"controlado",progress:100},{id:9,name:"GENOMMA LAB.",value:0,status:"pendiente",progress:0},{id:10,name:"GLAXOSMITHKLINE",value:8900,status:"por_controlar",progress:15},{id:11,name:"LABORATORIO GRA",value:55e3,status:"controlado",progress:100},{id:12,name:"LABORATORIOS BE",value:0,status:"pendiente",progress:0},{id:13,name:"LAZAR",value:65e3,status:"controlado",progress:100},{id:14,name:"LEPETIT",value:5e3,status:"por_controlar",progress:60},{id:15,name:"MICROSULES ARG.",value:11e4,status:"controlado",progress:100},{id:16,name:"MONTPELLIER",value:0,status:"pendiente",progress:0},{id:17,name:"NOVO NORDISK",value:25e4,status:"controlado",progress:100},{id:18,name:"NUTRICIA-BAGÓ",value:15e3,status:"por_controlar",progress:25},{id:19,name:"OPELLA HEALTHCA",value:6e4,status:"controlado",progress:100},{id:20,name:"ROEMMERS",value:0,status:"pendiente",progress:0}];function as(){const s=xe(),[a,r]=l.useState(""),[t,n]=l.useState("todos"),[f,i]=l.useState("name-asc"),[d,u]=l.useState(O);l.useEffect(()=>{const o=O.map(c=>{const h=`cyclic_inventory_status_${c.name}`,ne=`cyclic_inventory_${c.name}`,S=localStorage.getItem(h),R=localStorage.getItem(ne);if(S)try{if(JSON.parse(S).status==="controlado")return{...c,status:"controlado",progress:100}}catch(p){console.error(p)}if(R)try{const p=JSON.parse(R);if(Array.isArray(p)&&p.length>0){const le=p.filter(ie=>ie.status==="controlled").length,ce=p.length,y=Math.round(le/ce*100);if(y>0&&y<100)return{...c,status:"por_controlar",progress:y}}}catch(p){console.error(p)}return c});u(o)},[]);const g=d.length,j=d.filter(o=>o.status==="controlado").length,ee=d.filter(o=>o.status==="pendiente").length,se=d.reduce((o,c)=>o+c.value,0),ae=Math.round(j/g*100),te=l.useMemo(()=>{let o=[...d];return a&&(o=o.filter(c=>c.name.toLowerCase().includes(a.toLowerCase()))),t!=="todos"&&(o=o.filter(c=>c.status===t)),o.sort((c,h)=>{switch(f){case"name-asc":return c.name.localeCompare(h.name);case"name-desc":return h.name.localeCompare(c.name);case"value-asc":return c.value-h.value;case"value-desc":return h.value-c.value;default:return 0}}),o},[a,t,f]),re=o=>{switch(o){case"todos":return"Todos";case"controlado":return"Controlados";case"por_controlar":return"En Proceso";case"pendiente":return"Pendientes"}},oe=o=>{switch(o){case"name-asc":return"Nombre (A-Z)";case"name-desc":return"Nombre (Z-A)";case"value-asc":return"Valor (Menor a Mayor)";case"value-desc":return"Valor (Mayor a Menor)"}};return e.jsxs("div",{className:"p-4 md:p-6 space-y-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(v,{className:"p-4 flex flex-col justify-between bg-primary/5 border-primary/10",children:[e.jsxs("div",{className:"flex items-center gap-2 text-primary mb-2",children:[e.jsx(ge,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Avance Global"})]}),e.jsxs("div",{className:"text-2xl font-bold",children:[e.jsx(b,{value:ae}),"%"]}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[j," de ",g," laboratorios"]})]}),e.jsxs(v,{className:"p-4 flex flex-col justify-between bg-success/5 border-success/10",children:[e.jsxs("div",{className:"flex items-center gap-2 text-success mb-2",children:[e.jsx(H,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Controlados"})]}),e.jsx("div",{className:"text-2xl font-bold text-success",children:e.jsx(b,{value:j})})]}),e.jsxs(v,{className:"p-4 flex flex-col justify-between bg-muted/50 border-muted",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[e.jsx(K,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Pendientes"})]}),e.jsx("div",{className:"text-2xl font-bold text-muted-foreground",children:e.jsx(b,{value:ee})})]}),e.jsxs(v,{className:"p-4 flex flex-col justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-foreground mb-2",children:[e.jsx(je,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Valorizado"})]}),e.jsxs("div",{className:"text-2xl font-bold",children:["$",e.jsx(b,{value:se})]})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 sticky top-0 bg-background/95 backdrop-blur z-10 py-2",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(ye,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(he,{placeholder:"Buscar laboratorio...",value:a,onChange:o=>r(o.target.value),className:"pl-9"})]}),e.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 md:pb-0",children:[e.jsxs(P,{children:[e.jsx(E,{asChild:!0,children:e.jsxs(I,{variant:"outline",size:"sm",className:"whitespace-nowrap",children:[e.jsx(we,{className:"w-4 h-4 mr-2"}),re(t)]})}),e.jsxs(w,{align:"end",children:[e.jsx(x,{onClick:()=>n("todos"),children:"Todos"}),e.jsx(x,{onClick:()=>n("controlado"),children:"Controlados"}),e.jsx(x,{onClick:()=>n("por_controlar"),children:"En Proceso"}),e.jsx(x,{onClick:()=>n("pendiente"),children:"Pendientes"})]})]}),e.jsxs(P,{children:[e.jsx(E,{asChild:!0,children:e.jsxs(I,{variant:"outline",size:"sm",className:"whitespace-nowrap",children:[e.jsx(be,{className:"w-4 h-4 mr-2"}),oe(f)]})}),e.jsxs(w,{align:"end",children:[e.jsx(x,{onClick:()=>i("name-asc"),children:"Nombre (A-Z)"}),e.jsx(x,{onClick:()=>i("name-desc"),children:"Nombre (Z-A)"}),e.jsx(x,{onClick:()=>i("value-asc"),children:"Valor (Menor a Mayor)"}),e.jsx(x,{onClick:()=>i("value-desc"),children:"Valor (Mayor a Menor)"})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:te.map(o=>e.jsx(Oe,{name:o.name,value:o.value,status:o.status,progress:o.progress,onClick:()=>s(`/cyclic-inventory/${encodeURIComponent(o.name)}`)},o.id))})]})}export{as as default};
