const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-ByHsDfok.js","assets/ui-vendor-CMKjsfuk.js","assets/react-vendor-C2WMxTOF.js","assets/utils-CUsTgaRG.js","assets/animation-DioOyNca.js","assets/excel-uoQkVabA.js","assets/index-CEF9X_LO.css"])))=>i.map(i=>d[i]);
import{c as Ge,B as U,X as bt,a as ie,P as Oe,l as ke,f as Ct,x as De,g as ve,p as Ke,q as Ye,r as et,s as tt,y as nt,$ as jt,E as q,U as Qe,S as Nt,I as St,_ as Mt,D as kt,a0 as Et}from"./index-ByHsDfok.js";import{j as t}from"./ui-vendor-CMKjsfuk.js";import{r as L,i as Pt,u as It}from"./react-vendor-C2WMxTOF.js";import{I as fe}from"./input-CYgORuOT.js";import{T as At,a as _t,b as Ee,c as Pe}from"./tabs-DcoNgqH9.js";import{r as Dt,u as xe,w as Lt}from"./excel-uoQkVabA.js";import{E as Tt}from"./jspdf.es.min-B-9FeyNV.js";import{P as Bt}from"./ProductImageHover-JqG4ALSR.js";import{B as He}from"./badge-Ck-z6OjO.js";import{S as $t,P as ze,A as Ft,B as Rt}from"./SwipeableItem-LyO5Xton.js";import{A as We,m as Ve}from"./animation-DioOyNca.js";import{D as Ot}from"./dollar-sign-CWcuV6K9.js";import{C as Qt,a as Ht,S as zt,F as Wt}from"./FabMenu-6dCZFa5A.js";import{C as ye}from"./CounterAnimation-BgfPRDaD.js";import{S as Vt}from"./switch-CdZBptj6.js";import{L as Ie}from"./label-DYURCGEr.js";import{C as qt}from"./circle-help-WThVxzGC.js";import"./utils-CUsTgaRG.js";import"./scanner-Ixn-YsBV.js";import"./plus-DDEdSUU9.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=Ge("Delete",[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=Ge("ScanBarcode",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 7v10",key:"23sfjj"}],["path",{d:"M12 7v10",key:"jspqdw"}],["path",{d:"M17 7v10",key:"578dap"}]]);var Te={};(function n(r,i,c,s){var u=!!(r.Worker&&r.Blob&&r.Promise&&r.OffscreenCanvas&&r.OffscreenCanvasRenderingContext2D&&r.HTMLCanvasElement&&r.HTMLCanvasElement.prototype.transferControlToOffscreen&&r.URL&&r.URL.createObjectURL),x=typeof Path2D=="function"&&typeof DOMMatrix=="function",N=function(){if(!r.OffscreenCanvas)return!1;try{var a=new OffscreenCanvas(1,1),e=a.getContext("2d");e.fillRect(0,0,1,1);var j=a.transferToImageBitmap();e.createPattern(j,"no-repeat")}catch{return!1}return!0}();function v(){}function M(a){var e=i.exports.Promise,j=e!==void 0?e:r.Promise;return typeof j=="function"?new j(a):(a(v,v),null)}var S=function(a,e){return{transform:function(j){if(a)return j;if(e.has(j))return e.get(j);var o=new OffscreenCanvas(j.width,j.height),d=o.getContext("2d");return d.drawImage(j,0,0),e.set(j,o),o},clear:function(){e.clear()}}}(N,new Map),T=function(){var a=Math.floor(16.666666666666668),e,j,o={},d=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(e=function(g){var m=Math.random();return o[m]=requestAnimationFrame(function f(C){d===C||d+a-1<C?(d=C,delete o[m],g()):o[m]=requestAnimationFrame(f)}),m},j=function(g){o[g]&&cancelAnimationFrame(o[g])}):(e=function(g){return setTimeout(g,a)},j=function(g){return clearTimeout(g)}),{frame:e,cancel:j}}(),p=function(){var a,e,j={};function o(d){function g(m,f){d.postMessage({options:m||{},callback:f})}d.init=function(f){var C=f.transferControlToOffscreen();d.postMessage({canvas:C},[C])},d.fire=function(f,C,I){if(e)return g(f,null),e;var F=Math.random().toString(36).slice(2);return e=M(function(P){function R(H){H.data.callback===F&&(delete j[F],d.removeEventListener("message",R),e=null,S.clear(),I(),P())}d.addEventListener("message",R),g(f,F),j[F]=R.bind(null,{data:{callback:F}})}),e},d.reset=function(){d.postMessage({reset:!0});for(var f in j)j[f](),delete j[f]}}return function(){if(a)return a;if(!c&&u){var d=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{a=new Worker(URL.createObjectURL(new Blob([d])))}catch(g){return typeof console<"u"&&typeof console.warn=="function"&&console.warn("游꿁 Could not load worker",g),null}o(a)}return a}}(),h={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function b(a,e){return e?e(a):a}function E(a){return a!=null}function l(a,e,j){return b(a&&E(a[e])?a[e]:h[e],j)}function k(a){return a<0?0:Math.floor(a)}function _(a,e){return Math.floor(Math.random()*(e-a))+a}function B(a){return parseInt(a,16)}function O(a){return a.map(D)}function D(a){var e=String(a).replace(/[^0-9a-f]/gi,"");return e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),{r:B(e.substring(0,2)),g:B(e.substring(2,4)),b:B(e.substring(4,6))}}function $(a){var e=l(a,"origin",Object);return e.x=l(e,"x",Number),e.y=l(e,"y",Number),e}function Q(a){a.width=document.documentElement.clientWidth,a.height=document.documentElement.clientHeight}function te(a){var e=a.getBoundingClientRect();a.width=e.width,a.height=e.height}function oe(a){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=a,e}function Y(a,e,j,o,d,g,m,f,C){a.save(),a.translate(e,j),a.rotate(g),a.scale(o,d),a.arc(0,0,1,m,f,C),a.restore()}function ne(a){var e=a.angle*(Math.PI/180),j=a.spread*(Math.PI/180);return{x:a.x,y:a.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:a.startVelocity*.5+Math.random()*a.startVelocity,angle2D:-e+(.5*j-Math.random()*j),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:a.color,shape:a.shape,tick:0,totalTicks:a.ticks,decay:a.decay,drift:a.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:a.gravity*3,ovalScalar:.6,scalar:a.scalar,flat:a.flat}}function le(a,e){e.x+=Math.cos(e.angle2D)*e.velocity+e.drift,e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity,e.velocity*=e.decay,e.flat?(e.wobble=0,e.wobbleX=e.x+10*e.scalar,e.wobbleY=e.y+10*e.scalar,e.tiltSin=0,e.tiltCos=0,e.random=1):(e.wobble+=e.wobbleSpeed,e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble),e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble),e.tiltAngle+=.1,e.tiltSin=Math.sin(e.tiltAngle),e.tiltCos=Math.cos(e.tiltAngle),e.random=Math.random()+2);var j=e.tick++/e.totalTicks,o=e.x+e.random*e.tiltCos,d=e.y+e.random*e.tiltSin,g=e.wobbleX+e.random*e.tiltCos,m=e.wobbleY+e.random*e.tiltSin;if(a.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-j)+")",a.beginPath(),x&&e.shape.type==="path"&&typeof e.shape.path=="string"&&Array.isArray(e.shape.matrix))a.fill(me(e.shape.path,e.shape.matrix,e.x,e.y,Math.abs(g-o)*.1,Math.abs(m-d)*.1,Math.PI/10*e.wobble));else if(e.shape.type==="bitmap"){var f=Math.PI/10*e.wobble,C=Math.abs(g-o)*.1,I=Math.abs(m-d)*.1,F=e.shape.bitmap.width*e.scalar,P=e.shape.bitmap.height*e.scalar,R=new DOMMatrix([Math.cos(f)*C,Math.sin(f)*C,-Math.sin(f)*I,Math.cos(f)*I,e.x,e.y]);R.multiplySelf(new DOMMatrix(e.shape.matrix));var H=a.createPattern(S.transform(e.shape.bitmap),"no-repeat");H.setTransform(R),a.globalAlpha=1-j,a.fillStyle=H,a.fillRect(e.x-F/2,e.y-P/2,F,P),a.globalAlpha=1}else if(e.shape==="circle")a.ellipse?a.ellipse(e.x,e.y,Math.abs(g-o)*e.ovalScalar,Math.abs(m-d)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):Y(a,e.x,e.y,Math.abs(g-o)*e.ovalScalar,Math.abs(m-d)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI);else if(e.shape==="star")for(var A=Math.PI/2*3,W=4*e.scalar,Z=8*e.scalar,J=e.x,X=e.y,ee=5,V=Math.PI/ee;ee--;)J=e.x+Math.cos(A)*Z,X=e.y+Math.sin(A)*Z,a.lineTo(J,X),A+=V,J=e.x+Math.cos(A)*W,X=e.y+Math.sin(A)*W,a.lineTo(J,X),A+=V;else a.moveTo(Math.floor(e.x),Math.floor(e.y)),a.lineTo(Math.floor(e.wobbleX),Math.floor(d)),a.lineTo(Math.floor(g),Math.floor(m)),a.lineTo(Math.floor(o),Math.floor(e.wobbleY));return a.closePath(),a.fill(),e.tick<e.totalTicks}function re(a,e,j,o,d){var g=e.slice(),m=a.getContext("2d"),f,C,I=M(function(F){function P(){f=C=null,m.clearRect(0,0,o.width,o.height),S.clear(),d(),F()}function R(){c&&!(o.width===s.width&&o.height===s.height)&&(o.width=a.width=s.width,o.height=a.height=s.height),!o.width&&!o.height&&(j(a),o.width=a.width,o.height=a.height),m.clearRect(0,0,o.width,o.height),g=g.filter(function(H){return le(m,H)}),g.length?f=T.frame(R):P()}f=T.frame(R),C=P});return{addFettis:function(F){return g=g.concat(F),I},canvas:a,promise:I,reset:function(){f&&T.cancel(f),C&&C()}}}function se(a,e){var j=!a,o=!!l(e||{},"resize"),d=!1,g=l(e,"disableForReducedMotion",Boolean),m=u&&!!l(e||{},"useWorker"),f=m?p():null,C=j?Q:te,I=a&&f?!!a.__confetti_initialized:!1,F=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,P;function R(A,W,Z){for(var J=l(A,"particleCount",k),X=l(A,"angle",Number),ee=l(A,"spread",Number),V=l(A,"startVelocity",Number),ae=l(A,"decay",Number),he=l(A,"gravity",Number),K=l(A,"drift",Number),Be=l(A,"colors",O),ft=l(A,"ticks",Number),$e=l(A,"shapes"),gt=l(A,"scalar"),xt=!!l(A,"flat"),Fe=$(A),Re=J,Me=[],yt=a.width*Fe.x,wt=a.height*Fe.y;Re--;)Me.push(ne({x:yt,y:wt,angle:X,spread:ee,startVelocity:V,color:Be[Re%Be.length],shape:$e[_(0,$e.length)],ticks:ft,decay:ae,gravity:he,drift:K,scalar:gt,flat:xt}));return P?P.addFettis(Me):(P=re(a,Me,C,W,Z),P.promise)}function H(A){var W=g||l(A,"disableForReducedMotion",Boolean),Z=l(A,"zIndex",Number);if(W&&F)return M(function(V){V()});j&&P?a=P.canvas:j&&!a&&(a=oe(Z),document.body.appendChild(a)),o&&!I&&C(a);var J={width:a.width,height:a.height};f&&!I&&f.init(a),I=!0,f&&(a.__confetti_initialized=!0);function X(){if(f){var V={getBoundingClientRect:function(){if(!j)return a.getBoundingClientRect()}};C(V),f.postMessage({resize:{width:V.width,height:V.height}});return}J.width=J.height=null}function ee(){P=null,o&&(d=!1,r.removeEventListener("resize",X)),j&&a&&(document.body.contains(a)&&document.body.removeChild(a),a=null,I=!1)}return o&&!d&&(d=!0,r.addEventListener("resize",X,!1)),f?f.fire(A,J,ee):R(A,J,ee)}return H.reset=function(){f&&f.reset(),P&&P.reset()},H}var ce;function ue(){return ce||(ce=se(null,{useWorker:!0,resize:!0})),ce}function me(a,e,j,o,d,g,m){var f=new Path2D(a),C=new Path2D;C.addPath(f,new DOMMatrix(e));var I=new Path2D;return I.addPath(C,new DOMMatrix([Math.cos(m)*d,Math.sin(m)*d,-Math.sin(m)*g,Math.cos(m)*g,j,o])),I}function pe(a){if(!x)throw new Error("path confetti are not supported in this browser");var e,j;typeof a=="string"?e=a:(e=a.path,j=a.matrix);var o=new Path2D(e),d=document.createElement("canvas"),g=d.getContext("2d");if(!j){for(var m=1e3,f=m,C=m,I=0,F=0,P,R,H=0;H<m;H+=2)for(var A=0;A<m;A+=2)g.isPointInPath(o,H,A,"nonzero")&&(f=Math.min(f,H),C=Math.min(C,A),I=Math.max(I,H),F=Math.max(F,A));P=I-f,R=F-C;var W=10,Z=Math.min(W/P,W/R);j=[Z,0,0,Z,-Math.round(P/2+f)*Z,-Math.round(R/2+C)*Z]}return{type:"path",path:e,matrix:j}}function Se(a){var e,j=1,o="#000000",d='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof a=="string"?e=a:(e=a.text,j="scalar"in a?a.scalar:j,d="fontFamily"in a?a.fontFamily:d,o="color"in a?a.color:o);var g=10*j,m=""+g+"px "+d,f=new OffscreenCanvas(g,g),C=f.getContext("2d");C.font=m;var I=C.measureText(e),F=Math.ceil(I.actualBoundingBoxRight+I.actualBoundingBoxLeft),P=Math.ceil(I.actualBoundingBoxAscent+I.actualBoundingBoxDescent),R=2,H=I.actualBoundingBoxLeft+R,A=I.actualBoundingBoxAscent+R;F+=R+R,P+=R+R,f=new OffscreenCanvas(F,P),C=f.getContext("2d"),C.font=m,C.fillStyle=o,C.fillText(e,H,A);var W=1/j;return{type:"bitmap",bitmap:f.transferToImageBitmap(),matrix:[W,0,0,W,-F*W/2,-P*W/2]}}i.exports=function(){return ue().apply(this,arguments)},i.exports.reset=function(){ue().reset()},i.exports.create=se,i.exports.shapeFromPath=pe,i.exports.shapeFromText=Se})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Te,!1);const Jt=Te.exports;Te.exports.create;function Xt({onResult:n,onClose:r,initialValue:i=""}){const[c,s]=L.useState(i),[u,x]=L.useState(""),N=h=>{s(b=>b==="0"?h:b+h)},v=h=>{x(c+" "+h+" "),s("")},M=()=>{s(""),x("")},S=()=>{try{const h=u+c;if(!/^[0-9+\-*/. ]+$/.test(h)){s("Error");return}const b=new Function("return "+h)();s(String(b)),x(""),n(Number(b))}catch{s("Error")}},T=()=>{s(h=>h.slice(0,-1))},p=[{label:"C",onClick:M,variant:"destructive",className:"col-span-1"},{label:"/",onClick:()=>v("/"),variant:"secondary"},{label:"*",onClick:()=>v("*"),variant:"secondary"},{label:t.jsx(Ut,{className:"w-4 h-4"}),onClick:T,variant:"secondary"},{label:"7",onClick:()=>N("7"),variant:"outline"},{label:"8",onClick:()=>N("8"),variant:"outline"},{label:"9",onClick:()=>N("9"),variant:"outline"},{label:"-",onClick:()=>v("-"),variant:"secondary"},{label:"4",onClick:()=>N("4"),variant:"outline"},{label:"5",onClick:()=>N("5"),variant:"outline"},{label:"6",onClick:()=>N("6"),variant:"outline"},{label:"+",onClick:()=>v("+"),variant:"secondary"},{label:"1",onClick:()=>N("1"),variant:"outline"},{label:"2",onClick:()=>N("2"),variant:"outline"},{label:"3",onClick:()=>N("3"),variant:"outline"},{label:"=",onClick:S,variant:"default",className:"row-span-2 h-full"},{label:"0",onClick:()=>N("0"),variant:"outline",className:"col-span-2"},{label:".",onClick:()=>N("."),variant:"outline"}];return t.jsxs("div",{className:"p-4 bg-card rounded-lg border shadow-lg max-w-xs mx-auto",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-xs text-muted-foreground font-mono h-4 block",children:u}),t.jsx(U,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:r,children:t.jsx(bt,{className:"w-4 h-4"})})]}),t.jsx("div",{className:"bg-muted p-3 rounded-md mb-4 text-right font-mono text-2xl font-bold tracking-wider overflow-hidden",children:c||"0"}),t.jsx("div",{className:"grid grid-cols-4 gap-2",children:p.map((h,b)=>t.jsx(U,{variant:h.variant,onClick:h.onClick,className:ie("h-12 text-lg font-medium",h.className),children:h.label},b))})]})}const Ae=L.memo(function({items:r,onUpdateQuantity:i,onCheck:c,onRevert:s,readOnly:u=!1}){const[x,N]=L.useState(null),[v,M]=L.useState(""),[S,T]=L.useState(!1),p=l=>{N(l.id),M(l.countedQuantity.toString()),T(!1)},h=()=>{if(x){const l=parseInt(v,10);!isNaN(l)&&l>=0&&(i(x,l),N(null))}},b=()=>{N(null),M(""),T(!1)},E=l=>{M(Math.floor(l).toString())};return r.length===0?t.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsx(Oe,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),t.jsx("p",{children:"No hay productos en esta lista"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"space-y-3",children:t.jsx(We,{mode:"popLayout",children:r.map(l=>{const k=l.countedQuantity-l.systemQuantity,_=k!==0,B=l.status==="controlled",O=k===0;return t.jsx(Ve.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},transition:{duration:.2},children:t.jsx($t,{disabled:u,...B?{leftAction:{label:"Editar",icon:t.jsx(ze,{className:"w-5 h-5"}),color:"text-blue-500",bgColor:"rgba(59, 130, 246, 0.2)",onAction:()=>p(l)},rightAction:s?{label:"Revertir",icon:t.jsx(De,{className:"w-5 h-5"}),color:"text-red-500",bgColor:"rgba(239, 68, 68, 0.2)",onAction:()=>s(l.id)}:void 0}:{leftAction:{label:"Confirmar",icon:t.jsx(ke,{className:"w-5 h-5"}),color:"text-green-600",bgColor:"rgba(22, 163, 74, 0.2)",onAction:()=>c(l.id)},rightAction:{label:"Diferencia",icon:t.jsx(Ct,{className:"w-5 h-5"}),color:"text-orange-500",bgColor:"rgba(249, 115, 22, 0.2)",onAction:()=>p(l)}},children:t.jsx(ve,{className:ie("p-4 hover:shadow-md transition-shadow border-0 rounded-none sm:rounded-xl sm:border"),onClick:()=>p(l),children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:ie("p-2 rounded-lg flex-shrink-0 transition-colors",B?"bg-success/10":"bg-primary/10"),children:B?t.jsx(ke,{className:"w-5 h-5 text-success"}):t.jsx(Oe,{className:"w-5 h-5 text-primary"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx(Bt,{ean:l.ean,name:l.name,children:t.jsx("h4",{className:"font-medium text-foreground truncate",title:l.name,children:l.name})}),t.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:[t.jsx("span",{className:"font-mono bg-muted px-1.5 py-0.5 rounded",children:l.ean}),l.cost>0&&t.jsxs("span",{className:"flex items-center text-muted-foreground",children:[t.jsx(Ot,{className:"w-3 h-3 mr-0.5"}),l.cost.toFixed(2)]}),(l.status==="controlled"||l.status==="adjusted")&&l.category&&t.jsx(He,{variant:"outline",className:"text-[10px] h-5 px-1.5 ml-auto",children:l.category})]}),t.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-[10px] uppercase text-muted-foreground font-semibold",children:"Sistema"}),t.jsx("span",{className:"text-sm font-medium",children:l.systemQuantity})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-[10px] uppercase text-muted-foreground font-semibold",children:"F칤sico"}),t.jsx("span",{className:ie("text-sm font-bold",_?"text-warning":"text-success"),children:l.countedQuantity})]}),_&&t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-[10px] uppercase text-muted-foreground font-semibold",children:"Diferencia"}),t.jsx(He,{variant:k>0?"default":"destructive",className:"h-5 px-1.5 text-[10px]",children:k>0?`+${k}`:k})]})]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(U,{size:"icon",variant:"ghost",className:"h-8 w-8 text-muted-foreground hover:text-primary",onClick:D=>{D.stopPropagation(),p(l)},children:t.jsx(ze,{className:"w-4 h-4"})}),l.status==="pending"&&t.jsx(U,{size:"icon",variant:O?"default":"secondary",className:ie("h-10 w-10 rounded-full shadow-sm flex-shrink-0 transition-all ml-1",O?"bg-success hover:bg-success/90 text-white":"hover:bg-warning/20 text-warning"),onClick:D=>{D.stopPropagation(),c(l.id)},children:t.jsx(ke,{className:"w-5 h-5"})}),l.status==="controlled"&&s&&t.jsx(U,{size:"icon",variant:"ghost",className:"h-8 w-8 text-muted-foreground hover:text-destructive hover:bg-destructive/10",onClick:D=>{D.stopPropagation(),s(l.id)},title:"Volver a pendientes",children:t.jsx(De,{className:"w-4 h-4"})})]})]})})})},l.id)})})}),t.jsx(Ke,{open:x!==null,onOpenChange:l=>!l&&b(),children:t.jsxs(Ye,{className:"sm:max-w-md",children:[t.jsx(et,{children:t.jsx(tt,{children:"Editar Cantidad"})}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"flex gap-2 items-end",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"Cantidad F칤sica"}),t.jsx(fe,{type:"number",min:"0",value:v,onChange:l=>M(l.target.value),onKeyDown:l=>{l.key==="Enter"&&h()},placeholder:"Ingresa la cantidad",autoFocus:!0})]}),t.jsx(U,{variant:S?"secondary":"outline",size:"icon",onClick:()=>T(!S),title:"Calculadora",children:t.jsx(Qt,{className:"w-4 h-4"})})]}),t.jsx(We,{children:S&&t.jsx(Ve.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:t.jsx(Xt,{onResult:E,onClose:()=>T(!1)})})})]}),t.jsxs(nt,{children:[t.jsx(U,{variant:"outline",onClick:b,children:"Cancelar"}),t.jsx(U,{onClick:h,children:"Guardar"})]})]})})]})}),Gt=jt("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),rt=L.forwardRef(({className:n,variant:r,...i},c)=>t.jsx("div",{ref:c,role:"alert",className:ie(Gt({variant:r}),n),...i}));rt.displayName="Alert";const at=L.forwardRef(({className:n,...r},i)=>t.jsx("h5",{ref:i,className:ie("mb-1 font-medium leading-none tracking-tight",n),...r}));at.displayName="AlertTitle";const ot=L.forwardRef(({className:n,...r},i)=>t.jsx("div",{ref:i,className:ie("text-sm [&_p]:leading-relaxed",n),...r}));ot.displayName="AlertDescription";let Le={},st;function _e(n={}){Le={animate:!0,allowClose:!0,overlayClickBehavior:"close",overlayOpacity:.7,smoothScroll:!1,disableActiveInteraction:!1,showProgress:!1,stagePadding:10,stageRadius:5,popoverOffset:10,showButtons:["next","previous","close"],disableButtons:[],overlayColor:"#000",...n}}function y(n){return n?Le[n]:Le}function Kt(n){st=n}function G(){return st}let je={};function we(n,r){je[n]=r}function de(n){var r;(r=je[n])==null||r.call(je)}function Yt(){je={}}function be(n,r,i,c){return(n/=c/2)<1?i/2*n*n+r:-i/2*(--n*(n-2)-1)+r}function it(n){const r='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])';return n.flatMap(i=>{const c=i.matches(r),s=Array.from(i.querySelectorAll(r));return[...c?[i]:[],...s]}).filter(i=>getComputedStyle(i).pointerEvents!=="none"&&nn(i))}function lt(n){if(!n||tn(n))return;const r=y("smoothScroll"),i=n.offsetHeight>window.innerHeight;n.scrollIntoView({behavior:!r||en(n)?"auto":"smooth",inline:"center",block:i?"start":"center"})}function en(n){if(!n||!n.parentElement)return;const r=n.parentElement;return r.scrollHeight>r.clientHeight}function tn(n){const r=n.getBoundingClientRect();return r.top>=0&&r.left>=0&&r.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&r.right<=(window.innerWidth||document.documentElement.clientWidth)}function nn(n){return!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length)}let Ne={};function z(n,r){Ne[n]=r}function w(n){return n?Ne[n]:Ne}function qe(){Ne={}}function rn(n,r,i,c){let s=w("__activeStagePosition");const u=s||i.getBoundingClientRect(),x=c.getBoundingClientRect(),N=be(n,u.x,x.x-u.x,r),v=be(n,u.y,x.y-u.y,r),M=be(n,u.width,x.width-u.width,r),S=be(n,u.height,x.height-u.height,r);s={x:N,y:v,width:M,height:S},dt(s),z("__activeStagePosition",s)}function ct(n){if(!n)return;const r=n.getBoundingClientRect(),i={x:r.x,y:r.y,width:r.width,height:r.height};z("__activeStagePosition",i),dt(i)}function an(){const n=w("__activeStagePosition"),r=w("__overlaySvg");if(!n)return;if(!r){console.warn("No stage svg found.");return}const i=window.innerWidth,c=window.innerHeight;r.setAttribute("viewBox",`0 0 ${i} ${c}`)}function on(n){const r=sn(n);document.body.appendChild(r),ht(r,i=>{i.target.tagName==="path"&&de("overlayClick")}),z("__overlaySvg",r)}function dt(n){const r=w("__overlaySvg");if(!r){on(n);return}const i=r.firstElementChild;if((i==null?void 0:i.tagName)!=="path")throw new Error("no path element found in stage svg");i.setAttribute("d",ut(n))}function sn(n){const r=window.innerWidth,i=window.innerHeight,c=document.createElementNS("http://www.w3.org/2000/svg","svg");c.classList.add("driver-overlay","driver-overlay-animated"),c.setAttribute("viewBox",`0 0 ${r} ${i}`),c.setAttribute("xmlSpace","preserve"),c.setAttribute("xmlnsXlink","http://www.w3.org/1999/xlink"),c.setAttribute("version","1.1"),c.setAttribute("preserveAspectRatio","xMinYMin slice"),c.style.fillRule="evenodd",c.style.clipRule="evenodd",c.style.strokeLinejoin="round",c.style.strokeMiterlimit="2",c.style.zIndex="10000",c.style.position="fixed",c.style.top="0",c.style.left="0",c.style.width="100%",c.style.height="100%";const s=document.createElementNS("http://www.w3.org/2000/svg","path");return s.setAttribute("d",ut(n)),s.style.fill=y("overlayColor")||"rgb(0,0,0)",s.style.opacity=`${y("overlayOpacity")}`,s.style.pointerEvents="auto",s.style.cursor="auto",c.appendChild(s),c}function ut(n){const r=window.innerWidth,i=window.innerHeight,c=y("stagePadding")||0,s=y("stageRadius")||0,u=n.width+c*2,x=n.height+c*2,N=Math.min(s,u/2,x/2),v=Math.floor(Math.max(N,0)),M=n.x-c+v,S=n.y-c,T=u-v*2,p=x-v*2;return`M${r},0L0,0L0,${i}L${r},${i}L${r},0Z
    M${M},${S} h${T} a${v},${v} 0 0 1 ${v},${v} v${p} a${v},${v} 0 0 1 -${v},${v} h-${T} a${v},${v} 0 0 1 -${v},-${v} v-${p} a${v},${v} 0 0 1 ${v},-${v} z`}function ln(){const n=w("__overlaySvg");n&&n.remove()}function cn(){const n=document.getElementById("driver-dummy-element");if(n)return n;let r=document.createElement("div");return r.id="driver-dummy-element",r.style.width="0",r.style.height="0",r.style.pointerEvents="none",r.style.opacity="0",r.style.position="fixed",r.style.top="50%",r.style.left="50%",document.body.appendChild(r),r}function Ue(n){const{element:r}=n;let i=typeof r=="function"?r():typeof r=="string"?document.querySelector(r):r;i||(i=cn()),un(i,n)}function dn(){const n=w("__activeElement"),r=w("__activeStep");n&&(ct(n),an(),mt(n,r))}function un(n,r){var i;const c=Date.now(),s=w("__activeStep"),u=w("__activeElement")||n,x=!u||u===n,N=n.id==="driver-dummy-element",v=u.id==="driver-dummy-element",M=y("animate"),S=r.onHighlightStarted||y("onHighlightStarted"),T=(r==null?void 0:r.onHighlighted)||y("onHighlighted"),p=(s==null?void 0:s.onDeselected)||y("onDeselected"),h=y(),b=w();!x&&p&&p(v?void 0:u,s,{config:h,state:b,driver:G()}),S&&S(N?void 0:n,r,{config:h,state:b,driver:G()});const E=!x&&M;let l=!1;fn(),z("previousStep",s),z("previousElement",u),z("activeStep",r),z("activeElement",n);const k=()=>{if(w("__transitionCallback")!==k)return;const _=Date.now()-c,B=400-_<=400/2;r.popover&&B&&!l&&E&&(Ze(n,r),l=!0),y("animate")&&_<400?rn(_,400,u,n):(ct(n),T&&T(N?void 0:n,r,{config:y(),state:w(),driver:G()}),z("__transitionCallback",void 0),z("__previousStep",s),z("__previousElement",u),z("__activeStep",r),z("__activeElement",n)),window.requestAnimationFrame(k)};z("__transitionCallback",k),window.requestAnimationFrame(k),lt(n),!E&&r.popover&&Ze(n,r),u.classList.remove("driver-active-element","driver-no-interaction"),u.removeAttribute("aria-haspopup"),u.removeAttribute("aria-expanded"),u.removeAttribute("aria-controls"),((i=r.disableActiveInteraction)!=null?i:y("disableActiveInteraction"))&&n.classList.add("driver-no-interaction"),n.classList.add("driver-active-element"),n.setAttribute("aria-haspopup","dialog"),n.setAttribute("aria-expanded","true"),n.setAttribute("aria-controls","driver-popover-content")}function pn(){var n;(n=document.getElementById("driver-dummy-element"))==null||n.remove(),document.querySelectorAll(".driver-active-element").forEach(r=>{r.classList.remove("driver-active-element","driver-no-interaction"),r.removeAttribute("aria-haspopup"),r.removeAttribute("aria-expanded"),r.removeAttribute("aria-controls")})}function ge(){const n=w("__resizeTimeout");n&&window.cancelAnimationFrame(n),z("__resizeTimeout",window.requestAnimationFrame(dn))}function hn(n){var r;if(!w("isInitialized")||!(n.key==="Tab"||n.keyCode===9))return;const i=w("__activeElement"),c=(r=w("popover"))==null?void 0:r.wrapper,s=it([...c?[c]:[],...i?[i]:[]]),u=s[0],x=s[s.length-1];if(n.preventDefault(),n.shiftKey){const N=s[s.indexOf(document.activeElement)-1]||x;N==null||N.focus()}else{const N=s[s.indexOf(document.activeElement)+1]||u;N==null||N.focus()}}function pt(n){var r;((r=y("allowKeyboardControl"))==null||r)&&(n.key==="Escape"?de("escapePress"):n.key==="ArrowRight"?de("arrowRightPress"):n.key==="ArrowLeft"&&de("arrowLeftPress"))}function ht(n,r,i){const c=(s,u)=>{const x=s.target;n.contains(x)&&((!i||i(x))&&(s.preventDefault(),s.stopPropagation(),s.stopImmediatePropagation()),u==null||u(s))};document.addEventListener("pointerdown",c,!0),document.addEventListener("mousedown",c,!0),document.addEventListener("pointerup",c,!0),document.addEventListener("mouseup",c,!0),document.addEventListener("click",s=>{c(s,r)},!0)}function vn(){window.addEventListener("keyup",pt,!1),window.addEventListener("keydown",hn,!1),window.addEventListener("resize",ge),window.addEventListener("scroll",ge)}function mn(){window.removeEventListener("keyup",pt),window.removeEventListener("resize",ge),window.removeEventListener("scroll",ge)}function fn(){const n=w("popover");n&&(n.wrapper.style.display="none")}function Ze(n,r){var i,c;let s=w("popover");s&&document.body.removeChild(s.wrapper),s=xn(),document.body.appendChild(s.wrapper);const{title:u,description:x,showButtons:N,disableButtons:v,showProgress:M,nextBtnText:S=y("nextBtnText")||"Next &rarr;",prevBtnText:T=y("prevBtnText")||"&larr; Previous",progressText:p=y("progressText")||"{current} of {total}"}=r.popover||{};s.nextButton.innerHTML=S,s.previousButton.innerHTML=T,s.progress.innerHTML=p,u?(s.title.innerHTML=u,s.title.style.display="block"):s.title.style.display="none",x?(s.description.innerHTML=x,s.description.style.display="block"):s.description.style.display="none";const h=N||y("showButtons"),b=M||y("showProgress")||!1,E=(h==null?void 0:h.includes("next"))||(h==null?void 0:h.includes("previous"))||b;s.closeButton.style.display=h.includes("close")?"block":"none",E?(s.footer.style.display="flex",s.progress.style.display=b?"block":"none",s.nextButton.style.display=h.includes("next")?"block":"none",s.previousButton.style.display=h.includes("previous")?"block":"none"):s.footer.style.display="none";const l=v||y("disableButtons")||[];l!=null&&l.includes("next")&&(s.nextButton.disabled=!0,s.nextButton.classList.add("driver-popover-btn-disabled")),l!=null&&l.includes("previous")&&(s.previousButton.disabled=!0,s.previousButton.classList.add("driver-popover-btn-disabled")),l!=null&&l.includes("close")&&(s.closeButton.disabled=!0,s.closeButton.classList.add("driver-popover-btn-disabled"));const k=s.wrapper;k.style.display="block",k.style.left="",k.style.top="",k.style.bottom="",k.style.right="",k.id="driver-popover-content",k.setAttribute("role","dialog"),k.setAttribute("aria-labelledby","driver-popover-title"),k.setAttribute("aria-describedby","driver-popover-description");const _=s.arrow;_.className="driver-popover-arrow";const B=((i=r.popover)==null?void 0:i.popoverClass)||y("popoverClass")||"";k.className=`driver-popover ${B}`.trim(),ht(s.wrapper,Q=>{var te,oe,Y;const ne=Q.target,le=((te=r.popover)==null?void 0:te.onNextClick)||y("onNextClick"),re=((oe=r.popover)==null?void 0:oe.onPrevClick)||y("onPrevClick"),se=((Y=r.popover)==null?void 0:Y.onCloseClick)||y("onCloseClick");if(ne.closest(".driver-popover-next-btn"))return le?le(n,r,{config:y(),state:w(),driver:G()}):de("nextClick");if(ne.closest(".driver-popover-prev-btn"))return re?re(n,r,{config:y(),state:w(),driver:G()}):de("prevClick");if(ne.closest(".driver-popover-close-btn"))return se?se(n,r,{config:y(),state:w(),driver:G()}):de("closeClick")},Q=>!(s!=null&&s.description.contains(Q))&&!(s!=null&&s.title.contains(Q))&&typeof Q.className=="string"&&Q.className.includes("driver-popover")),z("popover",s);const O=((c=r.popover)==null?void 0:c.onPopoverRender)||y("onPopoverRender");O&&O(s,{config:y(),state:w(),driver:G()}),mt(n,r),lt(k);const D=n.classList.contains("driver-dummy-element"),$=it([k,...D?[]:[n]]);$.length>0&&$[0].focus()}function vt(){const n=w("popover");if(!(n!=null&&n.wrapper))return;const r=n.wrapper.getBoundingClientRect(),i=y("stagePadding")||0,c=y("popoverOffset")||0;return{width:r.width+i+c,height:r.height+i+c,realWidth:r.width,realHeight:r.height}}function Je(n,r){const{elementDimensions:i,popoverDimensions:c,popoverPadding:s,popoverArrowDimensions:u}=r;return n==="start"?Math.max(Math.min(i.top-s,window.innerHeight-c.realHeight-u.width),u.width):n==="end"?Math.max(Math.min(i.top-(c==null?void 0:c.realHeight)+i.height+s,window.innerHeight-(c==null?void 0:c.realHeight)-u.width),u.width):n==="center"?Math.max(Math.min(i.top+i.height/2-(c==null?void 0:c.realHeight)/2,window.innerHeight-(c==null?void 0:c.realHeight)-u.width),u.width):0}function Xe(n,r){const{elementDimensions:i,popoverDimensions:c,popoverPadding:s,popoverArrowDimensions:u}=r;return n==="start"?Math.max(Math.min(i.left-s,window.innerWidth-c.realWidth-u.width),u.width):n==="end"?Math.max(Math.min(i.left-(c==null?void 0:c.realWidth)+i.width+s,window.innerWidth-(c==null?void 0:c.realWidth)-u.width),u.width):n==="center"?Math.max(Math.min(i.left+i.width/2-(c==null?void 0:c.realWidth)/2,window.innerWidth-(c==null?void 0:c.realWidth)-u.width),u.width):0}function mt(n,r){const i=w("popover");if(!i)return;const{align:c="start",side:s="left"}=(r==null?void 0:r.popover)||{},u=c,x=n.id==="driver-dummy-element"?"over":s,N=y("stagePadding")||0,v=vt(),M=i.arrow.getBoundingClientRect(),S=n.getBoundingClientRect(),T=S.top-v.height;let p=T>=0;const h=window.innerHeight-(S.bottom+v.height);let b=h>=0;const E=S.left-v.width;let l=E>=0;const k=window.innerWidth-(S.right+v.width);let _=k>=0;const B=!p&&!b&&!l&&!_;let O=x;if(x==="top"&&p?_=l=b=!1:x==="bottom"&&b?_=l=p=!1:x==="left"&&l?_=p=b=!1:x==="right"&&_&&(l=p=b=!1),x==="over"){const D=window.innerWidth/2-v.realWidth/2,$=window.innerHeight/2-v.realHeight/2;i.wrapper.style.left=`${D}px`,i.wrapper.style.right="auto",i.wrapper.style.top=`${$}px`,i.wrapper.style.bottom="auto"}else if(B){const D=window.innerWidth/2-(v==null?void 0:v.realWidth)/2,$=10;i.wrapper.style.left=`${D}px`,i.wrapper.style.right="auto",i.wrapper.style.bottom=`${$}px`,i.wrapper.style.top="auto"}else if(l){const D=Math.min(E,window.innerWidth-(v==null?void 0:v.realWidth)-M.width),$=Je(u,{elementDimensions:S,popoverDimensions:v,popoverPadding:N,popoverArrowDimensions:M});i.wrapper.style.left=`${D}px`,i.wrapper.style.top=`${$}px`,i.wrapper.style.bottom="auto",i.wrapper.style.right="auto",O="left"}else if(_){const D=Math.min(k,window.innerWidth-(v==null?void 0:v.realWidth)-M.width),$=Je(u,{elementDimensions:S,popoverDimensions:v,popoverPadding:N,popoverArrowDimensions:M});i.wrapper.style.right=`${D}px`,i.wrapper.style.top=`${$}px`,i.wrapper.style.bottom="auto",i.wrapper.style.left="auto",O="right"}else if(p){const D=Math.min(T,window.innerHeight-v.realHeight-M.width);let $=Xe(u,{elementDimensions:S,popoverDimensions:v,popoverPadding:N,popoverArrowDimensions:M});i.wrapper.style.top=`${D}px`,i.wrapper.style.left=`${$}px`,i.wrapper.style.bottom="auto",i.wrapper.style.right="auto",O="top"}else if(b){const D=Math.min(h,window.innerHeight-(v==null?void 0:v.realHeight)-M.width);let $=Xe(u,{elementDimensions:S,popoverDimensions:v,popoverPadding:N,popoverArrowDimensions:M});i.wrapper.style.left=`${$}px`,i.wrapper.style.bottom=`${D}px`,i.wrapper.style.top="auto",i.wrapper.style.right="auto",O="bottom"}B?i.arrow.classList.add("driver-popover-arrow-none"):gn(u,O,n)}function gn(n,r,i){const c=w("popover");if(!c)return;const s=i.getBoundingClientRect(),u=vt(),x=c.arrow,N=u.width,v=window.innerWidth,M=s.width,S=s.left,T=u.height,p=window.innerHeight,h=s.top,b=s.height;x.className="driver-popover-arrow";let E=r,l=n;if(r==="top"?(S+M<=0?(E="right",l="end"):S+M-N<=0&&(E="top",l="start"),S>=v?(E="left",l="end"):S+N>=v&&(E="top",l="end")):r==="bottom"?(S+M<=0?(E="right",l="start"):S+M-N<=0&&(E="bottom",l="start"),S>=v?(E="left",l="start"):S+N>=v&&(E="bottom",l="end")):r==="left"?(h+b<=0?(E="bottom",l="end"):h+b-T<=0&&(E="left",l="start"),h>=p?(E="top",l="end"):h+T>=p&&(E="left",l="end")):r==="right"&&(h+b<=0?(E="bottom",l="start"):h+b-T<=0&&(E="right",l="start"),h>=p?(E="top",l="start"):h+T>=p&&(E="right",l="end")),!E)x.classList.add("driver-popover-arrow-none");else{x.classList.add(`driver-popover-arrow-side-${E}`),x.classList.add(`driver-popover-arrow-align-${l}`);const k=i.getBoundingClientRect(),_=x.getBoundingClientRect(),B=y("stagePadding")||0,O=k.left-B<window.innerWidth&&k.right+B>0&&k.top-B<window.innerHeight&&k.bottom+B>0;r==="bottom"&&O&&(_.x>k.x&&_.x+_.width<k.x+k.width?c.wrapper.style.transform="translateY(0)":(x.classList.remove(`driver-popover-arrow-align-${l}`),x.classList.add("driver-popover-arrow-none"),c.wrapper.style.transform=`translateY(-${B/2}px)`))}}function xn(){const n=document.createElement("div");n.classList.add("driver-popover");const r=document.createElement("div");r.classList.add("driver-popover-arrow");const i=document.createElement("header");i.id="driver-popover-title",i.classList.add("driver-popover-title"),i.style.display="none",i.innerText="Popover Title";const c=document.createElement("div");c.id="driver-popover-description",c.classList.add("driver-popover-description"),c.style.display="none",c.innerText="Popover description is here";const s=document.createElement("button");s.type="button",s.classList.add("driver-popover-close-btn"),s.setAttribute("aria-label","Close"),s.innerHTML="&times;";const u=document.createElement("footer");u.classList.add("driver-popover-footer");const x=document.createElement("span");x.classList.add("driver-popover-progress-text"),x.innerText="";const N=document.createElement("span");N.classList.add("driver-popover-navigation-btns");const v=document.createElement("button");v.type="button",v.classList.add("driver-popover-prev-btn"),v.innerHTML="&larr; Previous";const M=document.createElement("button");return M.type="button",M.classList.add("driver-popover-next-btn"),M.innerHTML="Next &rarr;",N.appendChild(v),N.appendChild(M),u.appendChild(x),u.appendChild(N),n.appendChild(s),n.appendChild(r),n.appendChild(i),n.appendChild(c),n.appendChild(u),{wrapper:n,arrow:r,title:i,description:c,footer:u,previousButton:v,nextButton:M,closeButton:s,footerButtons:N,progress:x}}function yn(){var n;const r=w("popover");r&&((n=r.wrapper.parentElement)==null||n.removeChild(r.wrapper))}function wn(n={}){_e(n);function r(){y("allowClose")&&S()}function i(){const p=y("overlayClickBehavior");if(y("allowClose")&&p==="close"){S();return}if(typeof p=="function"){const h=w("__activeStep"),b=w("__activeElement");p(b,h,{config:y(),state:w(),driver:G()});return}p==="nextStep"&&c()}function c(){const p=w("activeIndex"),h=y("steps")||[];if(typeof p>"u")return;const b=p+1;h[b]?M(b):S()}function s(){const p=w("activeIndex"),h=y("steps")||[];if(typeof p>"u")return;const b=p-1;h[b]?M(b):S()}function u(p){(y("steps")||[])[p]?M(p):S()}function x(){var p;if(w("__transitionCallback"))return;const h=w("activeIndex"),b=w("__activeStep"),E=w("__activeElement");if(typeof h>"u"||typeof b>"u"||typeof w("activeIndex")>"u")return;const l=((p=b.popover)==null?void 0:p.onPrevClick)||y("onPrevClick");if(l)return l(E,b,{config:y(),state:w(),driver:G()});s()}function N(){var p;if(w("__transitionCallback"))return;const h=w("activeIndex"),b=w("__activeStep"),E=w("__activeElement");if(typeof h>"u"||typeof b>"u")return;const l=((p=b.popover)==null?void 0:p.onNextClick)||y("onNextClick");if(l)return l(E,b,{config:y(),state:w(),driver:G()});c()}function v(){w("isInitialized")||(z("isInitialized",!0),document.body.classList.add("driver-active",y("animate")?"driver-fade":"driver-simple"),vn(),we("overlayClick",i),we("escapePress",r),we("arrowLeftPress",x),we("arrowRightPress",N))}function M(p=0){var h,b,E,l,k,_,B,O;const D=y("steps");if(!D){console.error("No steps to drive through"),S();return}if(!D[p]){S();return}z("__activeOnDestroyed",document.activeElement),z("activeIndex",p);const $=D[p],Q=D[p+1],te=D[p-1],oe=((h=$.popover)==null?void 0:h.doneBtnText)||y("doneBtnText")||"Done",Y=y("allowClose"),ne=typeof((b=$.popover)==null?void 0:b.showProgress)<"u"?(E=$.popover)==null?void 0:E.showProgress:y("showProgress"),le=(((l=$.popover)==null?void 0:l.progressText)||y("progressText")||"{{current}} of {{total}}").replace("{{current}}",`${p+1}`).replace("{{total}}",`${D.length}`),re=((k=$.popover)==null?void 0:k.showButtons)||y("showButtons"),se=["next","previous",...Y?["close"]:[]].filter(pe=>!(re!=null&&re.length)||re.includes(pe)),ce=((_=$.popover)==null?void 0:_.onNextClick)||y("onNextClick"),ue=((B=$.popover)==null?void 0:B.onPrevClick)||y("onPrevClick"),me=((O=$.popover)==null?void 0:O.onCloseClick)||y("onCloseClick");Ue({...$,popover:{showButtons:se,nextBtnText:Q?void 0:oe,disableButtons:[...te?[]:["previous"]],showProgress:ne,progressText:le,onNextClick:ce||(()=>{Q?M(p+1):S()}),onPrevClick:ue||(()=>{M(p-1)}),onCloseClick:me||(()=>{S()}),...($==null?void 0:$.popover)||{}}})}function S(p=!0){const h=w("__activeElement"),b=w("__activeStep"),E=w("__activeOnDestroyed"),l=y("onDestroyStarted");if(p&&l){const B=!h||(h==null?void 0:h.id)==="driver-dummy-element";l(B?void 0:h,b,{config:y(),state:w(),driver:G()});return}const k=(b==null?void 0:b.onDeselected)||y("onDeselected"),_=y("onDestroyed");if(document.body.classList.remove("driver-active","driver-fade","driver-simple"),mn(),yn(),pn(),ln(),Yt(),qe(),h&&b){const B=h.id==="driver-dummy-element";k&&k(B?void 0:h,b,{config:y(),state:w(),driver:G()}),_&&_(B?void 0:h,b,{config:y(),state:w(),driver:G()})}E&&E.focus()}const T={isActive:()=>w("isInitialized")||!1,refresh:ge,drive:(p=0)=>{v(),M(p)},setConfig:_e,setSteps:p=>{qe(),_e({...y(),steps:p})},getConfig:y,getState:w,getActiveIndex:()=>w("activeIndex"),isFirstStep:()=>w("activeIndex")===0,isLastStep:()=>{const p=y("steps")||[],h=w("activeIndex");return h!==void 0&&h===p.length-1},getActiveStep:()=>w("activeStep"),getActiveElement:()=>w("activeElement"),getPreviousElement:()=>w("previousElement"),getPreviousStep:()=>w("previousStep"),moveNext:c,movePrevious:s,moveTo:u,hasNextStep:()=>{const p=y("steps")||[],h=w("activeIndex");return h!==void 0&&!!p[h+1]},hasPreviousStep:()=>{const p=y("steps")||[],h=w("activeIndex");return h!==void 0&&!!p[h-1]},highlight:p=>{v(),Ue({...p,popover:p.popover?{showButtons:[],showProgress:!1,progressText:"",...p.popover}:void 0})},destroy:()=>{S(!1)}};return Kt(T),T}function bn(){const n=()=>{wn({showProgress:!0,steps:[{element:"#diff-mode",popover:{title:"Solo Diferencias",description:"Activa este interruptor para ver solo los productos que tienen diferencias entre el stock f칤sico y el del sistema.",side:"bottom",align:"start"}},{element:'[role="tablist"]',popover:{title:"Pesta침as de Estado",description:'Navega entre "Pendientes" y "Controlados" para organizar tu trabajo.',side:"bottom",align:"start"}},{element:".bg-card.relative",popover:{title:"Acciones R치pidas",description:"Desliza a la derecha para Confirmar/Editar o a la izquierda para reportar Diferencia/Revertir.",side:"top",align:"start"}},{element:"button:has(.lucide-save)",popover:{title:"Finalizar Inventario",description:"Cuando termines, guarda el estado del inventario aqu칤.",side:"left",align:"start"}}]}).drive()};return L.useEffect(()=>{localStorage.getItem("has_seen_inventory_tour")||setTimeout(()=>{n(),localStorage.setItem("has_seen_inventory_tour","true")},1e3)},[]),t.jsx(U,{variant:"ghost",size:"icon",onClick:n,title:"Ver Tutorial",children:t.jsx(qt,{className:"w-5 h-5"})})}const Ce=["Medicamentos","Perfumer칤a","Accesorios","Varios"];function Hn(){const{id:n}=Pt(),r=It(),[i,c]=L.useState(!1),[s,u]=L.useState([]),[x,N]=L.useState(""),[v,M]=L.useState(""),[S,T]=L.useState(!1),[p,h]=L.useState(Ce[0]),[b,E]=L.useState(!1),[l,k]=L.useState(""),[_,B]=L.useState("");L.useEffect(()=>{n&&N(decodeURIComponent(n))},[n]),L.useEffect(()=>{if(x){const o=localStorage.getItem(`cyclic_inventory_${x}`);if(o)try{const d=JSON.parse(o);if(Array.isArray(d)){const g=d.filter(m=>m&&typeof m=="object"&&typeof m.id=="string"&&typeof m.name=="string"&&typeof m.systemQuantity=="number"&&typeof m.countedQuantity=="number");g.length!==d.length&&console.warn(`Filtered out ${d.length-g.length} invalid items.`),u(g)}else console.warn("Invalid inventory data format in localStorage, resetting."),u([])}catch(d){console.error("Failed to load saved inventory",d),u([])}}},[x]),L.useEffect(()=>{x&&s.length>0&&localStorage.setItem(`cyclic_inventory_${x}`,JSON.stringify(s))},[s,x]);const O=L.useMemo(()=>s.filter(o=>{if(v){const d=v.toLowerCase();if(!o.name.toLowerCase().includes(d)&&!o.ean.includes(d))return!1}return S?o.countedQuantity!==o.systemQuantity:!0}),[s,v,S]),D=L.useMemo(()=>O.filter(o=>o.status==="pending"&&(o.category===p||!o.category&&p==="Varios")),[O,p]),$=o=>[...o].sort((d,g)=>{const m=d.countedQuantity-d.systemQuantity,f=g.countedQuantity-g.systemQuantity,C=m!==0,I=f!==0;return C&&!I?-1:!C&&I?1:m-f}),Q=L.useMemo(()=>$(O.filter(o=>o.status==="controlled")),[O]),te=L.useMemo(()=>$(O.filter(o=>o.status==="adjusted")),[O]),oe=async o=>{var m;const d=(m=o.target.files)==null?void 0:m[0];if(!d)return;c(!0);const g=new FileReader;g.onload=f=>{var C,I,F;try{const P=(C=f.target)==null?void 0:C.result,R=Dt(P,{type:"binary"}),H=R.SheetNames[0],A=R.Sheets[H],W=xe.sheet_to_json(A,{header:1}),Z=[...s],J=new Set(s.map(V=>V.ean));let X=0,ee=0;for(let V=1;V<W.length;V++){const ae=W[V];if(!ae||!ae[3])continue;const he=(I=ae[2])==null?void 0:I.toString().trim();if(!he)continue;if(J.has(he)){ee++;continue}let K=(F=ae[9])==null?void 0:F.toString().trim();K&&(K==="Medicamento"&&(K="Medicamentos"),K==="Perfumeria"&&(K="Perfumer칤a")),(!K||!Ce.includes(K))&&(Ce.includes(K)||(K="Varios")),Z.push({id:crypto.randomUUID(),ean:he,name:ae[3],systemQuantity:Number(ae[4])||0,countedQuantity:Number(ae[4])||0,cost:Number(ae[12])||0,status:"pending",category:K}),J.add(he),X++}u(Z),ee>0?q.success(`Procesado. ${X} nuevos, ${ee} ignorados (ya existentes/ajustados).`):q.success(`Archivo procesado. Se agregaron ${X} items nuevos.`)}catch(P){console.error("Error reading file:",P),q.error("Error al procesar el archivo Excel.")}finally{c(!1),o.target.value=""}},g.readAsBinaryString(d)},Y=L.useCallback((o,d)=>{u(g=>g.map(m=>m.id===o?(d-m.systemQuantity!==0&&navigator.vibrate?navigator.vibrate([50,50,50]):navigator.vibrate&&navigator.vibrate(50),{...m,countedQuantity:d,status:"controlled"}):m))},[]),ne=L.useCallback(o=>{navigator.vibrate&&navigator.vibrate(50),Jt({particleCount:100,spread:70,origin:{y:.6}}),u(d=>d.map(g=>g.id===o?{...g,status:"controlled",countedQuantity:g.systemQuantity}:g)),q.success("Producto controlado")},[]),le=L.useCallback(o=>{u(d=>d.map(g=>g.id===o?{...g,status:"pending"}:g)),q.info("Producto devuelto a pendientes")},[]),re=()=>{const o=Q.filter(P=>P.countedQuantity<P.systemQuantity),d=Q.filter(P=>P.countedQuantity>P.systemQuantity),g=o.length>0,m=d.length>0;if(g&&!l.trim()){q.error("Por favor ingresa el ID de ajuste para Faltantes");return}if(m&&!_.trim()){q.error("Por favor ingresa el ID de ajuste para Sobrantes");return}const f=s.map(P=>P.status==="controlled"?{...P,status:"adjusted"}:P);u(f);const F={status:f.some(P=>P.status==="pending")?"por_controlar":"controlado",lastUpdated:Date.now(),shortageId:l,surplusId:_,items:f};localStorage.setItem(`cyclic_inventory_status_${x}`,JSON.stringify(F)),Et(async()=>{const{OfflineQueue:P}=await import("./index-ByHsDfok.js").then(R=>R.ae);return{OfflineQueue:P}},__vite__mapDeps([0,1,2,3,4,5,6])).then(({OfflineQueue:P})=>{P.enqueue("SAVE_INVENTORY",{labName:x,shortageId:l,surplusId:_,items:f}),navigator.onLine?q.success("Ajustes guardados correctamente."):q.info("Guardado en cola. Se sincronizar치 cuando recuperes la conexi칩n.")}),E(!1),k(""),B("")},se=Q.filter(o=>o.countedQuantity<o.systemQuantity).reduce((o,d)=>o+(d.systemQuantity-d.countedQuantity)*d.cost,0),ce=Q.filter(o=>o.countedQuantity>o.systemQuantity).reduce((o,d)=>o+(d.countedQuantity-d.systemQuantity)*d.cost,0),ue=()=>{const o=s.map(m=>({EAN:m.ean,Producto:m.name,Laboratorio:x,Rubro:m.category||"Varios","Cantidad Sistema":m.systemQuantity,"Cantidad F칤sica":m.countedQuantity,Diferencia:m.countedQuantity-m.systemQuantity,Costo:m.cost,Estado:m.status==="controlled"?"CONTROLADO":m.status==="adjusted"?"AJUSTADO":"PENDIENTE"})),d=xe.json_to_sheet(o),g=xe.book_new();xe.book_append_sheet(g,d,"Inventario"),Lt(g,`Inventario_${x}.xlsx`),q.success("Excel generado")},[me,pe]=L.useState(!1),Se=L.useCallback(o=>{const d=s.find(g=>g.ean===o);d?(Y(d.id,d.countedQuantity+1),q.success(`Producto encontrado: ${d.name}`)):q.error(`Producto no encontrado: ${o}`)},[s,Y]),a=L.useCallback(o=>{let d=0,g=0;const m=new Map;s.forEach(f=>m.set(f.id,f.countedQuantity)),o.forEach(f=>{const C=s.find(I=>I.ean===f);if(C){const I=m.get(C.id)||0;m.set(C.id,I+1),d++}else g++}),d>0&&(u(f=>f.map(C=>{if(m.has(C.id)){const I=m.get(C.id);if(I!==C.countedQuantity)return{...C,countedQuantity:I,status:"controlled"}}return C})),q.success(`Procesados ${d} items correctamente.`)),g>0&&q.warning(`${g} c칩digos no encontrados.`)},[s]),e=()=>{const o=new Tt;o.setFontSize(16),o.text(`Inventario C칤clico: ${x}`,10,10),o.setFontSize(10),o.text(`Fecha: ${new Date().toLocaleDateString()}`,10,18);let d=30;const g=10,m=o.internal.pageSize.height;o.setFont("helvetica","bold"),o.text("Producto",10,d),o.text("Rubro",80,d),o.text("Sistema",100,d),o.text("F칤sico",130,d),o.text("Dif",160,d),o.text("Estado",180,d),d+=g,o.setFont("helvetica","normal"),s.forEach(f=>{d>m-20&&(o.addPage(),d=20);const C=f.countedQuantity-f.systemQuantity;o.text(f.name.substring(0,35),10,d),o.text((f.category||"Varios").substring(0,15),80,d),o.text(f.systemQuantity.toString(),100,d),o.text(f.countedQuantity.toString(),130,d),o.setTextColor(C===0?0:255,0,0),o.text(C.toString(),160,d),o.setTextColor(0),o.text(f.status==="controlled"?"OK":f.status==="adjusted"?"Ajust":"Pend",180,d),d+=g}),o.save(`Inventario_${x}_${new Date().toISOString().split("T")[0]}.pdf`),q.success("Reporte PDF generado")},j=()=>{confirm("쮼st치s seguro de que quieres reiniciar los datos de este laboratorio? Se perder치n los cambios no guardados.")&&(localStorage.removeItem(`cyclic_inventory_${x}`),localStorage.removeItem(`cyclic_inventory_status_${x}`),u([]),q.success("Datos reiniciados correctamente."),r("/cyclic-inventory"))};return t.jsxs("div",{className:"p-4 md:p-6 space-y-6 max-w-7xl mx-auto pb-32 lg:pb-10",children:[t.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(U,{variant:"ghost",size:"icon",onClick:()=>r("/cyclic-inventory"),children:t.jsx(Ft,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:x}),t.jsx("p",{className:"text-muted-foreground text-sm",children:"Control de Inventario C칤clico"})]})]}),t.jsx("div",{className:"flex gap-2",children:t.jsx(bn,{})})]}),s.length===0?t.jsxs(ve,{className:"p-12 border-dashed border-2 flex flex-col items-center justify-center text-center space-y-4 bg-muted/20",children:[t.jsx("div",{className:"p-4 bg-primary/10 rounded-full",children:t.jsx(Qe,{className:"w-8 h-8 text-primary"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Cargar Archivo de Inventario"}),t.jsxs("p",{className:"text-muted-foreground max-w-md mx-auto mt-2",children:["Sube el archivo Excel (.xlsx) descargado del sistema para comenzar el control de ",x,"."]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(U,{disabled:i,children:i?"Procesando...":"Seleccionar Archivo"}),t.jsx(fe,{type:"file",accept:".xlsx, .xls",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:oe,disabled:i})]}),t.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Columnas requeridas: C (EAN), D (Producto), E (Cantidad), O (Laboratorio), J (Rubro)"})]}):t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-3 grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs(ve,{className:"p-4 flex flex-col items-center justify-center bg-warning/5 border-warning/20",children:[t.jsx("span",{className:"text-muted-foreground text-xs uppercase font-bold",children:"Pendientes"}),t.jsx("span",{className:"text-2xl font-bold text-warning",children:t.jsx(ye,{value:s.filter(o=>o.status==="pending").length})})]}),t.jsxs(ve,{className:"p-4 flex flex-col items-center justify-center bg-success/5 border-success/20",children:[t.jsx("span",{className:"text-muted-foreground text-xs uppercase font-bold",children:"Controlados"}),t.jsx("span",{className:"text-2xl font-bold text-success",children:t.jsx(ye,{value:s.filter(o=>o.status==="controlled").length})})]}),t.jsxs(ve,{className:"p-4 flex flex-col items-center justify-center bg-blue-500/5 border-blue-500/20",children:[t.jsx("span",{className:"text-muted-foreground text-xs uppercase font-bold",children:"Ajustados"}),t.jsx("span",{className:"text-2xl font-bold text-blue-500",children:t.jsx(ye,{value:s.filter(o=>o.status==="adjusted").length})})]}),t.jsxs(ve,{className:"p-4 flex flex-col items-center justify-center",children:[t.jsx("span",{className:"text-muted-foreground text-xs uppercase font-bold",children:"Avance"}),t.jsxs("span",{className:"text-2xl font-bold",children:[t.jsx(ye,{value:Math.round(s.filter(o=>o.status==="controlled"||o.status==="adjusted").length/s.length*100)}),"%"]})]})]}),t.jsxs("div",{className:"lg:col-span-3",children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Nt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),t.jsx(fe,{placeholder:"Buscar por nombre o EAN...",value:v,onChange:o=>M(o.target.value),className:"pl-9"})]}),t.jsxs("div",{className:"flex items-center space-x-2 bg-card p-2 rounded-lg border",children:[t.jsx(Vt,{id:"diff-mode",checked:S,onCheckedChange:T}),t.jsx(Ie,{htmlFor:"diff-mode",className:"cursor-pointer",children:"Solo Diferencias"})]}),t.jsxs(U,{variant:"destructive",size:"sm",onClick:j,className:"ml-2",children:[t.jsx(De,{className:"w-4 h-4 mr-2"}),"Reiniciar Datos"]})]}),t.jsx("div",{className:"mb-6 overflow-x-auto pb-2",children:t.jsx("div",{className:"flex gap-2",children:Ce.map(o=>t.jsx(U,{variant:p===o?"default":"outline",onClick:()=>h(o),className:ie("rounded-full px-6 transition-all",p===o?"shadow-md":"opacity-70 hover:opacity-100"),children:o},o))})}),t.jsxs(At,{defaultValue:"pending",className:"w-full",children:[t.jsxs(_t,{className:"grid w-full grid-cols-3 mb-4",children:[t.jsxs(Ee,{value:"pending",className:"relative",children:["Pendientes (",p,")",D.length>0&&t.jsx("span",{className:"ml-2 bg-warning text-warning-foreground text-[10px] px-1.5 py-0.5 rounded-full",children:D.length})]}),t.jsxs(Ee,{value:"controlled",children:["Controlados",Q.length>0&&t.jsx("span",{className:"ml-2 bg-success text-success-foreground text-[10px] px-1.5 py-0.5 rounded-full",children:Q.length})]}),t.jsxs(Ee,{value:"adjusted",children:["Ajustados",te.length>0&&t.jsx("span",{className:"ml-2 bg-blue-500 text-white text-[10px] px-1.5 py-0.5 rounded-full",children:te.length})]})]}),t.jsxs(Pe,{value:"pending",className:"space-y-4",children:[t.jsxs(rt,{className:"bg-muted/50 border-none mb-4",children:[t.jsx(St,{className:"h-4 w-4"}),t.jsx(at,{children:"Instrucciones"}),t.jsx(ot,{children:"Desliza a la derecha para confirmar (verde) o a la izquierda para reportar diferencia (naranja)."})]}),t.jsx(Ae,{items:D,onUpdateQuantity:Y,onCheck:ne})]}),t.jsx(Pe,{value:"controlled",className:"space-y-4",children:t.jsx(Ae,{items:Q,onUpdateQuantity:Y,onCheck:ne,onRevert:le,readOnly:!1})}),t.jsx(Pe,{value:"adjusted",className:"space-y-4",children:t.jsx(Ae,{items:te,onUpdateQuantity:()=>{},onCheck:()=>{},readOnly:!0})})]})]})]}),t.jsx(Ke,{open:b,onOpenChange:E,children:t.jsxs(Ye,{children:[t.jsxs(et,{children:[t.jsx(tt,{children:"Finalizar Inventario"}),t.jsx(Mt,{children:"Ingresa el ID del ajuste generado en PLEX para guardar el estado de este inventario."})]}),t.jsxs("div",{className:"py-4 space-y-6",children:[t.jsxs("div",{className:"space-y-2 p-4 bg-destructive/5 rounded-lg border border-destructive/10",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx(Ie,{className:"text-destructive font-bold",children:"Faltantes (Negativos)"}),t.jsxs("span",{className:"font-mono font-bold text-destructive",children:["$",se.toLocaleString("es-AR",{minimumFractionDigits:2})]})]}),t.jsx(fe,{value:l,onChange:o=>k(o.target.value),placeholder:"ID Ajuste Faltantes (PLEX)"})]}),t.jsxs("div",{className:"space-y-2 p-4 bg-success/5 rounded-lg border border-success/10",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx(Ie,{className:"text-success font-bold",children:"Sobrantes (Positivos)"}),t.jsxs("span",{className:"font-mono font-bold text-success",children:["$",ce.toLocaleString("es-AR",{minimumFractionDigits:2})]})]}),t.jsx(fe,{value:_,onChange:o=>B(o.target.value),placeholder:"ID Ajuste Sobrantes (PLEX)"})]})]}),t.jsxs(nt,{children:[t.jsx(U,{variant:"outline",onClick:()=>E(!1),children:"Cancelar"}),t.jsx(U,{onClick:re,children:"Guardar y Finalizar"})]})]})}),t.jsx(Rt,{open:me,onOpenChange:pe,onScan:Se,onBatchScan:a}),s.length>0&&t.jsx(Ht,{actions:[{label:"Finalizar",icon:t.jsx(zt,{className:"w-5 h-5"}),onClick:()=>E(!0),variant:"default",color:"bg-primary text-primary-foreground"},{label:"Exportar PDF",icon:t.jsx(kt,{className:"w-5 h-5"}),onClick:e,variant:"secondary"},{label:"Exportar Excel",icon:t.jsx(Wt,{className:"w-5 h-5"}),onClick:ue,variant:"secondary",color:"text-green-600"},{label:"Escanear",icon:t.jsx(Zt,{className:"w-5 h-5"}),onClick:()=>pe(!0),variant:"secondary"},{label:"Cargar Excel",icon:t.jsx(Qe,{className:"w-5 h-5"}),onClick:()=>{var o;return(o=document.getElementById("fab-upload-input"))==null?void 0:o.click()},variant:"secondary"}]}),t.jsx("input",{id:"fab-upload-input",type:"file",accept:".xlsx, .xls",className:"hidden",onChange:oe,disabled:i})]})}export{Hn as default};
