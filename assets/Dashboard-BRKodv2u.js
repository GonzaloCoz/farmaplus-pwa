import{O as rs,a as ss,k as as,b as os,c as is,D as ls,d as cs,e as ds,j as r}from"./ui-vendor-BLFTds-q.js";import{r as u,c as j,a as lt}from"./react-vendor-ylmX0jv_.js";import{c as be,a as We,T as us,b as fs,d as hs,C as rr,e as It,f as sr,B as fe,X as ms,g as ne,h as he,i as me,j as gs,k as ge,S as ps,U as ar,l as or,W as vs,R as xs,D as bs,m as ws,u as ir,I as ys,n as js,o as lr,p as Ns,q as Ss,r as Cs,s as Ds,t as Rs}from"./index-BG1umsIN.js";import{s as Es,e as Ts,a as ks,b as Ms,g as Is,f as In,i as As,h as Os,p as Ps,d as zs,j as Ls,k as $s}from"./utils-CUsTgaRG.js";import{C as Bs,a as Us,b as Bt,M as Ws,A as Kt,P as cr}from"./progress-Yoi5rSZC.js";import{e as Ct,C as dr,E as Fs}from"./es-aCu3AJ8x.js";import{D as Ot}from"./dollar-sign-CBKDuOJ_.js";import{T as pt}from"./trending-up-CY2L0GUJ.js";import{T as ur}from"./target-gaRJoklR.js";import{W as fr}from"./wifi-CVU2TK3Q.js";import{P as gn}from"./plus-CGozER-s.js";import{T as pn}from"./trending-down-1TW5uDJ0.js";import{C as hr}from"./CounterAnimation-CBxAL-8N.js";import{A as Jt}from"./AnimatedProgressBar-DgxIxEm8.js";import{I as Hs}from"./input-Dfk53VEn.js";import{T as Vs,a as _s,b as An,c as Dt,d as Ys,e as Rt}from"./table-BMNKWC-b.js";import{M as qs}from"./mail-YRGQzs6_.js";import{B as Fe}from"./badge-Bfy3eQG3.js";import{R as mr,L as Xs,C as Gs,X as Ks,Y as Js,T as gr,a as Zs,b as On,P as Qs,c as ea,d as ta}from"./chart-vendor-Cu80epCr.js";import{m as Pn}from"./animation-B8cFXbbc.js";import"./excel-uoQkVabA.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=be("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=be("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=be("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=be("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=be("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=be("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=be("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=be("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=be("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=be("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=be("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=be("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=be("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function fa(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.useMemo(()=>s=>{t.forEach(o=>o(s))},t)}const Ut=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ke(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function vn(e){return"nodeType"in e}function we(e){var t,n;return e?Ke(e)?e:vn(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function xn(e){const{Document:t}=we(e);return e instanceof t}function vt(e){return Ke(e)?!1:e instanceof we(e).HTMLElement}function br(e){return e instanceof we(e).SVGElement}function Je(e){return e?Ke(e)?e.document:vn(e)?xn(e)?e:vt(e)||br(e)?e.ownerDocument:document:document:document}const Oe=Ut?u.useLayoutEffect:u.useEffect;function bn(e){const t=u.useRef(e);return Oe(()=>{t.current=e}),u.useCallback(function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return t.current==null?void 0:t.current(...s)},[])}function ha(){const e=u.useRef(null),t=u.useCallback((s,o)=>{e.current=setInterval(s,o)},[]),n=u.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function ft(e,t){t===void 0&&(t=[e]);const n=u.useRef(e);return Oe(()=>{n.current!==e&&(n.current=e)},t),n}function xt(e,t){const n=u.useRef();return u.useMemo(()=>{const s=e(n.current);return n.current=s,s},[...t])}function Pt(e){const t=bn(e),n=u.useRef(null),s=u.useCallback(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,s]}function ln(e){const t=u.useRef();return u.useEffect(()=>{t.current=e},[e]),t.current}let Zt={};function bt(e,t){return u.useMemo(()=>{if(t)return t;const n=Zt[e]==null?0:Zt[e]+1;return Zt[e]=n,e+"-"+n},[e,t])}function wr(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return s.reduce((a,i)=>{const l=Object.entries(i);for(const[d,f]of l){const h=a[d];h!=null&&(a[d]=h+e*f)}return a},{...t})}}const Ge=wr(1),ht=wr(-1);function ma(e){return"clientX"in e&&"clientY"in e}function wn(e){if(!e)return!1;const{KeyboardEvent:t}=we(e.target);return t&&e instanceof t}function ga(e){if(!e)return!1;const{TouchEvent:t}=we(e.target);return t&&e instanceof t}function cn(e){if(ga(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return ma(e)?{x:e.clientX,y:e.clientY}:null}const mt=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[mt.Translate.toString(e),mt.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:s}=e;return t+" "+n+"ms "+s}}}),Ln="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function pa(e){return e.matches(Ln)?e:e.querySelector(Ln)}const va={display:"none"};function xa(e){let{id:t,value:n}=e;return j.createElement("div",{id:t,style:va},n)}function ba(e){let{id:t,announcement:n,ariaLiveType:s="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return j.createElement("div",{id:t,style:o,role:"status","aria-live":s,"aria-atomic":!0},n)}function wa(){const[e,t]=u.useState("");return{announce:u.useCallback(s=>{s!=null&&t(s)},[]),announcement:e}}const yr=u.createContext(null);function ya(e){const t=u.useContext(yr);u.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function ja(){const[e]=u.useState(()=>new Set),t=u.useCallback(s=>(e.add(s),()=>e.delete(s)),[e]);return[u.useCallback(s=>{let{type:o,event:a}=s;e.forEach(i=>{var l;return(l=i[o])==null?void 0:l.call(i,a)})},[e]),t]}const Na={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Sa={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Ca(e){let{announcements:t=Sa,container:n,hiddenTextDescribedById:s,screenReaderInstructions:o=Na}=e;const{announce:a,announcement:i}=wa(),l=bt("DndLiveRegion"),[d,f]=u.useState(!1);if(u.useEffect(()=>{f(!0)},[]),ya(u.useMemo(()=>({onDragStart(c){let{active:m}=c;a(t.onDragStart({active:m}))},onDragMove(c){let{active:m,over:g}=c;t.onDragMove&&a(t.onDragMove({active:m,over:g}))},onDragOver(c){let{active:m,over:g}=c;a(t.onDragOver({active:m,over:g}))},onDragEnd(c){let{active:m,over:g}=c;a(t.onDragEnd({active:m,over:g}))},onDragCancel(c){let{active:m,over:g}=c;a(t.onDragCancel({active:m,over:g}))}}),[a,t])),!d)return null;const h=j.createElement(j.Fragment,null,j.createElement(xa,{id:s,value:o.draggable}),j.createElement(ba,{id:l,announcement:i}));return n?lt.createPortal(h,n):h}var ie;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(ie||(ie={}));function zt(){}function $n(e,t){return u.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Da(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.useMemo(()=>[...t].filter(s=>s!=null),[...t])}const ke=Object.freeze({x:0,y:0});function jr(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Nr(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return n-s}function Ra(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return s-n}function Bn(e){let{left:t,top:n,height:s,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+s},{x:t+o,y:n+s}]}function Sr(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Un(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Ea=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const o=Un(t,t.left,t.top),a=[];for(const i of s){const{id:l}=i,d=n.get(l);if(d){const f=jr(Un(d),o);a.push({id:l,data:{droppableContainer:i,value:f}})}}return a.sort(Nr)},Ta=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const o=Bn(t),a=[];for(const i of s){const{id:l}=i,d=n.get(l);if(d){const f=Bn(d),h=o.reduce((m,g,C)=>m+jr(f[C],g),0),c=Number((h/4).toFixed(4));a.push({id:l,data:{droppableContainer:i,value:c}})}}return a.sort(Nr)};function ka(e,t){const n=Math.max(t.top,e.top),s=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),i=o-s,l=a-n;if(s<o&&n<a){const d=t.width*t.height,f=e.width*e.height,h=i*l,c=h/(d+f-h);return Number(c.toFixed(4))}return 0}const Ma=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const o=[];for(const a of s){const{id:i}=a,l=n.get(i);if(l){const d=ka(l,t);d>0&&o.push({id:i,data:{droppableContainer:a,value:d}})}}return o.sort(Ra)};function Ia(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Cr(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ke}function Aa(e){return function(n){for(var s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];return o.reduce((i,l)=>({...i,top:i.top+e*l.y,bottom:i.bottom+e*l.y,left:i.left+e*l.x,right:i.right+e*l.x}),{...n})}}const Oa=Aa(1);function Pa(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function za(e,t,n){const s=Pa(t);if(!s)return e;const{scaleX:o,scaleY:a,x:i,y:l}=s,d=e.left-i-(1-o)*parseFloat(n),f=e.top-l-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),h=o?e.width/o:e.width,c=a?e.height/a:e.height;return{width:h,height:c,top:f,right:d+h,bottom:f+c,left:d}}const La={ignoreTransform:!1};function Ze(e,t){t===void 0&&(t=La);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:f,transformOrigin:h}=we(e).getComputedStyle(e);f&&(n=za(n,f,h))}const{top:s,left:o,width:a,height:i,bottom:l,right:d}=n;return{top:s,left:o,width:a,height:i,bottom:l,right:d}}function Wn(e){return Ze(e,{ignoreTransform:!0})}function $a(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Ba(e,t){return t===void 0&&(t=we(e).getComputedStyle(e)),t.position==="fixed"}function Ua(e,t){t===void 0&&(t=we(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const a=t[o];return typeof a=="string"?n.test(a):!1})}function Wt(e,t){const n=[];function s(o){if(t!=null&&n.length>=t||!o)return n;if(xn(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!vt(o)||br(o)||n.includes(o))return n;const a=we(e).getComputedStyle(o);return o!==e&&Ua(o,a)&&n.push(o),Ba(o,a)?n:s(o.parentNode)}return e?s(e):n}function Dr(e){const[t]=Wt(e,1);return t??null}function Qt(e){return!Ut||!e?null:Ke(e)?e:vn(e)?xn(e)||e===Je(e).scrollingElement?window:vt(e)?e:null:null}function Rr(e){return Ke(e)?e.scrollX:e.scrollLeft}function Er(e){return Ke(e)?e.scrollY:e.scrollTop}function dn(e){return{x:Rr(e),y:Er(e)}}var ce;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(ce||(ce={}));function Tr(e){return!Ut||!e?!1:e===document.scrollingElement}function kr(e){const t={x:0,y:0},n=Tr(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,i=e.scrollTop>=s.y,l=e.scrollLeft>=s.x;return{isTop:o,isLeft:a,isBottom:i,isRight:l,maxScroll:s,minScroll:t}}const Wa={x:.2,y:.2};function Fa(e,t,n,s,o){let{top:a,left:i,right:l,bottom:d}=n;s===void 0&&(s=10),o===void 0&&(o=Wa);const{isTop:f,isBottom:h,isLeft:c,isRight:m}=kr(e),g={x:0,y:0},C={x:0,y:0},v={height:t.height*o.y,width:t.width*o.x};return!f&&a<=t.top+v.height?(g.y=ce.Backward,C.y=s*Math.abs((t.top+v.height-a)/v.height)):!h&&d>=t.bottom-v.height&&(g.y=ce.Forward,C.y=s*Math.abs((t.bottom-v.height-d)/v.height)),!m&&l>=t.right-v.width?(g.x=ce.Forward,C.x=s*Math.abs((t.right-v.width-l)/v.width)):!c&&i<=t.left+v.width&&(g.x=ce.Backward,C.x=s*Math.abs((t.left+v.width-i)/v.width)),{direction:g,speed:C}}function Ha(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:i}=window;return{top:0,left:0,right:a,bottom:i,width:a,height:i}}const{top:t,left:n,right:s,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:s,bottom:o,width:e.clientWidth,height:e.clientHeight}}function Mr(e){return e.reduce((t,n)=>Ge(t,dn(n)),ke)}function Va(e){return e.reduce((t,n)=>t+Rr(n),0)}function _a(e){return e.reduce((t,n)=>t+Er(n),0)}function Ya(e,t){if(t===void 0&&(t=Ze),!e)return;const{top:n,left:s,bottom:o,right:a}=t(e);Dr(e)&&(o<=0||a<=0||n>=window.innerHeight||s>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const qa=[["x",["left","right"],Va],["y",["top","bottom"],_a]];class yn{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=Wt(n),o=Mr(s);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,i,l]of qa)for(const d of i)Object.defineProperty(this,d,{get:()=>{const f=l(s),h=o[a]-f;return this.rect[d]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ct{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=t}add(t,n,s){var o;(o=this.target)==null||o.addEventListener(t,n,s),this.listeners.push([t,n,s])}}function Xa(e){const{EventTarget:t}=we(e);return e instanceof t?e:Je(e)}function en(e,t){const n=Math.abs(e.x),s=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+s**2)>t:"x"in t&&"y"in t?n>t.x&&s>t.y:"x"in t?n>t.x:"y"in t?s>t.y:!1}var De;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(De||(De={}));function Fn(e){e.preventDefault()}function Ga(e){e.stopPropagation()}var L;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(L||(L={}));const Ir={start:[L.Space,L.Enter],cancel:[L.Esc],end:[L.Space,L.Enter,L.Tab]},Ka=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case L.Right:return{...n,x:n.x+25};case L.Left:return{...n,x:n.x-25};case L.Down:return{...n,y:n.y+25};case L.Up:return{...n,y:n.y-25}}};class jn{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new ct(Je(n)),this.windowListeners=new ct(we(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(De.Resize,this.handleCancel),this.windowListeners.add(De.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(De.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,s=t.node.current;s&&Ya(s),n(ke)}handleKeyDown(t){if(wn(t)){const{active:n,context:s,options:o}=this.props,{keyboardCodes:a=Ir,coordinateGetter:i=Ka,scrollBehavior:l="smooth"}=o,{code:d}=t;if(a.end.includes(d)){this.handleEnd(t);return}if(a.cancel.includes(d)){this.handleCancel(t);return}const{collisionRect:f}=s.current,h=f?{x:f.left,y:f.top}:ke;this.referenceCoordinates||(this.referenceCoordinates=h);const c=i(t,{active:n,context:s.current,currentCoordinates:h});if(c){const m=ht(c,h),g={x:0,y:0},{scrollableAncestors:C}=s.current;for(const v of C){const y=t.code,{isTop:p,isRight:x,isLeft:S,isBottom:b,maxScroll:R,minScroll:T}=kr(v),N=Ha(v),D={x:Math.min(y===L.Right?N.right-N.width/2:N.right,Math.max(y===L.Right?N.left:N.left+N.width/2,c.x)),y:Math.min(y===L.Down?N.bottom-N.height/2:N.bottom,Math.max(y===L.Down?N.top:N.top+N.height/2,c.y))},E=y===L.Right&&!x||y===L.Left&&!S,O=y===L.Down&&!b||y===L.Up&&!p;if(E&&D.x!==c.x){const w=v.scrollLeft+m.x,P=y===L.Right&&w<=R.x||y===L.Left&&w>=T.x;if(P&&!m.y){v.scrollTo({left:w,behavior:l});return}P?g.x=v.scrollLeft-w:g.x=y===L.Right?v.scrollLeft-R.x:v.scrollLeft-T.x,g.x&&v.scrollBy({left:-g.x,behavior:l});break}else if(O&&D.y!==c.y){const w=v.scrollTop+m.y,P=y===L.Down&&w<=R.y||y===L.Up&&w>=T.y;if(P&&!m.x){v.scrollTo({top:w,behavior:l});return}P?g.y=v.scrollTop-w:g.y=y===L.Down?v.scrollTop-R.y:v.scrollTop-T.y,g.y&&v.scrollBy({top:-g.y,behavior:l});break}}this.handleMove(t,Ge(ht(c,this.referenceCoordinates),g))}}}handleMove(t,n){const{onMove:s}=this.props;t.preventDefault(),s(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}jn.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:s=Ir,onActivation:o}=t,{active:a}=n;const{code:i}=e.nativeEvent;if(s.start.includes(i)){const l=a.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function Hn(e){return!!(e&&"distance"in e)}function Vn(e){return!!(e&&"delay"in e)}class Nn{constructor(t,n,s){var o;s===void 0&&(s=Xa(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:a}=t,{target:i}=a;this.props=t,this.events=n,this.document=Je(i),this.documentListeners=new ct(this.document),this.listeners=new ct(s),this.windowListeners=new ct(we(i)),this.initialCoordinates=(o=cn(a))!=null?o:ke,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(De.Resize,this.handleCancel),this.windowListeners.add(De.DragStart,Fn),this.windowListeners.add(De.VisibilityChange,this.handleCancel),this.windowListeners.add(De.ContextMenu,Fn),this.documentListeners.add(De.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Vn(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Hn(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:s,onPending:o}=this.props;o(s,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(De.Click,Ga,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(De.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:s,initialCoordinates:o,props:a}=this,{onMove:i,options:{activationConstraint:l}}=a;if(!o)return;const d=(n=cn(t))!=null?n:ke,f=ht(o,d);if(!s&&l){if(Hn(l)){if(l.tolerance!=null&&en(f,l.tolerance))return this.handleCancel();if(en(f,l.distance))return this.handleStart()}if(Vn(l)&&en(f,l.tolerance))return this.handleCancel();this.handlePending(l,f);return}t.cancelable&&t.preventDefault(),i(d)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===L.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Ja={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Sn extends Nn{constructor(t){const{event:n}=t,s=Je(n.target);super(t,Ja,s)}}Sn.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return!n.isPrimary||n.button!==0?!1:(s==null||s({event:n}),!0)}}];const Za={move:{name:"mousemove"},end:{name:"mouseup"}};var un;(function(e){e[e.RightClick=2]="RightClick"})(un||(un={}));class Qa extends Nn{constructor(t){super(t,Za,Je(t.event.target))}}Qa.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return n.button===un.RightClick?!1:(s==null||s({event:n}),!0)}}];const tn={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class eo extends Nn{constructor(t){super(t,tn)}static setup(){return window.addEventListener(tn.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(tn.move.name,t)};function t(){}}}eo.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;const{touches:o}=n;return o.length>1?!1:(s==null||s({event:n}),!0)}}];var dt;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(dt||(dt={}));var Lt;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Lt||(Lt={}));function to(e){let{acceleration:t,activator:n=dt.Pointer,canScroll:s,draggingRect:o,enabled:a,interval:i=5,order:l=Lt.TreeOrder,pointerCoordinates:d,scrollableAncestors:f,scrollableAncestorRects:h,delta:c,threshold:m}=e;const g=ro({delta:c,disabled:!a}),[C,v]=ha(),y=u.useRef({x:0,y:0}),p=u.useRef({x:0,y:0}),x=u.useMemo(()=>{switch(n){case dt.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case dt.DraggableRect:return o}},[n,o,d]),S=u.useRef(null),b=u.useCallback(()=>{const T=S.current;if(!T)return;const N=y.current.x*p.current.x,D=y.current.y*p.current.y;T.scrollBy(N,D)},[]),R=u.useMemo(()=>l===Lt.TreeOrder?[...f].reverse():f,[l,f]);u.useEffect(()=>{if(!a||!f.length||!x){v();return}for(const T of R){if((s==null?void 0:s(T))===!1)continue;const N=f.indexOf(T),D=h[N];if(!D)continue;const{direction:E,speed:O}=Fa(T,D,x,t,m);for(const w of["x","y"])g[w][E[w]]||(O[w]=0,E[w]=0);if(O.x>0||O.y>0){v(),S.current=T,C(b,i),y.current=O,p.current=E;return}}y.current={x:0,y:0},p.current={x:0,y:0},v()},[t,b,s,v,a,i,JSON.stringify(x),JSON.stringify(g),C,f,R,h,JSON.stringify(m)])}const no={x:{[ce.Backward]:!1,[ce.Forward]:!1},y:{[ce.Backward]:!1,[ce.Forward]:!1}};function ro(e){let{delta:t,disabled:n}=e;const s=ln(t);return xt(o=>{if(n||!s||!o)return no;const a={x:Math.sign(t.x-s.x),y:Math.sign(t.y-s.y)};return{x:{[ce.Backward]:o.x[ce.Backward]||a.x===-1,[ce.Forward]:o.x[ce.Forward]||a.x===1},y:{[ce.Backward]:o.y[ce.Backward]||a.y===-1,[ce.Forward]:o.y[ce.Forward]||a.y===1}}},[n,t,s])}function so(e,t){const n=t!=null?e.get(t):void 0,s=n?n.node.current:null;return xt(o=>{var a;return t==null?null:(a=s??o)!=null?a:null},[s,t])}function ao(e,t){return u.useMemo(()=>e.reduce((n,s)=>{const{sensor:o}=s,a=o.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,s)}));return[...n,...a]},[]),[e,t])}var gt;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(gt||(gt={}));var fn;(function(e){e.Optimized="optimized"})(fn||(fn={}));const _n=new Map;function oo(e,t){let{dragging:n,dependencies:s,config:o}=t;const[a,i]=u.useState(null),{frequency:l,measure:d,strategy:f}=o,h=u.useRef(e),c=y(),m=ft(c),g=u.useCallback(function(p){p===void 0&&(p=[]),!m.current&&i(x=>x===null?p:x.concat(p.filter(S=>!x.includes(S))))},[m]),C=u.useRef(null),v=xt(p=>{if(c&&!n)return _n;if(!p||p===_n||h.current!==e||a!=null){const x=new Map;for(let S of e){if(!S)continue;if(a&&a.length>0&&!a.includes(S.id)&&S.rect.current){x.set(S.id,S.rect.current);continue}const b=S.node.current,R=b?new yn(d(b),b):null;S.rect.current=R,R&&x.set(S.id,R)}return x}return p},[e,a,n,c,d]);return u.useEffect(()=>{h.current=e},[e]),u.useEffect(()=>{c||g()},[n,c]),u.useEffect(()=>{a&&a.length>0&&i(null)},[JSON.stringify(a)]),u.useEffect(()=>{c||typeof l!="number"||C.current!==null||(C.current=setTimeout(()=>{g(),C.current=null},l))},[l,c,g,...s]),{droppableRects:v,measureDroppableContainers:g,measuringScheduled:a!=null};function y(){switch(f){case gt.Always:return!1;case gt.BeforeDragging:return n;default:return!n}}}function Ar(e,t){return xt(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function io(e,t){return Ar(e,t)}function lo(e){let{callback:t,disabled:n}=e;const s=bn(t),o=u.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(s)},[s,n]);return u.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function Ft(e){let{callback:t,disabled:n}=e;const s=bn(t),o=u.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(s)},[n]);return u.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function co(e){return new yn(Ze(e),e)}function Yn(e,t,n){t===void 0&&(t=co);const[s,o]=u.useState(null);function a(){o(d=>{if(!e)return null;if(e.isConnected===!1){var f;return(f=d??n)!=null?f:null}const h=t(e);return JSON.stringify(d)===JSON.stringify(h)?d:h})}const i=lo({callback(d){if(e)for(const f of d){const{type:h,target:c}=f;if(h==="childList"&&c instanceof HTMLElement&&c.contains(e)){a();break}}}}),l=Ft({callback:a});return Oe(()=>{a(),e?(l==null||l.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),i==null||i.disconnect())},[e]),s}function uo(e){const t=Ar(e);return Cr(e,t)}const qn=[];function fo(e){const t=u.useRef(e),n=xt(s=>e?s&&s!==qn&&e&&t.current&&e.parentNode===t.current.parentNode?s:Wt(e):qn,[e]);return u.useEffect(()=>{t.current=e},[e]),n}function ho(e){const[t,n]=u.useState(null),s=u.useRef(e),o=u.useCallback(a=>{const i=Qt(a.target);i&&n(l=>l?(l.set(i,dn(i)),new Map(l)):null)},[]);return u.useEffect(()=>{const a=s.current;if(e!==a){i(a);const l=e.map(d=>{const f=Qt(d);return f?(f.addEventListener("scroll",o,{passive:!0}),[f,dn(f)]):null}).filter(d=>d!=null);n(l.length?new Map(l):null),s.current=e}return()=>{i(e),i(a)};function i(l){l.forEach(d=>{const f=Qt(d);f==null||f.removeEventListener("scroll",o)})}},[o,e]),u.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,i)=>Ge(a,i),ke):Mr(e):ke,[e,t])}function Xn(e,t){t===void 0&&(t=[]);const n=u.useRef(null);return u.useEffect(()=>{n.current=null},t),u.useEffect(()=>{const s=e!==ke;s&&!n.current&&(n.current=e),!s&&n.current&&(n.current=null)},[e]),n.current?ht(e,n.current):ke}function mo(e){u.useEffect(()=>{if(!Ut)return;const t=e.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function go(e,t){return u.useMemo(()=>e.reduce((n,s)=>{let{eventName:o,handler:a}=s;return n[o]=i=>{a(i,t)},n},{}),[e,t])}function Or(e){return u.useMemo(()=>e?$a(e):null,[e])}const Gn=[];function po(e,t){t===void 0&&(t=Ze);const[n]=e,s=Or(n?we(n):null),[o,a]=u.useState(Gn);function i(){a(()=>e.length?e.map(d=>Tr(d)?s:new yn(t(d),d)):Gn)}const l=Ft({callback:i});return Oe(()=>{l==null||l.disconnect(),i(),e.forEach(d=>l==null?void 0:l.observe(d))},[e]),o}function vo(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return vt(t)?t:e}function xo(e){let{measure:t}=e;const[n,s]=u.useState(null),o=u.useCallback(f=>{for(const{target:h}of f)if(vt(h)){s(c=>{const m=t(h);return c?{...c,width:m.width,height:m.height}:m});break}},[t]),a=Ft({callback:o}),i=u.useCallback(f=>{const h=vo(f);a==null||a.disconnect(),h&&(a==null||a.observe(h)),s(h?t(h):null)},[t,a]),[l,d]=Pt(i);return u.useMemo(()=>({nodeRef:l,rect:n,setRef:d}),[n,l,d])}const bo=[{sensor:Sn,options:{}},{sensor:jn,options:{}}],wo={current:{}},At={draggable:{measure:Wn},droppable:{measure:Wn,strategy:gt.WhileDragging,frequency:fn.Optimized},dragOverlay:{measure:Ze}};class ut extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,s;return(n=(s=this.get(t))==null?void 0:s.node.current)!=null?n:void 0}}const yo={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ut,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:zt},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:At,measureDroppableContainers:zt,windowRect:null,measuringScheduled:!1},jo={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:zt,draggableNodes:new Map,over:null,measureDroppableContainers:zt},Ht=u.createContext(jo),Pr=u.createContext(yo);function No(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ut}}}function So(e,t){switch(t.type){case ie.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ie.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case ie.DragEnd:case ie.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ie.RegisterDroppable:{const{element:n}=t,{id:s}=n,o=new ut(e.droppable.containers);return o.set(s,n),{...e,droppable:{...e.droppable,containers:o}}}case ie.SetDroppableDisabled:{const{id:n,key:s,disabled:o}=t,a=e.droppable.containers.get(n);if(!a||s!==a.key)return e;const i=new ut(e.droppable.containers);return i.set(n,{...a,disabled:o}),{...e,droppable:{...e.droppable,containers:i}}}case ie.UnregisterDroppable:{const{id:n,key:s}=t,o=e.droppable.containers.get(n);if(!o||s!==o.key)return e;const a=new ut(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function Co(e){let{disabled:t}=e;const{active:n,activatorEvent:s,draggableNodes:o}=u.useContext(Ht),a=ln(s),i=ln(n==null?void 0:n.id);return u.useEffect(()=>{if(!t&&!s&&a&&i!=null){if(!wn(a)||document.activeElement===a.target)return;const l=o.get(i);if(!l)return;const{activatorNode:d,node:f}=l;if(!d.current&&!f.current)return;requestAnimationFrame(()=>{for(const h of[d.current,f.current]){if(!h)continue;const c=pa(h);if(c){c.focus();break}}})}},[s,t,o,i,a]),null}function Do(e,t){let{transform:n,...s}=t;return e!=null&&e.length?e.reduce((o,a)=>a({transform:o,...s}),n):n}function Ro(e){return u.useMemo(()=>({draggable:{...At.draggable,...e==null?void 0:e.draggable},droppable:{...At.droppable,...e==null?void 0:e.droppable},dragOverlay:{...At.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Eo(e){let{activeNode:t,measure:n,initialRect:s,config:o=!0}=e;const a=u.useRef(!1),{x:i,y:l}=typeof o=="boolean"?{x:o,y:o}:o;Oe(()=>{if(!i&&!l||!t){a.current=!1;return}if(a.current||!s)return;const f=t==null?void 0:t.node.current;if(!f||f.isConnected===!1)return;const h=n(f),c=Cr(h,s);if(i||(c.x=0),l||(c.y=0),a.current=!0,Math.abs(c.x)>0||Math.abs(c.y)>0){const m=Dr(f);m&&m.scrollBy({top:c.y,left:c.x})}},[t,i,l,s,n])}const zr=u.createContext({...ke,scaleX:1,scaleY:1});var Ye;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ye||(Ye={}));const To=u.memo(function(t){var n,s,o,a;let{id:i,accessibility:l,autoScroll:d=!0,children:f,sensors:h=bo,collisionDetection:c=Ma,measuring:m,modifiers:g,...C}=t;const v=u.useReducer(So,void 0,No),[y,p]=v,[x,S]=ja(),[b,R]=u.useState(Ye.Uninitialized),T=b===Ye.Initialized,{draggable:{active:N,nodes:D,translate:E},droppable:{containers:O}}=y,w=N!=null?D.get(N):null,P=u.useRef({initial:null,translated:null}),z=u.useMemo(()=>{var A;return N!=null?{id:N,data:(A=w==null?void 0:w.data)!=null?A:wo,rect:P}:null},[N,w]),V=u.useRef(null),[J,ue]=u.useState(null),[U,pe]=u.useState(null),le=ft(C,Object.values(C)),ye=bt("DndDescribedBy",i),M=u.useMemo(()=>O.getEnabled(),[O]),$=Ro(m),{droppableRects:W,measureDroppableContainers:ee,measuringScheduled:re}=oo(M,{dragging:T,dependencies:[E.x,E.y],config:$.droppable}),G=so(D,N),ze=u.useMemo(()=>U?cn(U):null,[U]),ve=Y(),je=io(G,$.draggable.measure);Eo({activeNode:N!=null?D.get(N):null,config:ve.layoutShiftCompensation,initialRect:je,measure:$.draggable.measure});const B=Yn(G,$.draggable.measure,je),Se=Yn(G?G.parentElement:null),Ne=u.useRef({activatorEvent:null,active:null,activeNode:G,collisionRect:null,collisions:null,droppableRects:W,draggableNodes:D,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),I=O.getNodeFor((n=Ne.current.over)==null?void 0:n.id),Ce=xo({measure:$.dragOverlay.measure}),Le=(s=Ce.nodeRef.current)!=null?s:G,Me=T?(o=Ce.rect)!=null?o:B:null,wt=!!(Ce.nodeRef.current&&Ce.rect),yt=uo(wt?null:B),$e=Or(Le?we(Le):null),Re=fo(T?I??G:null),Xe=po(Re),Ie=Do(g,{transform:{x:E.x-yt.x,y:E.y-yt.y,scaleX:1,scaleY:1},activatorEvent:U,active:z,activeNodeRect:B,containerNodeRect:Se,draggingNodeRect:Me,over:Ne.current.over,overlayNodeRect:Ce.rect,scrollableAncestors:Re,scrollableAncestorRects:Xe,windowRect:$e}),jt=ze?Ge(ze,E):null,et=ho(Re),Vt=Xn(et),_t=Xn(et,[B]),Ee=Ge(Ie,Vt),He=Me?Oa(Me,Ie):null,Ve=z&&He?c({active:z,collisionRect:He,droppableRects:W,droppableContainers:M,pointerCoordinates:jt}):null,Nt=Sr(Ve,"id"),[xe,tt]=u.useState(null),Yt=wt?Ie:Ge(Ie,_t),qt=Ia(Yt,(a=xe==null?void 0:xe.rect)!=null?a:null,B),nt=u.useRef(null),St=u.useCallback((A,q)=>{let{sensor:H,options:Z}=q;if(V.current==null)return;const X=D.get(V.current);if(!X)return;const te=A.nativeEvent,se=new H({active:V.current,activeNode:X,event:te,options:Z,context:Ne,onAbort(Q){if(!D.get(Q))return;const{onDragAbort:Ae}=le.current,Be={id:Q};Ae==null||Ae(Be),x({type:"onDragAbort",event:Be})},onPending(Q,Te,Ae,Be){if(!D.get(Q))return;const{onDragPending:st}=le.current,_e={id:Q,constraint:Te,initialCoordinates:Ae,offset:Be};st==null||st(_e),x({type:"onDragPending",event:_e})},onStart(Q){const Te=V.current;if(Te==null)return;const Ae=D.get(Te);if(!Ae)return;const{onDragStart:Be}=le.current,rt={activatorEvent:te,active:{id:Te,data:Ae.data,rect:P}};lt.unstable_batchedUpdates(()=>{Be==null||Be(rt),R(Ye.Initializing),p({type:ie.DragStart,initialCoordinates:Q,active:Te}),x({type:"onDragStart",event:rt}),ue(nt.current),pe(te)})},onMove(Q){p({type:ie.DragMove,coordinates:Q})},onEnd:de(ie.DragEnd),onCancel:de(ie.DragCancel)});nt.current=se;function de(Q){return async function(){const{active:Ae,collisions:Be,over:rt,scrollAdjustedTranslate:st}=Ne.current;let _e=null;if(Ae&&st){const{cancelDrop:at}=le.current;_e={activatorEvent:te,active:Ae,collisions:Be,delta:st,over:rt},Q===ie.DragEnd&&typeof at=="function"&&await Promise.resolve(at(_e))&&(Q=ie.DragCancel)}V.current=null,lt.unstable_batchedUpdates(()=>{p({type:Q}),R(Ye.Uninitialized),tt(null),ue(null),pe(null),nt.current=null;const at=Q===ie.DragEnd?"onDragEnd":"onDragCancel";if(_e){const Gt=le.current[at];Gt==null||Gt(_e),x({type:at,event:_e})}})}}},[D]),Xt=u.useCallback((A,q)=>(H,Z)=>{const X=H.nativeEvent,te=D.get(Z);if(V.current!==null||!te||X.dndKit||X.defaultPrevented)return;const se={active:te};A(H,q.options,se)===!0&&(X.dndKit={capturedBy:q.sensor},V.current=Z,St(H,q))},[D,St]),k=ao(h,Xt);mo(h),Oe(()=>{B&&b===Ye.Initializing&&R(Ye.Initialized)},[B,b]),u.useEffect(()=>{const{onDragMove:A}=le.current,{active:q,activatorEvent:H,collisions:Z,over:X}=Ne.current;if(!q||!H)return;const te={active:q,activatorEvent:H,collisions:Z,delta:{x:Ee.x,y:Ee.y},over:X};lt.unstable_batchedUpdates(()=>{A==null||A(te),x({type:"onDragMove",event:te})})},[Ee.x,Ee.y]),u.useEffect(()=>{const{active:A,activatorEvent:q,collisions:H,droppableContainers:Z,scrollAdjustedTranslate:X}=Ne.current;if(!A||V.current==null||!q||!X)return;const{onDragOver:te}=le.current,se=Z.get(Nt),de=se&&se.rect.current?{id:se.id,rect:se.rect.current,data:se.data,disabled:se.disabled}:null,Q={active:A,activatorEvent:q,collisions:H,delta:{x:X.x,y:X.y},over:de};lt.unstable_batchedUpdates(()=>{tt(de),te==null||te(Q),x({type:"onDragOver",event:Q})})},[Nt]),Oe(()=>{Ne.current={activatorEvent:U,active:z,activeNode:G,collisionRect:He,collisions:Ve,droppableRects:W,draggableNodes:D,draggingNode:Le,draggingNodeRect:Me,droppableContainers:O,over:xe,scrollableAncestors:Re,scrollAdjustedTranslate:Ee},P.current={initial:Me,translated:He}},[z,G,Ve,He,D,Le,Me,W,O,xe,Re,Ee]),to({...ve,delta:E,draggingRect:He,pointerCoordinates:jt,scrollableAncestors:Re,scrollableAncestorRects:Xe});const F=u.useMemo(()=>({active:z,activeNode:G,activeNodeRect:B,activatorEvent:U,collisions:Ve,containerNodeRect:Se,dragOverlay:Ce,draggableNodes:D,droppableContainers:O,droppableRects:W,over:xe,measureDroppableContainers:ee,scrollableAncestors:Re,scrollableAncestorRects:Xe,measuringConfiguration:$,measuringScheduled:re,windowRect:$e}),[z,G,B,U,Ve,Se,Ce,D,O,W,xe,ee,Re,Xe,$,re,$e]),_=u.useMemo(()=>({activatorEvent:U,activators:k,active:z,activeNodeRect:B,ariaDescribedById:{draggable:ye},dispatch:p,draggableNodes:D,over:xe,measureDroppableContainers:ee}),[U,k,z,B,p,ye,D,xe,ee]);return j.createElement(yr.Provider,{value:S},j.createElement(Ht.Provider,{value:_},j.createElement(Pr.Provider,{value:F},j.createElement(zr.Provider,{value:qt},f)),j.createElement(Co,{disabled:(l==null?void 0:l.restoreFocus)===!1})),j.createElement(Ca,{...l,hiddenTextDescribedById:ye}));function Y(){const A=(J==null?void 0:J.autoScrollEnabled)===!1,q=typeof d=="object"?d.enabled===!1:d===!1,H=T&&!A&&!q;return typeof d=="object"?{...d,enabled:H}:{enabled:H}}}),ko=u.createContext(null),Kn="button",Mo="Draggable";function Io(e){let{id:t,data:n,disabled:s=!1,attributes:o}=e;const a=bt(Mo),{activators:i,activatorEvent:l,active:d,activeNodeRect:f,ariaDescribedById:h,draggableNodes:c,over:m}=u.useContext(Ht),{role:g=Kn,roleDescription:C="draggable",tabIndex:v=0}=o??{},y=(d==null?void 0:d.id)===t,p=u.useContext(y?zr:ko),[x,S]=Pt(),[b,R]=Pt(),T=go(i,t),N=ft(n);Oe(()=>(c.set(t,{id:t,key:a,node:x,activatorNode:b,data:N}),()=>{const E=c.get(t);E&&E.key===a&&c.delete(t)}),[c,t]);const D=u.useMemo(()=>({role:g,tabIndex:v,"aria-disabled":s,"aria-pressed":y&&g===Kn?!0:void 0,"aria-roledescription":C,"aria-describedby":h.draggable}),[s,g,v,y,C,h.draggable]);return{active:d,activatorEvent:l,activeNodeRect:f,attributes:D,isDragging:y,listeners:s?void 0:T,node:x,over:m,setNodeRef:S,setActivatorNodeRef:R,transform:p}}function Ao(){return u.useContext(Pr)}const Oo="Droppable",Po={timeout:25};function zo(e){let{data:t,disabled:n=!1,id:s,resizeObserverConfig:o}=e;const a=bt(Oo),{active:i,dispatch:l,over:d,measureDroppableContainers:f}=u.useContext(Ht),h=u.useRef({disabled:n}),c=u.useRef(!1),m=u.useRef(null),g=u.useRef(null),{disabled:C,updateMeasurementsFor:v,timeout:y}={...Po,...o},p=ft(v??s),x=u.useCallback(()=>{if(!c.current){c.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{f(Array.isArray(p.current)?p.current:[p.current]),g.current=null},y)},[y]),S=Ft({callback:x,disabled:C||!i}),b=u.useCallback((D,E)=>{S&&(E&&(S.unobserve(E),c.current=!1),D&&S.observe(D))},[S]),[R,T]=Pt(b),N=ft(t);return u.useEffect(()=>{!S||!R.current||(S.disconnect(),c.current=!1,S.observe(R.current))},[R,S]),u.useEffect(()=>(l({type:ie.RegisterDroppable,element:{id:s,key:a,disabled:n,node:R,rect:m,data:N}}),()=>l({type:ie.UnregisterDroppable,key:a,id:s})),[s]),u.useEffect(()=>{n!==h.current.disabled&&(l({type:ie.SetDroppableDisabled,id:s,key:a,disabled:n}),h.current.disabled=n)},[s,a,n,l]),{active:i,rect:m,isOver:(d==null?void 0:d.id)===s,node:R,over:d,setNodeRef:T}}function Cn(e,t,n){const s=e.slice();return s.splice(n<0?s.length+n:n,0,s.splice(t,1)[0]),s}function Lo(e,t){return e.reduce((n,s,o)=>{const a=t.get(s);return a&&(n[o]=a),n},Array(e.length))}function Et(e){return e!==null&&e>=0}function $o(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Bo(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Dn=e=>{let{rects:t,activeIndex:n,overIndex:s,index:o}=e;const a=Cn(t,s,n),i=t[o],l=a[o];return!l||!i?null:{x:l.left-i.left,y:l.top-i.top,scaleX:l.width/i.width,scaleY:l.height/i.height}},Lr="Sortable",$r=j.createContext({activeIndex:-1,containerId:Lr,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Dn,disabled:{draggable:!1,droppable:!1}});function Uo(e){let{children:t,id:n,items:s,strategy:o=Dn,disabled:a=!1}=e;const{active:i,dragOverlay:l,droppableRects:d,over:f,measureDroppableContainers:h}=Ao(),c=bt(Lr,n),m=l.rect!==null,g=u.useMemo(()=>s.map(T=>typeof T=="object"&&"id"in T?T.id:T),[s]),C=i!=null,v=i?g.indexOf(i.id):-1,y=f?g.indexOf(f.id):-1,p=u.useRef(g),x=!$o(g,p.current),S=y!==-1&&v===-1||x,b=Bo(a);Oe(()=>{x&&C&&h(g)},[x,g,C,h]),u.useEffect(()=>{p.current=g},[g]);const R=u.useMemo(()=>({activeIndex:v,containerId:c,disabled:b,disableTransforms:S,items:g,overIndex:y,useDragOverlay:m,sortedRects:Lo(g,d),strategy:o}),[v,c,b.draggable,b.droppable,S,g,y,d,m,o]);return j.createElement($r.Provider,{value:R},t)}const Wo=e=>{let{id:t,items:n,activeIndex:s,overIndex:o}=e;return Cn(n,s,o).indexOf(t)},Fo=e=>{let{containerId:t,isSorting:n,wasDragging:s,index:o,items:a,newIndex:i,previousItems:l,previousContainerId:d,transition:f}=e;return!f||!s||l!==a&&o===i?!1:n?!0:i!==o&&t===d},Ho={duration:200,easing:"ease"},Br="transform",Vo=mt.Transition.toString({property:Br,duration:0,easing:"linear"}),_o={roleDescription:"sortable"};function Yo(e){let{disabled:t,index:n,node:s,rect:o}=e;const[a,i]=u.useState(null),l=u.useRef(n);return Oe(()=>{if(!t&&n!==l.current&&s.current){const d=o.current;if(d){const f=Ze(s.current,{ignoreTransform:!0}),h={x:d.left-f.left,y:d.top-f.top,scaleX:d.width/f.width,scaleY:d.height/f.height};(h.x||h.y)&&i(h)}}n!==l.current&&(l.current=n)},[t,n,s,o]),u.useEffect(()=>{a&&i(null)},[a]),a}function qo(e){let{animateLayoutChanges:t=Fo,attributes:n,disabled:s,data:o,getNewIndex:a=Wo,id:i,strategy:l,resizeObserverConfig:d,transition:f=Ho}=e;const{items:h,containerId:c,activeIndex:m,disabled:g,disableTransforms:C,sortedRects:v,overIndex:y,useDragOverlay:p,strategy:x}=u.useContext($r),S=Xo(s,g),b=h.indexOf(i),R=u.useMemo(()=>({sortable:{containerId:c,index:b,items:h},...o}),[c,o,b,h]),T=u.useMemo(()=>h.slice(h.indexOf(i)),[h,i]),{rect:N,node:D,isOver:E,setNodeRef:O}=zo({id:i,data:R,disabled:S.droppable,resizeObserverConfig:{updateMeasurementsFor:T,...d}}),{active:w,activatorEvent:P,activeNodeRect:z,attributes:V,setNodeRef:J,listeners:ue,isDragging:U,over:pe,setActivatorNodeRef:le,transform:ye}=Io({id:i,data:R,attributes:{..._o,...n},disabled:S.draggable}),M=fa(O,J),$=!!w,W=$&&!C&&Et(m)&&Et(y),ee=!p&&U,re=ee&&W?ye:null,ze=W?re??(l??x)({rects:v,activeNodeRect:z,activeIndex:m,overIndex:y,index:b}):null,ve=Et(m)&&Et(y)?a({id:i,items:h,activeIndex:m,overIndex:y}):b,je=w==null?void 0:w.id,B=u.useRef({activeId:je,items:h,newIndex:ve,containerId:c}),Se=h!==B.current.items,Ne=t({active:w,containerId:c,isDragging:U,isSorting:$,id:i,index:b,items:h,newIndex:B.current.newIndex,previousItems:B.current.items,previousContainerId:B.current.containerId,transition:f,wasDragging:B.current.activeId!=null}),I=Yo({disabled:!Ne,index:b,node:D,rect:N});return u.useEffect(()=>{$&&B.current.newIndex!==ve&&(B.current.newIndex=ve),c!==B.current.containerId&&(B.current.containerId=c),h!==B.current.items&&(B.current.items=h)},[$,ve,c,h]),u.useEffect(()=>{if(je===B.current.activeId)return;if(je!=null&&B.current.activeId==null){B.current.activeId=je;return}const Le=setTimeout(()=>{B.current.activeId=je},50);return()=>clearTimeout(Le)},[je]),{active:w,activeIndex:m,attributes:V,data:R,rect:N,index:b,newIndex:ve,items:h,isOver:E,isSorting:$,isDragging:U,listeners:ue,node:D,overIndex:y,over:pe,setNodeRef:M,setActivatorNodeRef:le,setDroppableNodeRef:O,setDraggableNodeRef:J,transform:I??ze,transition:Ce()};function Ce(){if(I||Se&&B.current.newIndex===b)return Vo;if(!(ee&&!wn(P)||!f)&&($||Ne))return mt.Transition.toString({...f,property:Br})}}function Xo(e,t){var n,s;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(s=e==null?void 0:e.droppable)!=null?s:t.droppable}}function $t(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Go=[L.Down,L.Right,L.Up,L.Left],Ko=(e,t)=>{let{context:{active:n,collisionRect:s,droppableRects:o,droppableContainers:a,over:i,scrollableAncestors:l}}=t;if(Go.includes(e.code)){if(e.preventDefault(),!n||!s)return;const d=[];a.getEnabled().forEach(c=>{if(!c||c!=null&&c.disabled)return;const m=o.get(c.id);if(m)switch(e.code){case L.Down:s.top<m.top&&d.push(c);break;case L.Up:s.top>m.top&&d.push(c);break;case L.Left:s.left>m.left&&d.push(c);break;case L.Right:s.left<m.left&&d.push(c);break}});const f=Ta({active:n,collisionRect:s,droppableRects:o,droppableContainers:d,pointerCoordinates:null});let h=Sr(f,"id");if(h===(i==null?void 0:i.id)&&f.length>1&&(h=f[1].id),h!=null){const c=a.get(n.id),m=a.get(h),g=m?o.get(m.id):null,C=m==null?void 0:m.node.current;if(C&&g&&c&&m){const y=Wt(C).some((T,N)=>l[N]!==T),p=Ur(c,m),x=Jo(c,m),S=y||!p?{x:0,y:0}:{x:x?s.width-g.width:0,y:x?s.height-g.height:0},b={x:g.left,y:g.top};return S.x&&S.y?b:ht(b,S)}}}};function Ur(e,t){return!$t(e)||!$t(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Jo(e,t){return!$t(e)||!$t(t)||!Ur(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function Zo(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const Wr=j.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Qe=()=>{const e=j.useContext(Wr);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};Zo(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const Qo=24,ei=typeof window<"u"?u.useLayoutEffect:u.useEffect;function Jn(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}function ti(){return Rn(/^Mac/)}function ni(){return Rn(/^iPhone/)}function Zn(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function ri(){return Rn(/^iPad/)||ti()&&navigator.maxTouchPoints>1}function Fr(){return ni()||ri()}function Rn(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const nn=typeof document<"u"&&window.visualViewport;function Qn(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function Hr(e){for(Qn(e)&&(e=e.parentElement);e&&!Qn(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const si=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Tt=0,rn;function ai(e={}){let{isDisabled:t}=e;ei(()=>{if(!t)return Tt++,Tt===1&&Fr()&&(rn=oi()),()=>{Tt--,Tt===0&&(rn==null||rn())}},[t])}function oi(){let e,t=0,n=c=>{e=Hr(c.target),!(e===document.documentElement&&e===document.body)&&(t=c.changedTouches[0].pageY)},s=c=>{if(!e||e===document.documentElement||e===document.body){c.preventDefault();return}let m=c.changedTouches[0].pageY,g=e.scrollTop,C=e.scrollHeight-e.clientHeight;C!==0&&((g<=0&&m>t||g>=C&&m<t)&&c.preventDefault(),t=m)},o=c=>{let m=c.target;hn(m)&&m!==document.activeElement&&(c.preventDefault(),m.style.transform="translateY(-2000px)",m.focus(),requestAnimationFrame(()=>{m.style.transform=""}))},a=c=>{let m=c.target;hn(m)&&(m.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{m.style.transform="",nn&&(nn.height<window.innerHeight?requestAnimationFrame(()=>{er(m)}):nn.addEventListener("resize",()=>er(m),{once:!0}))}))},i=()=>{window.scrollTo(0,0)},l=window.pageXOffset,d=window.pageYOffset,f=Jn(ii(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let h=Jn(ot(document,"touchstart",n,{passive:!1,capture:!0}),ot(document,"touchmove",s,{passive:!1,capture:!0}),ot(document,"touchend",o,{passive:!1,capture:!0}),ot(document,"focus",a,!0),ot(window,"scroll",i));return()=>{f(),h(),window.scrollTo(l,d)}}function ii(e,t,n){let s=e.style[t];return e.style[t]=n,()=>{e.style[t]=s}}function ot(e,t,n,s){return e.addEventListener(t,n,s),()=>{e.removeEventListener(t,n,s)}}function er(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=Hr(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let s=n.getBoundingClientRect().top,o=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom;const i=n.getBoundingClientRect().bottom+Qo;a>i&&(n.scrollTop+=o-s)}e=n.parentElement}}function hn(e){return e instanceof HTMLInputElement&&!si.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function li(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function ci(...e){return t=>e.forEach(n=>li(n,t))}function Vr(...e){return u.useCallback(ci(...e),e)}const _r=new WeakMap;function ae(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let s={};Object.entries(t).forEach(([o,a])=>{if(o.startsWith("--")){e.style.setProperty(o,a);return}s[o]=e.style[o],e.style[o]=a}),!n&&_r.set(e,s)}function di(e,t){if(!e||!(e instanceof HTMLElement))return;let n=_r.get(e);n&&(e.style[t]=n[t])}const oe=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function kt(e,t){if(!e)return null;const n=window.getComputedStyle(e),s=n.transform||n.webkitTransform||n.mozTransform;let o=s.match(/^matrix3d\((.+)\)$/);return o?parseFloat(o[1].split(", ")[oe(t)?13:12]):(o=s.match(/^matrix\((.+)\)$/),o?parseFloat(o[1].split(", ")[oe(t)?5:4]):null)}function ui(e){return 8*(Math.log(e+1)-2)}function sn(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function fi(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const K={DURATION:.5,EASE:[.32,.72,0,1]},Yr=.4,hi=.25,mi=100,qr=8,qe=16,mn=26,an="vaul-dragging";function Xr(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function gi({defaultProp:e,onChange:t}){const n=j.useState(e),[s]=n,o=j.useRef(s),a=Xr(t);return j.useEffect(()=>{o.current!==s&&(a(s),o.current=s)},[s,o,a]),n}function Gr({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,o]=gi({defaultProp:t,onChange:n}),a=e!==void 0,i=a?e:s,l=Xr(n),d=j.useCallback(f=>{if(a){const c=typeof f=="function"?f(e):f;c!==e&&l(c)}else o(f)},[a,e,o,l]);return[i,d]}function pi({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:s,overlayRef:o,fadeFromIndex:a,onSnapPointChange:i,direction:l="bottom",container:d,snapToSequentialPoint:f}){const[h,c]=Gr({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[m,g]=j.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);j.useEffect(()=>{function N(){g({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]);const C=j.useMemo(()=>h===(n==null?void 0:n[n.length-1])||null,[n,h]),v=j.useMemo(()=>n==null?void 0:n.findIndex(N=>N===h),[n,h]),y=n&&n.length>0&&(a||a===0)&&!Number.isNaN(a)&&n[a]===h||!n,p=j.useMemo(()=>{const N=d?{width:d.getBoundingClientRect().width,height:d.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var D;return(D=n==null?void 0:n.map(E=>{const O=typeof E=="string";let w=0;if(O&&(w=parseInt(E,10)),oe(l)){const z=O?w:m?E*N.height:0;return m?l==="bottom"?N.height-z:-N.height+z:z}const P=O?w:m?E*N.width:0;return m?l==="right"?N.width-P:-N.width+P:P}))!=null?D:[]},[n,m,d]),x=j.useMemo(()=>v!==null?p==null?void 0:p[v]:null,[p,v]),S=j.useCallback(N=>{var D;const E=(D=p==null?void 0:p.findIndex(O=>O===N))!=null?D:null;i(E),ae(s.current,{transition:`transform ${K.DURATION}s cubic-bezier(${K.EASE.join(",")})`,transform:oe(l)?`translate3d(0, ${N}px, 0)`:`translate3d(${N}px, 0, 0)`}),p&&E!==p.length-1&&E!==a&&E<a?ae(o.current,{transition:`opacity ${K.DURATION}s cubic-bezier(${K.EASE.join(",")})`,opacity:"0"}):ae(o.current,{transition:`opacity ${K.DURATION}s cubic-bezier(${K.EASE.join(",")})`,opacity:"1"}),c(n==null?void 0:n[Math.max(E,0)])},[s.current,n,p,a,o,c]);j.useEffect(()=>{if(h||e){var N;const D=(N=n==null?void 0:n.findIndex(E=>E===e||E===h))!=null?N:-1;p&&D!==-1&&typeof p[D]=="number"&&S(p[D])}},[h,e,n,p,S]);function b({draggedDistance:N,closeDrawer:D,velocity:E,dismissible:O}){if(a===void 0)return;const w=l==="bottom"||l==="right"?(x??0)-N:(x??0)+N,P=v===a-1,z=v===0,V=N>0;if(P&&ae(o.current,{transition:`opacity ${K.DURATION}s cubic-bezier(${K.EASE.join(",")})`}),!f&&E>2&&!V){O?D():S(p[0]);return}if(!f&&E>2&&V&&p&&n){S(p[n.length-1]);return}const J=p==null?void 0:p.reduce((U,pe)=>typeof U!="number"||typeof pe!="number"?U:Math.abs(pe-w)<Math.abs(U-w)?pe:U),ue=oe(l)?window.innerHeight:window.innerWidth;if(E>Yr&&Math.abs(N)<ue*.4){const U=V?1:-1;if(U>0&&C){S(p[n.length-1]);return}if(z&&U<0&&O&&D(),v===null)return;S(p[v+U]);return}S(J)}function R({draggedDistance:N}){if(x===null)return;const D=l==="bottom"||l==="right"?x-N:x+N;(l==="bottom"||l==="right")&&D<p[p.length-1]||(l==="top"||l==="left")&&D>p[p.length-1]||ae(s.current,{transform:oe(l)?`translate3d(0, ${D}px, 0)`:`translate3d(${D}px, 0, 0)`})}function T(N,D){if(!n||typeof v!="number"||!p||a===void 0)return null;const E=v===a-1;if(v>=a&&D)return 0;if(E&&!D)return 1;if(!y&&!E)return null;const w=E?v+1:v-1,P=E?p[w]-p[w-1]:p[w+1]-p[w],z=N/Math.abs(P);return E?1-z:z}return{isLastSnapPoint:C,activeSnapPoint:h,shouldFade:y,getPercentageDragged:T,setActiveSnapPoint:c,activeSnapPointIndex:v,onRelease:b,onDrag:R,snapPointsOffset:p}}const vi=()=>()=>{};function xi(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:s,noBodyStyles:o}=Qe(),a=j.useRef(null),i=u.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-mn)/window.innerWidth}j.useEffect(()=>{if(t&&n){a.current&&clearTimeout(a.current);const d=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!d)return;fi(s&&!o?sn(document.body,{background:"black"}):vi,sn(d,{transformOrigin:oe(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${K.DURATION}s`,transitionTimingFunction:`cubic-bezier(${K.EASE.join(",")})`}));const f=sn(d,{borderRadius:`${qr}px`,overflow:"hidden",...oe(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{f(),a.current=window.setTimeout(()=>{i?document.body.style.background=i:document.body.style.removeProperty("background")},K.DURATION*1e3)}}},[t,n,i])}let it=null;function bi({isOpen:e,modal:t,nested:n,hasBeenOpened:s,preventScrollRestoration:o,noBodyStyles:a}){const[i,l]=j.useState(()=>typeof window<"u"?window.location.href:""),d=j.useRef(0),f=j.useCallback(()=>{if(Zn()&&it===null&&e&&!a){it={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:c,innerHeight:m}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-d.current}px`,left:`${-c}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const g=m-window.innerHeight;g&&d.current>=m&&(document.body.style.top=`${-(d.current+g)}px`)}),300)}},[e]),h=j.useCallback(()=>{if(Zn()&&it!==null&&!a){const c=-parseInt(document.body.style.top,10),m=-parseInt(document.body.style.left,10);Object.assign(document.body.style,it),window.requestAnimationFrame(()=>{if(o&&i!==window.location.href){l(window.location.href);return}window.scrollTo(m,c)}),it=null}},[i]);return j.useEffect(()=>{function c(){d.current=window.scrollY}return c(),window.addEventListener("scroll",c),()=>{window.removeEventListener("scroll",c)}},[]),j.useEffect(()=>{n||!s||(e?(!window.matchMedia("(display-mode: standalone)").matches&&f(),t||window.setTimeout(()=>{h()},500)):h())},[e,s,i,t,n,f,h]),{restorePositionSetting:h}}function Kr({open:e,onOpenChange:t,children:n,onDrag:s,onRelease:o,snapPoints:a,shouldScaleBackground:i=!1,setBackgroundColorOnScale:l=!0,closeThreshold:d=hi,scrollLockTimeout:f=mi,dismissible:h=!0,handleOnly:c=!1,fadeFromIndex:m=a&&a.length-1,activeSnapPoint:g,setActiveSnapPoint:C,fixed:v,modal:y=!0,onClose:p,nested:x,noBodyStyles:S,direction:b="bottom",defaultOpen:R=!1,disablePreventScroll:T=!0,snapToSequentialPoint:N=!1,preventScrollRestoration:D=!1,repositionInputs:E=!0,onAnimationEnd:O,container:w,autoFocus:P=!1}){var z,V;const[J=!1,ue]=Gr({defaultProp:R,prop:e,onChange:k=>{t==null||t(k),!k&&!x&&_t(),setTimeout(()=>{O==null||O(k)},K.DURATION*1e3),k&&!y&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),k||(document.body.style.pointerEvents="auto")}}),[U,pe]=j.useState(!1),[le,ye]=j.useState(!1),[M,$]=j.useState(!1),W=j.useRef(null),ee=j.useRef(null),re=j.useRef(null),G=j.useRef(null),ze=j.useRef(null),ve=j.useRef(!1),je=j.useRef(null),B=j.useRef(0),Se=j.useRef(!1),Ne=j.useRef(0),I=j.useRef(null),Ce=j.useRef(((z=I.current)==null?void 0:z.getBoundingClientRect().height)||0),Le=j.useRef(((V=I.current)==null?void 0:V.getBoundingClientRect().width)||0),Me=j.useRef(0),wt=j.useCallback(k=>{a&&k===Ie.length-1&&(ee.current=new Date)},[]),{activeSnapPoint:yt,activeSnapPointIndex:$e,setActiveSnapPoint:Re,onRelease:Xe,snapPointsOffset:Ie,onDrag:jt,shouldFade:et,getPercentageDragged:Vt}=pi({snapPoints:a,activeSnapPointProp:g,setActiveSnapPointProp:C,drawerRef:I,fadeFromIndex:m,overlayRef:W,onSnapPointChange:wt,direction:b,container:w,snapToSequentialPoint:N});ai({isDisabled:!J||le||!y||M||!U||!E||!T});const{restorePositionSetting:_t}=bi({isOpen:J,modal:y,nested:x,hasBeenOpened:U,preventScrollRestoration:D,noBodyStyles:S});function Ee(){return(window.innerWidth-mn)/window.innerWidth}function He(k){var F,_;!h&&!a||I.current&&!I.current.contains(k.target)||(Ce.current=((F=I.current)==null?void 0:F.getBoundingClientRect().height)||0,Le.current=((_=I.current)==null?void 0:_.getBoundingClientRect().width)||0,ye(!0),re.current=new Date,Fr()&&window.addEventListener("touchend",()=>ve.current=!1,{once:!0}),k.target.setPointerCapture(k.pointerId),B.current=oe(b)?k.pageY:k.pageX)}function Ve(k,F){var _,Y;let A=k;const q=(_=window.getSelection())==null?void 0:_.toString(),H=I.current?kt(I.current,b):null,Z=new Date;if(A.hasAttribute("data-vaul-no-drag")||A.closest("[data-vaul-no-drag]"))return!1;if(b==="right"||b==="left")return!0;if(ee.current&&Z.getTime()-ee.current.getTime()<500)return!1;if(H!==null&&(b==="bottom"?H>0:H<0))return!0;if(q&&q.length>0)return!1;if(Z.getTime()-((Y=ze.current)==null?void 0:Y.getTime())<f&&H===0||F)return ze.current=Z,!1;for(;A;){if(A.scrollHeight>A.clientHeight){if(A.scrollTop!==0)return ze.current=new Date,!1;if(A.getAttribute("role")==="dialog")return!0}A=A.parentNode}return!0}function Nt(k){if(I.current&&le){const F=b==="bottom"||b==="right"?1:-1,_=(B.current-(oe(b)?k.pageY:k.pageX))*F,Y=_>0,A=a&&!h&&!Y;if(A&&$e===0)return;const q=Math.abs(_),H=document.querySelector("[data-vaul-drawer-wrapper]"),Z=b==="bottom"||b==="top"?Ce.current:Le.current;let X=q/Z;const te=Vt(q,Y);if(te!==null&&(X=te),A&&X>=1||!ve.current&&!Ve(k.target,Y))return;if(I.current.classList.add(an),ve.current=!0,ae(I.current,{transition:"none"}),ae(W.current,{transition:"none"}),a&&jt({draggedDistance:_}),Y&&!a){const de=ui(_),Q=Math.min(de*-1,0)*F;ae(I.current,{transform:oe(b)?`translate3d(0, ${Q}px, 0)`:`translate3d(${Q}px, 0, 0)`});return}const se=1-X;if((et||m&&$e===m-1)&&(s==null||s(k,X),ae(W.current,{opacity:`${se}`,transition:"none"},!0)),H&&W.current&&i){const de=Math.min(Ee()+X*(1-Ee()),1),Q=8-X*8,Te=Math.max(0,14-X*14);ae(H,{borderRadius:`${Q}px`,transform:oe(b)?`scale(${de}) translate3d(0, ${Te}px, 0)`:`scale(${de}) translate3d(${Te}px, 0, 0)`,transition:"none"},!0)}if(!a){const de=q*F;ae(I.current,{transform:oe(b)?`translate3d(0, ${de}px, 0)`:`translate3d(${de}px, 0, 0)`})}}}j.useEffect(()=>{var k;function F(){if(!I.current||!E)return;const _=document.activeElement;if(hn(_)||Se.current){var Y;const A=((Y=window.visualViewport)==null?void 0:Y.height)||0,q=window.innerHeight;let H=q-A;const Z=I.current.getBoundingClientRect().height||0,X=Z>q*.8;Me.current||(Me.current=Z);const te=I.current.getBoundingClientRect().top;if(Math.abs(Ne.current-H)>60&&(Se.current=!Se.current),a&&a.length>0&&Ie&&$e){const se=Ie[$e]||0;H+=se}if(Ne.current=H,Z>A||Se.current){const se=I.current.getBoundingClientRect().height;let de=se;se>A&&(de=A-(X?te:mn)),v?I.current.style.height=`${se-Math.max(H,0)}px`:I.current.style.height=`${Math.max(de,A-te)}px`}else I.current.style.height=`${Me.current}px`;a&&a.length>0&&!Se.current?I.current.style.bottom="0px":I.current.style.bottom=`${Math.max(H,0)}px`}}return(k=window.visualViewport)==null||k.addEventListener("resize",F),()=>{var _;return(_=window.visualViewport)==null?void 0:_.removeEventListener("resize",F)}},[$e,a,Ie]);function xe(k){Yt(),p==null||p(),k||ue(!1),setTimeout(()=>{a&&Re(a[0])},K.DURATION*1e3)}function tt(){if(!I.current)return;const k=document.querySelector("[data-vaul-drawer-wrapper]"),F=kt(I.current,b);ae(I.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${K.DURATION}s cubic-bezier(${K.EASE.join(",")})`}),ae(W.current,{transition:`opacity ${K.DURATION}s cubic-bezier(${K.EASE.join(",")})`,opacity:"1"}),i&&F&&F>0&&J&&ae(k,{borderRadius:`${qr}px`,overflow:"hidden",...oe(b)?{transform:`scale(${Ee()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Ee()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${K.DURATION}s`,transitionTimingFunction:`cubic-bezier(${K.EASE.join(",")})`},!0)}function Yt(){!le||!I.current||(I.current.classList.remove(an),ve.current=!1,ye(!1),G.current=new Date)}function qt(k){if(!le||!I.current)return;I.current.classList.remove(an),ve.current=!1,ye(!1),G.current=new Date;const F=kt(I.current,b);if(!Ve(k.target,!1)||!F||Number.isNaN(F)||re.current===null)return;const _=G.current.getTime()-re.current.getTime(),Y=B.current-(oe(b)?k.pageY:k.pageX),A=Math.abs(Y)/_;if(A>.05&&($(!0),setTimeout(()=>{$(!1)},200)),a){Xe({draggedDistance:Y*(b==="bottom"||b==="right"?1:-1),closeDrawer:xe,velocity:A,dismissible:h}),o==null||o(k,!0);return}if(b==="bottom"||b==="right"?Y>0:Y<0){tt(),o==null||o(k,!0);return}if(A>Yr){xe(),o==null||o(k,!1);return}var q;const H=Math.min((q=I.current.getBoundingClientRect().height)!=null?q:0,window.innerHeight);var Z;const X=Math.min((Z=I.current.getBoundingClientRect().width)!=null?Z:0,window.innerWidth),te=b==="left"||b==="right";if(Math.abs(F)>=(te?X:H)*d){xe(),o==null||o(k,!1);return}o==null||o(k,!0),tt()}j.useEffect(()=>(J&&(ae(document.documentElement,{scrollBehavior:"auto"}),ee.current=new Date),()=>{di(document.documentElement,"scrollBehavior")}),[J]);function nt(k){const F=k?(window.innerWidth-qe)/window.innerWidth:1,_=k?-qe:0;je.current&&window.clearTimeout(je.current),ae(I.current,{transition:`transform ${K.DURATION}s cubic-bezier(${K.EASE.join(",")})`,transform:`scale(${F}) translate3d(0, ${_}px, 0)`}),!k&&I.current&&(je.current=setTimeout(()=>{const Y=kt(I.current,b);ae(I.current,{transition:"none",transform:oe(b)?`translate3d(0, ${Y}px, 0)`:`translate3d(${Y}px, 0, 0)`})},500))}function St(k,F){if(F<0)return;const _=(window.innerWidth-qe)/window.innerWidth,Y=_+F*(1-_),A=-qe+F*qe;ae(I.current,{transform:oe(b)?`scale(${Y}) translate3d(0, ${A}px, 0)`:`scale(${Y}) translate3d(${A}px, 0, 0)`,transition:"none"})}function Xt(k,F){const _=oe(b)?window.innerHeight:window.innerWidth,Y=F?(_-qe)/_:1,A=F?-qe:0;F&&ae(I.current,{transition:`transform ${K.DURATION}s cubic-bezier(${K.EASE.join(",")})`,transform:oe(b)?`scale(${Y}) translate3d(0, ${A}px, 0)`:`scale(${Y}) translate3d(${A}px, 0, 0)`})}return j.createElement(cs,{defaultOpen:R,onOpenChange:k=>{!h&&!k||(k?pe(!0):xe(!0),ue(k))},open:J},j.createElement(Wr.Provider,{value:{activeSnapPoint:yt,snapPoints:a,setActiveSnapPoint:Re,drawerRef:I,overlayRef:W,onOpenChange:t,onPress:He,onRelease:qt,onDrag:Nt,dismissible:h,handleOnly:c,isOpen:J,isDragging:le,shouldFade:et,closeDrawer:xe,onNestedDrag:St,onNestedOpenChange:nt,onNestedRelease:Xt,keyboardIsOpen:Se,modal:y,snapPointsOffset:Ie,direction:b,shouldScaleBackground:i,setBackgroundColorOnScale:l,noBodyStyles:S,container:w,autoFocus:P}},n))}const Jr=j.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:s,onRelease:o,shouldFade:a,isOpen:i,modal:l}=Qe(),d=Vr(t,n),f=s&&s.length>0;return l?j.createElement(rs,{onMouseUp:o,ref:d,"data-vaul-overlay":"","data-vaul-snap-points":i&&f?"true":"false","data-vaul-snap-points-overlay":i&&a?"true":"false",...e}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});Jr.displayName="Drawer.Overlay";const Zr=j.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...s},o){const{drawerRef:a,onPress:i,onRelease:l,onDrag:d,keyboardIsOpen:f,snapPointsOffset:h,modal:c,isOpen:m,direction:g,snapPoints:C,container:v,handleOnly:y,autoFocus:p}=Qe(),[x,S]=j.useState(!1),b=Vr(o,a),R=j.useRef(null),T=j.useRef(null),N=j.useRef(!1),D=C&&C.length>0;xi();const E=(w,P,z=0)=>{if(N.current)return!0;const V=Math.abs(w.y),J=Math.abs(w.x),ue=J>V,U=["bottom","right"].includes(P)?1:-1;if(P==="left"||P==="right"){if(!(w.x*U<0)&&J>=0&&J<=z)return ue}else if(!(w.y*U<0)&&V>=0&&V<=z)return!ue;return N.current=!0,!0};j.useEffect(()=>{D&&window.requestAnimationFrame(()=>{S(!0)})},[]);function O(w){R.current=null,N.current=!1,l(w)}return j.createElement(ss,{"data-vaul-drawer-direction":g,"data-vaul-drawer":"","data-vaul-delayed-snap-points":x?"true":"false","data-vaul-snap-points":m&&D?"true":"false","data-vaul-custom-container":v?"true":"false",...s,ref:b,style:h&&h.length>0?{"--snap-point-height":`${h[0]}px`,...t}:t,onPointerDown:w=>{y||(s.onPointerDown==null||s.onPointerDown.call(s,w),R.current={x:w.pageX,y:w.pageY},i(w))},onOpenAutoFocus:w=>{n==null||n(w),p||w.preventDefault()},onPointerDownOutside:w=>{if(e==null||e(w),!c||w.defaultPrevented){w.preventDefault();return}f.current&&(f.current=!1)},onFocusOutside:w=>{if(!c){w.preventDefault();return}},onPointerMove:w=>{if(T.current=w,y||(s.onPointerMove==null||s.onPointerMove.call(s,w),!R.current))return;const P=w.pageY-R.current.y,z=w.pageX-R.current.x,V=w.pointerType==="touch"?10:2;E({x:z,y:P},g,V)?d(w):(Math.abs(z)>V||Math.abs(P)>V)&&(R.current=null)},onPointerUp:w=>{s.onPointerUp==null||s.onPointerUp.call(s,w),R.current=null,N.current=!1,l(w)},onPointerOut:w=>{s.onPointerOut==null||s.onPointerOut.call(s,w),O(T.current)},onContextMenu:w=>{s.onContextMenu==null||s.onContextMenu.call(s,w),O(T.current)}})});Zr.displayName="Drawer.Content";const wi=250,yi=120,Qr=j.forwardRef(function({preventCycle:e=!1,children:t,...n},s){const{closeDrawer:o,isDragging:a,snapPoints:i,activeSnapPoint:l,setActiveSnapPoint:d,dismissible:f,handleOnly:h,isOpen:c,onPress:m,onDrag:g}=Qe(),C=j.useRef(null),v=j.useRef(!1);function y(){if(v.current){S();return}window.setTimeout(()=>{p()},yi)}function p(){if(a||e||v.current){S();return}if(S(),(!i||i.length===0)&&f){o();return}if(l===i[i.length-1]&&f){o();return}const R=i.findIndex(N=>N===l);if(R===-1)return;const T=i[R+1];d(T)}function x(){C.current=window.setTimeout(()=>{v.current=!0},wi)}function S(){window.clearTimeout(C.current),v.current=!1}return j.createElement("div",{onClick:y,onPointerCancel:S,onPointerDown:b=>{h&&m(b),x()},onPointerMove:b=>{h&&g(b)},ref:s,"data-vaul-drawer-visible":c?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},j.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});Qr.displayName="Drawer.Handle";function ji({onDrag:e,onOpenChange:t,...n}){const{onNestedDrag:s,onNestedOpenChange:o,onNestedRelease:a}=Qe();if(!s)throw new Error("Drawer.NestedRoot must be placed in another drawer");return j.createElement(Kr,{nested:!0,onClose:()=>{o(!1)},onDrag:(i,l)=>{s(i,l),e==null||e(i,l)},onOpenChange:i=>{i&&o(i)},onRelease:a,...n})}function Ni(e){const t=Qe(),{container:n=t.container,...s}=e;return j.createElement(ds,{container:n,...s})}const Pe={Root:Kr,NestedRoot:ji,Content:Zr,Overlay:Jr,Trigger:as,Portal:Ni,Handle:Qr,Close:os,Title:is,Description:ls},En=({shouldScaleBackground:e=!0,...t})=>r.jsx(Pe.Root,{shouldScaleBackground:e,...t});En.displayName="Drawer";const Si=Pe.Portal,Ci=Pe.Close,es=u.forwardRef(({className:e,...t},n)=>r.jsx(Pe.Overlay,{ref:n,className:We("fixed inset-0 z-50 bg-black/80",e),...t}));es.displayName=Pe.Overlay.displayName;const Tn=u.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(Si,{children:[r.jsx(es,{}),r.jsxs(Pe.Content,{ref:s,className:We("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...n,children:[r.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));Tn.displayName="DrawerContent";const kn=({className:e,...t})=>r.jsx("div",{className:We("grid gap-1.5 p-4 text-center sm:text-left",e),...t});kn.displayName="DrawerHeader";const ts=({className:e,...t})=>r.jsx("div",{className:We("mt-auto flex flex-col gap-2 p-4",e),...t});ts.displayName="DrawerFooter";const Mn=u.forwardRef(({className:e,...t},n)=>r.jsx(Pe.Title,{ref:n,className:We("text-lg font-semibold leading-none tracking-tight",e),...t}));Mn.displayName=Pe.Title.displayName;const ns=u.forwardRef(({className:e,...t},n)=>r.jsx(Pe.Description,{ref:n,className:We("text-sm text-muted-foreground",e),...t}));ns.displayName=Pe.Description.displayName;function Di(e){const[t,n]=u.useState(!1);return u.useEffect(()=>{function s(a){n(a.matches)}const o=matchMedia(e);return o.addEventListener("change",s),n(o.matches),()=>o.removeEventListener("change",s)},[e]),t}function Ri({events:e=[],selected:t,onSelect:n}){const[s,o]=j.useState(t||new Date);j.useEffect(()=>{t&&o(t)},[t]);const a=Es(s),i=Ts(a),l=ks(a,{locale:Ct,weekStartsOn:1}),d=Ms(i,{locale:Ct,weekStartsOn:1}),f=[];let h=l;for(;h<=d;){const y=[];for(let p=0;p<7;p++)y.push(h),h=Is(h,1);f.push(y)}const c=j.useMemo(()=>{const y=new Map;return e.forEach(p=>{const x=p.date;y.has(x)||y.set(x,[]),y.get(x).push(p)}),y},[e]),m=new Date,g=()=>o(y=>Ls(y,1)),C=()=>o(y=>$s(y,1)),v="h-10 w-10";return r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"flex items-center justify-between px-2 pb-2",children:[r.jsx("button",{onClick:g,className:"p-1 rounded hover:bg-muted/50",children:r.jsx(Bs,{className:"h-5 w-5 text-muted-foreground"})}),r.jsx("div",{className:"text-sm font-semibold",children:In(a,"LLLL yyyy",{locale:Ct})}),r.jsx("button",{onClick:C,className:"p-1 rounded hover:bg-muted/50",children:r.jsx(Us,{className:"h-5 w-5 text-muted-foreground"})})]}),r.jsx("div",{className:"grid grid-cols-7 gap-1 px-1 text-xs text-muted-foreground mb-1",children:["LU","MA","MI","JU","VI","SA","DO"].map((y,p)=>r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("div",{className:"h-10 w-10 flex items-center justify-center font-medium uppercase",children:y})},p))}),r.jsx("div",{className:"space-y-1",children:f.map((y,p)=>r.jsx("div",{className:"grid grid-cols-7 gap-1",children:y.map(x=>{const S=x.toISOString().slice(0,10),b=As(x,a),R=c.get(S)||[],T=R.length>0,N=t?Os(x,t):!1,D=R.some(w=>{const P=Ps(w.date),z=zs(P,m);return z>=2&&z<=5}),E=N?"bg-primary text-primary-foreground":D?"hover:bg-primary/10 ring-2 ring-accent":"hover:bg-primary/10",O=r.jsx("button",{onClick:()=>n&&n(x),className:`flex items-center justify-center ${v} rounded-full transition-colors focus:outline-none ${b?"text-foreground":"text-muted-foreground"} ${E}`,children:r.jsxs("div",{className:"relative flex items-center justify-center w-full h-full",children:[r.jsx("span",{className:"text-sm font-medium",children:In(x,"d",{locale:Ct})}),T&&r.jsx("span",{className:`absolute -bottom-2 h-1.5 w-1.5 rounded-full ${D?"bg-primary":"bg-accent"}`})]})},S);if(T){const w=r.jsxs("div",{className:"space-y-1",children:[R.slice(0,5).map(P=>r.jsxs("div",{className:"text-xs",children:[r.jsx("div",{className:"font-medium",children:P.title}),r.jsxs("div",{className:"text-muted-foreground",children:[P.branch,"  ",P.sector]})]},P.id)),R.length>5&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",R.length-5," ms"]})]});return r.jsxs(us,{children:[r.jsx(fs,{asChild:!0,children:O}),r.jsx(hs,{side:"top",children:w})]},S)}return O})},p))})]})}const Mt=[{id:"metrics-carousel",type:"metrics-carousel",title:"Mtricas Financieras",description:"Diferencia neta, negativos y positivos",icon:Ot,visible:!0,order:0,size:"small",mandatory:!0},{id:"active-products",type:"active-products",title:"Productos Activos",description:"Total de productos en inventarios",icon:pr,visible:!0,order:1,size:"small"},{id:"inventory-summary",type:"inventory-summary",title:"Resumen de Inventario",description:"Progreso de productos en stock",icon:rr,visible:!0,order:2,size:"large"},{id:"inventory-alerts",type:"inventory-alerts",title:"Alertas de Inventario",description:"Notificaciones importantes",icon:It,visible:!0,order:3,size:"large"},{id:"upcoming-inventories",type:"upcoming-inventories",title:"Prximos Inventarios",description:"Inventarios programados",icon:vr,visible:!0,order:4,size:"large"},{id:"branches-table",type:"branches-table",title:"Tabla de Sucursales",description:"Listado completo de sucursales",icon:ra,visible:!0,order:5,size:"full"},{id:"inventory-progress",type:"inventory-progress",title:"Progreso de Inventarios",description:"Porcentaje de inventarios completados",icon:pt,visible:!1,order:6,size:"small"},{id:"critical-products",type:"critical-products",title:"Productos Crticos",description:"Productos con stock bajo o agotados",icon:sr,visible:!1,order:7,size:"small"},{id:"total-stock-value",type:"total-stock-value",title:"Valor Total de Stock",description:"Valor monetario total del inventario",icon:Ot,visible:!1,order:8,size:"small"},{id:"active-users",type:"active-users",title:"Usuarios Activos",description:"Usuarios trabajando en tiempo real",icon:xr,visible:!1,order:9,size:"small"},{id:"pending-inventories",type:"pending-inventories",title:"Inventarios Pendientes",description:"Inventarios sin completar",icon:Bt,visible:!1,order:10,size:"small"},{id:"trends-chart",type:"trends-chart",title:"Grfico de Tendencias",description:"Evolucin de diferencias en el tiempo",icon:sa,visible:!1,order:11,size:"large"},{id:"top-products",type:"top-products",title:"Top Productos con Diferencias",description:"Productos con mayores discrepancias",icon:da,visible:!1,order:12,size:"large"},{id:"activity-timeline",type:"activity-timeline",title:"Actividad Reciente",description:"Timeline de ltimas acciones",icon:oa,visible:!1,order:13,size:"large"},{id:"category-distribution",type:"category-distribution",title:"Distribucin por Categora",description:"Porcentaje de productos por categora",icon:zn,visible:!1,order:14,size:"large"},{id:"monthly-goals",type:"monthly-goals",title:"Objetivos del Mes",description:"Progreso hacia metas mensuales",icon:ur,visible:!1,order:15,size:"large"},{id:"sync-status",type:"sync-status",title:"Estado de Sincronizacin",description:"Conexin y datos pendientes",icon:fr,visible:!1,order:16,size:"large"},{id:"quick-actions",type:"quick-actions",title:"Acciones Rpidas",description:"Tareas frecuentes",icon:ua,visible:!1,order:17,size:"large"},{id:"countdown",type:"countdown",title:"Contador de Das",description:"Das restantes para finalizar conteo cclico",icon:dr,visible:!0,order:6,size:"small"},{id:"category-progress",type:"category-progress",title:"Progreso por Rubros",description:"Avance de inventario por categora",icon:zn,visible:!0,order:7,size:"large"}];function Ei(e){const t=`dashboard-layout-v2-${e||"default"}`,[n,s]=u.useState(()=>{try{const c=localStorage.getItem(t);if(c){const m=JSON.parse(c);return Mt.map(C=>{const v=m.widgets.find(y=>y.id===C.id);return v?{...C,visible:v.visible,order:v.order,...C.mandatory?{visible:!0}:{}}:C}).sort((C,v)=>C.order-v.order)}}catch(c){console.error("Error loading dashboard layout:",c)}return Mt}),[o,a]=u.useState(!1);u.useEffect(()=>{const m={widgets:n.map(({id:g,visible:C,order:v})=>({id:g,visible:C,order:v})),lastUpdated:Date.now()};localStorage.setItem(t,JSON.stringify(m))},[n,t]);const i=(c,m)=>{s(g=>{const C=g.findIndex(p=>p.id===c),v=g.findIndex(p=>p.id===m);return Cn(g,C,v).map((p,x)=>({...p,order:x}))})},l=c=>{s(m=>m.map(g=>g.id===c&&!g.mandatory?{...g,visible:!g.visible}:g))},d=()=>{s(Mt),a(!1)};u.useEffect(()=>{n.every(m=>m.title&&m.icon)||(console.warn("Detected corrupted widget state, resetting to defaults"),s(Mt))},[n]);const f=n.filter(c=>c.visible).sort((c,m)=>c.order-m.order),h=n.filter(c=>!c.visible).sort((c,m)=>(c.title||"").localeCompare(m.title||""));return{widgets:n,visibleWidgets:f,hiddenWidgets:h,isEditMode:o,setIsEditMode:a,reorderWidgets:i,toggleWidgetVisibility:l,resetLayout:d}}const Ti={small:"col-span-1",medium:"col-span-1 md:col-span-2",large:"col-span-1",full:"col-span-full"};function on({widget:e,isEditMode:t,onRemove:n,children:s}){const{attributes:o,listeners:a,setNodeRef:i,transform:l,transition:d,isDragging:f}=qo({id:e.id,disabled:!t}),h={transform:mt.Transform.toString(l),transition:d};return r.jsx("div",{ref:i,style:h,className:We(Ti[e.size],f&&"opacity-50 z-50",t&&"cursor-move"),children:r.jsxs("div",{className:We("relative h-full transition-all rounded-lg",t&&"ring-2 ring-primary/20 hover:ring-primary/40"),children:[t&&r.jsxs("div",{className:"absolute top-2 right-2 z-10 flex gap-1",children:[r.jsx(fe,{variant:"ghost",size:"icon",className:"h-6 w-6 cursor-grab active:cursor-grabbing",...o,...a,children:r.jsx(aa,{className:"h-4 w-4"})}),!e.mandatory&&n&&r.jsx(fe,{variant:"ghost",size:"icon",className:"h-6 w-6 hover:bg-destructive hover:text-destructive-foreground",onClick:n,children:r.jsx(ms,{className:"h-4 w-4"})})]}),s]})})}function ki({open:e,onOpenChange:t,hiddenWidgets:n,onAddWidget:s}){return r.jsx(En,{open:e,onOpenChange:t,children:r.jsxs(Tn,{children:[r.jsxs(kn,{children:[r.jsx(Mn,{children:"Agregar Widgets"}),r.jsx(ns,{children:"Selecciona los widgets que deseas agregar al dashboard"})]}),r.jsx("div",{className:"px-4 pb-4 max-h-[60vh] overflow-y-auto",children:n.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:r.jsx("p",{children:"Todos los widgets estn visibles en el dashboard"})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(o=>{const a=o.icon;return r.jsxs(ne,{className:"hover:border-primary transition-colors",children:[r.jsx(he,{className:"pb-3",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:r.jsx(a,{className:"h-4 w-4 text-primary"})}),r.jsxs("div",{children:[r.jsx(me,{className:"text-sm",children:o.title}),r.jsx(gs,{className:"text-xs mt-1",children:o.description})]})]})})}),r.jsx(ge,{className:"pt-0",children:r.jsxs(fe,{size:"sm",className:"w-full",onClick:()=>{s(o.id),n.length===1&&t(!1)},children:[r.jsx(gn,{className:"h-4 w-4 mr-2"}),"Agregar"]})})]},o.id)})})}),r.jsx(ts,{children:r.jsx(Ci,{asChild:!0,children:r.jsx(fe,{variant:"outline",children:"Cerrar"})})})]})})}function Mi({metrics:e}){const t=(a,i)=>{if(i===0)return{value:0,isPositive:!0};const l=a/i*100;return{value:Math.abs(Number(l.toFixed(1))),isPositive:l>=0}},n=t(e.negativeUnits+e.positiveUnits,e.totalSystemUnits),s=t(e.negativeUnits,e.totalSystemUnits),o=t(e.positiveUnits,e.totalSystemUnits);return r.jsx(Ws,{items:[{id:"net",label:"Diferencia Neta",value:e.totalStock,color:e.totalStock<0?"text-destructive":e.totalStock>0?"text-success":"text-foreground",icon:Ot,prefix:"$",trend:n},{id:"negative",label:"Negativo Total",value:e.negativeStock,color:"text-destructive",icon:pn,prefix:"$",trend:s},{id:"positive",label:"Positivo Total",value:e.positiveStock,color:"text-success",icon:pt,prefix:"$",trend:o}]})}function Ii({activeProducts:e}){return r.jsxs(ne,{className:"h-full flex flex-col justify-between",children:[r.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(me,{className:"text-sm font-medium",children:"Productos Activos"}),r.jsx(pr,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(ge,{children:[(()=>{const t=new Intl.NumberFormat("es-AR").format(e);let n="text-3xl";return t.length>8?n="text-xl":t.length>6&&(n="text-2xl"),r.jsx("div",{className:`${n} font-bold`,children:r.jsx(hr,{value:e})})})(),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Total en base de datos"})]})]})}function Ai(){return r.jsxs(ne,{className:"p-6 h-full",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-sm font-medium text-muted-foreground",children:"Resumen de Inventario"}),r.jsx("button",{className:"text-sm text-muted-foreground hover:text-foreground",children:"Ver detalles"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Productos en Stock"}),r.jsx("span",{className:"text-sm font-medium",children:"85%"})]}),r.jsx(Jt,{value:85})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Productos con Bajo Stock"}),r.jsx("span",{className:"text-sm font-medium text-warning",children:"12%"})]}),r.jsx(Jt,{value:12,variant:"warning"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Productos Agotados"}),r.jsx("span",{className:"text-sm font-medium text-destructive",children:"3%"})]}),r.jsx(Jt,{value:3,variant:"destructive"})]})]})]})}function Oi(){return r.jsxs(ne,{className:"p-6 h-full",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-sm font-medium text-muted-foreground",children:"Alertas de Inventario"}),r.jsx("span",{className:"px-3 py-1 bg-warning/10 text-warning text-xs font-medium rounded-full",children:"3 Activas"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted/50 rounded-lg",children:[r.jsx(It,{className:"w-5 h-5 text-warning mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-foreground",children:"Stock bajo en Sucursal Palermo II"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"15 productos necesitan reabastecimiento"})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted/50 rounded-lg",children:[r.jsx(It,{className:"w-5 h-5 text-warning mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-foreground",children:"Inventario cclico pendiente"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Sucursal Microcentro - Vence en 2 das"})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted/50 rounded-lg",children:[r.jsx(It,{className:"w-5 h-5 text-destructive mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-foreground",children:"Diferencia significativa detectada"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Sucursal Belgrano III - Revisar urgente"})]})]})]})]})}function Pi({inventories:e,onDateClick:t}){return r.jsxs(ne,{className:"p-6 h-full",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-sm font-medium text-muted-foreground",children:"Prximos Inventarios"}),r.jsxs("span",{className:"px-3 py-1 bg-primary/10 text-primary text-xs font-medium rounded-full",children:[e.length," Programados"]})]}),r.jsx("div",{className:"space-y-4",children:e.map((n,s)=>r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted/50 rounded-lg",children:[r.jsx(vr,{className:"w-5 h-5 text-primary mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("p",{className:"text-sm font-medium text-foreground",children:[n.branch," - ",n.sector]}),r.jsx("button",{onClick:()=>t(n.iso),className:"text-xs text-muted-foreground mt-1 hover:underline",children:n.date})]})]},s))})]})}const tr=5;function zi({branches:e}){const[t,n]=u.useState(""),[s,o]=u.useState(!1),[a,i]=u.useState({key:"name",direction:"ascending"}),l=e.filter(c=>c.name.toLowerCase().includes(t.toLowerCase())||c.address.toLowerCase().includes(t.toLowerCase())||c.zonal.toLowerCase().includes(t.toLowerCase())||c.email&&c.email.toLowerCase().includes(t.toLowerCase())),d=u.useMemo(()=>{let c=[...l];return a.key&&c.sort((m,g)=>m[a.key]<g[a.key]?a.direction==="ascending"?-1:1:m[a.key]>g[a.key]?a.direction==="ascending"?1:-1:0),c},[l,a]),f=c=>{let m="ascending";a.key===c&&a.direction==="ascending"&&(m="descending"),i({key:c,direction:m})},h=s?d:d.slice(0,tr);return r.jsxs(ne,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Sucursales"}),r.jsxs("div",{className:"relative w-64",children:[r.jsx(ps,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(Hs,{placeholder:"Buscar sucursal...",value:t,onChange:c=>n(c.target.value),className:"pl-8"})]})]}),r.jsx("div",{className:"rounded-md border",children:r.jsxs(Vs,{children:[r.jsx(_s,{children:r.jsxs(An,{children:[r.jsx(Dt,{className:"cursor-pointer",onClick:()=>f("name"),children:r.jsxs("div",{className:"flex items-center",children:["Sucursal",r.jsx(Kt,{className:"ml-2 h-4 w-4"})]})}),r.jsx(Dt,{className:"cursor-pointer",onClick:()=>f("zonal"),children:r.jsxs("div",{className:"flex items-center",children:["Zonal",r.jsx(Kt,{className:"ml-2 h-4 w-4"})]})}),r.jsx(Dt,{className:"cursor-pointer",onClick:()=>f("address"),children:r.jsxs("div",{className:"flex items-center",children:["Direccin",r.jsx(Kt,{className:"ml-2 h-4 w-4"})]})}),r.jsx(Dt,{className:"text-right",children:"Contacto"})]})}),r.jsx(Ys,{children:h.map((c,m)=>r.jsxs(An,{children:[r.jsx(Rt,{className:"font-medium",children:c.name}),r.jsx(Rt,{children:c.zonal}),r.jsx(Rt,{children:c.address}),r.jsx(Rt,{className:"text-right",children:r.jsx(fe,{asChild:!0,variant:"ghost",size:"icon",children:r.jsx("a",{href:`mailto:${c.email}`,children:r.jsx(qs,{className:"h-4 w-4"})})})})]},m))})]})}),d.length>tr&&r.jsx("div",{className:"mt-4 text-center",children:r.jsx(fe,{variant:"outline",onClick:()=>o(!s),children:s?"Mostrar menos":`Mostrar todas (${d.length})`})})]})}function Li({completedCount:e,totalCount:t}){const n=t>0?Math.round(e/t*100):0,s=()=>n>=80?"text-success":n>=50?"text-warning":"text-destructive";return r.jsxs(ne,{className:"h-full flex flex-col justify-between",children:[r.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(me,{className:"text-sm font-medium",children:"Progreso"}),r.jsx(pt,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(ge,{children:[r.jsxs("div",{className:`text-xl font-bold ${s()}`,children:[n,"%"]}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[e," de ",t," completados"]}),r.jsx(cr,{value:n,className:"mt-2"})]})]})}function $i({criticalCount:e,outOfStockCount:t}){const n=e>0||t>0;return r.jsxs(ne,{className:"h-full flex flex-col justify-between",children:[r.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(me,{className:"text-sm font-medium",children:"Crticos"}),r.jsx(sr,{className:`h-4 w-4 ${n?"text-destructive":"text-muted-foreground"}`})]}),r.jsxs(ge,{children:[r.jsx("div",{className:`text-xl font-bold ${n?"text-destructive":"text-foreground"}`,children:e}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Productos con stock bajo"}),t>0&&r.jsxs(Fe,{variant:"destructive",className:"mt-2",children:[t," agotados"]})]})]})}function Bi({totalValue:e,changePercentage:t}){const n=t!==void 0&&t>=0;return r.jsxs(ne,{className:"h-full flex flex-col justify-between",children:[r.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:"Valor Total"}),r.jsx(Ot,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(ge,{children:[r.jsxs("div",{className:"text-xl font-bold",children:["$",r.jsx(hr,{value:e})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Valor de inventario"}),t!==void 0&&r.jsxs("div",{className:`flex items-center gap-1 mt-2 text-xs ${n?"text-success":"text-destructive"}`,children:[n?r.jsx(pt,{className:"h-3 w-3"}):r.jsx(pn,{className:"h-3 w-3"}),r.jsxs("span",{children:[Math.abs(t).toFixed(1),"% vs mes anterior"]})]})]})]})}function Ui({activeCount:e,activeBranches:t}){return r.jsxs(ne,{className:"h-full flex flex-col justify-between",children:[r.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(me,{className:"text-sm font-medium",children:"Activos"}),r.jsxs("div",{className:"relative",children:[r.jsx(xr,{className:"h-4 w-4 text-muted-foreground"}),e>0&&r.jsx("span",{className:"absolute -top-1 -right-1 h-2 w-2 bg-success rounded-full animate-pulse"})]})]}),r.jsxs(ge,{children:[r.jsx("div",{className:"text-xl font-bold",children:e}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Usuarios trabajando"}),t.length>0&&r.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[t.slice(0,2).map((n,s)=>r.jsx(Fe,{variant:"secondary",className:"text-xs",children:n},s)),t.length>2&&r.jsxs(Fe,{variant:"secondary",className:"text-xs",children:["+",t.length-2]})]})]})]})}function Wi({pendingCount:e,urgentCount:t}){return r.jsxs(ne,{className:"h-full flex flex-col justify-between",children:[r.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(me,{className:"text-sm font-medium",children:"Pendientes"}),r.jsx(Bt,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(ge,{children:[r.jsx("div",{className:`text-xl font-bold ${e>0?"text-warning":"text-foreground"}`,children:e}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Inventarios sin completar"}),t>0&&r.jsxs(Fe,{variant:"destructive",className:"mt-2",children:[t," urgentes"]})]})]})}function Fi({data:e=[]}){const[t,n]=u.useState("7d"),s=[{date:"01/12",negative:-1200,positive:800},{date:"02/12",negative:-950,positive:1100},{date:"03/12",negative:-1500,positive:900},{date:"04/12",negative:-800,positive:1300},{date:"05/12",negative:-1100,positive:950},{date:"06/12",negative:-900,positive:1200},{date:"07/12",negative:-1300,positive:1e3}],o=e.length>0?e:s;return r.jsxs(ne,{className:"h-full",children:[r.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[r.jsx(me,{className:"text-lg font-semibold",children:"Tendencias"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(fe,{variant:t==="7d"?"default":"outline",size:"sm",onClick:()=>n("7d"),children:"7 das"}),r.jsx(fe,{variant:t==="30d"?"default":"outline",size:"sm",onClick:()=>n("30d"),children:"30 das"})]})]}),r.jsx(ge,{children:r.jsx(mr,{width:"100%",height:200,children:r.jsxs(Xs,{data:o,children:[r.jsx(Gs,{strokeDasharray:"3 3"}),r.jsx(Ks,{dataKey:"date",fontSize:12}),r.jsx(Js,{fontSize:12}),r.jsx(gr,{}),r.jsx(Zs,{}),r.jsx(On,{type:"monotone",dataKey:"negative",stroke:"hsl(var(--destructive))",name:"Negativo",strokeWidth:2}),r.jsx(On,{type:"monotone",dataKey:"positive",stroke:"hsl(var(--success))",name:"Positivo",strokeWidth:2})]})})})]})}function Hi({products:e=[]}){const t=[{name:"Ibuprofeno 600mg",ean:"7798140250685",difference:-45,value:-2250,type:"negative"},{name:"Paracetamol 500mg",ean:"7798140250692",difference:32,value:1600,type:"positive"},{name:"Amoxicilina 500mg",ean:"7798140250708",difference:-28,value:-1680,type:"negative"},{name:"Omeprazol 20mg",ean:"7798140250715",difference:25,value:1500,type:"positive"},{name:"Losartn 50mg",ean:"7798140250722",difference:-20,value:-1200,type:"negative"}],n=e.length>0?e:t;return r.jsxs(ne,{className:"h-full",children:[r.jsxs(he,{className:"pb-3",children:[r.jsx(me,{className:"text-lg font-semibold",children:"Top Diferencias"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Productos con mayores discrepancias"})]}),r.jsx(ge,{children:r.jsx("div",{className:"space-y-3",children:n.map((s,o)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("p",{className:"text-sm font-medium",children:s.name}),r.jsx(Fe,{variant:s.type==="negative"?"destructive":"default",className:"text-xs",children:s.type==="negative"?"Faltante":"Sobrante"})]}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["EAN: ",s.ean]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:`flex items-center gap-1 ${s.type==="negative"?"text-destructive":"text-success"}`,children:[s.type==="negative"?r.jsx(pn,{className:"h-3 w-3"}):r.jsx(pt,{className:"h-3 w-3"}),r.jsx("span",{className:"text-sm font-semibold",children:Math.abs(s.difference)})]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",Math.abs(s.value)]})]}),r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsx(Fs,{className:"h-4 w-4"})})]})]},o))})})]})}function Vi({activities:e=[]}){const t=[{id:"1",type:"completed",title:"Inventario Farmacia completado",branch:"Belgrano IV",timestamp:"Hace 5 minutos",user:"Juan Prez"},{id:"2",type:"adjusted",title:"Ajustes realizados en Perfumera",branch:"Recoleta",timestamp:"Hace 15 minutos",user:"Mara Gonzlez"},{id:"3",type:"imported",title:"Inventario importado",branch:"Palermo II",timestamp:"Hace 1 hora",user:"Carlos Rodrguez"},{id:"4",type:"completed",title:"Pre-conteo finalizado",branch:"Microcentro",timestamp:"Hace 2 horas",user:"Ana Martnez"}],n=e.length>0?e:t,s=a=>{switch(a){case"completed":return r.jsx(or,{className:"h-4 w-4 text-success"});case"adjusted":return r.jsx(ca,{className:"h-4 w-4 text-warning"});case"imported":return r.jsx(ar,{className:"h-4 w-4 text-primary"})}},o=a=>{switch(a){case"completed":return"Completado";case"adjusted":return"Ajustado";case"imported":return"Importado"}};return r.jsxs(ne,{className:"h-full",children:[r.jsxs(he,{className:"pb-3",children:[r.jsx(me,{className:"text-lg font-semibold",children:"Actividad Reciente"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"ltimas acciones realizadas"})]}),r.jsx(ge,{children:r.jsx("div",{className:"space-y-4",children:n.map((a,i)=>r.jsxs("div",{className:"relative",children:[i<n.length-1&&r.jsx("div",{className:"absolute left-2 top-8 bottom-0 w-px bg-border"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("div",{className:"relative z-10 mt-1 rounded-full bg-background p-1 border",children:s(a.type)}),r.jsxs("div",{className:"flex-1 pb-4",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:a.title}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a.branch,"  ",a.user]})]}),r.jsx(Fe,{variant:"secondary",className:"text-xs",children:o(a.type)})]}),r.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-muted-foreground",children:[r.jsx(Bt,{className:"h-3 w-3"}),r.jsx("span",{children:a.timestamp})]})]})]})]},a.id))})})]})}const Ue=["hsl(var(--chart-1))","hsl(var(--chart-2))","hsl(var(--chart-3))","hsl(var(--chart-4))","hsl(var(--chart-5))"];function _i({data:e=[]}){const t=[{name:"Farmacia",value:450,color:Ue[0]},{name:"Perfumera",value:280,color:Ue[1]},{name:"Higiene",value:180,color:Ue[2]},{name:"Bebs",value:120,color:Ue[3]},{name:"Otros",value:90,color:Ue[4]}],n=e.length>0?e:t,s=n.reduce((o,a)=>o+a.value,0);return r.jsxs(ne,{className:"h-full",children:[r.jsxs(he,{className:"pb-3",children:[r.jsx(me,{className:"text-lg font-semibold",children:"Distribucin por Categora"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Productos por categora"})]}),r.jsxs(ge,{children:[r.jsx(mr,{width:"100%",height:200,children:r.jsxs(Qs,{children:[r.jsx(ea,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:({name:o,percent:a})=>`${o} ${(a*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:n.map((o,a)=>r.jsx(ta,{fill:o.color||Ue[a%Ue.length]},`cell-${a}`))}),r.jsx(gr,{})]})}),r.jsx("div",{className:"mt-4 grid grid-cols-2 gap-2",children:n.map((o,a)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:o.color||Ue[a%Ue.length]}}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:[o.name,": ",o.value," (",(o.value/s*100).toFixed(1),"%)"]})]},a))})]})]})}function Yi({goals:e=[]}){const t=[{title:"Inventarios Completados",current:45,target:60,badge:"75%"},{title:"Productos Controlados",current:1250,target:1500,badge:"83%"},{title:"Diferencias Resueltas",current:28,target:35,badge:"80%"}],n=e.length>0?e:t;return r.jsxs(ne,{className:"h-full",children:[r.jsx(he,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(me,{className:"text-lg font-semibold",children:"Objetivos del Mes"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Progreso hacia metas"})]}),r.jsx(ur,{className:"h-5 w-5 text-primary"})]})}),r.jsx(ge,{children:r.jsx("div",{className:"space-y-4",children:n.map((s,o)=>{const a=Math.round(s.current/s.target*100),i=a>=100;return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm font-medium",children:s.title}),i&&r.jsx(na,{className:"h-4 w-4 text-success"})]}),r.jsxs(Fe,{variant:i?"default":"secondary",children:[s.current,"/",s.target]})]}),r.jsx(cr,{value:a,className:"h-2"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[a,"% completado"]})]},o)})})})]})}function qi({isOnline:e=!0,pendingCount:t=0,lastSync:n="Hace 5 minutos",onSync:s}){return r.jsxs(ne,{className:"h-full",children:[r.jsx(he,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(me,{className:"text-lg font-semibold",children:"Sincronizacin"}),e?r.jsx(fr,{className:"h-5 w-5 text-success"}):r.jsx(vs,{className:"h-5 w-5 text-destructive"})]})}),r.jsxs(ge,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Estado de Conexin"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:e?"Conectado":"Sin conexin"})]}),r.jsx(Fe,{variant:e?"default":"destructive",children:e?"Online":"Offline"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Datos Pendientes"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:t>0?`${t} elementos`:"Todo sincronizado"})]}),t>0?r.jsx(Fe,{variant:"warning",children:t}):r.jsx(or,{className:"h-5 w-5 text-success"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[r.jsx(Bt,{className:"h-3 w-3"}),r.jsxs("span",{children:["ltima sincronizacin: ",n]})]}),r.jsxs(fe,{className:"w-full",variant:t>0?"default":"outline",onClick:s,disabled:!e,children:[r.jsx(xs,{className:"h-4 w-4 mr-2"}),t>0?"Sincronizar Ahora":"Actualizar"]})]})]})}function Xi({actions:e=[]}){const t=[{title:"Nuevo Pre-Conteo",description:"Iniciar nuevo pre-conteo",icon:gn,onClick:()=>console.log("Nuevo Pre-Conteo"),variant:"default"},{title:"Importar Inventario",description:"Cargar desde Excel",icon:ar,onClick:()=>console.log("Importar"),variant:"outline"},{title:"Ver Reportes",description:"Anlisis y estadsticas",icon:rr,onClick:()=>console.log("Reportes"),variant:"outline"},{title:"Exportar Datos",description:"Descargar informacin",icon:bs,onClick:()=>console.log("Exportar"),variant:"outline"},{title:"Configuracin",description:"Ajustes del sistema",icon:ws,onClick:()=>console.log("Configuracin"),variant:"secondary"}],n=e.length>0?e:t;return r.jsxs(ne,{className:"h-full",children:[r.jsxs(he,{className:"pb-3",children:[r.jsx(me,{className:"text-lg font-semibold",children:"Acciones Rpidas"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Tareas frecuentes"})]}),r.jsx(ge,{children:r.jsx("div",{className:"grid grid-cols-2 gap-3",children:n.map((s,o)=>{const a=s.icon;return r.jsxs(fe,{variant:s.variant||"outline",className:"h-auto flex-col items-start p-4 gap-2",onClick:s.onClick,children:[r.jsx(a,{className:"h-5 w-5"}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"text-sm font-medium",children:s.title}),r.jsx("p",{className:"text-xs text-muted-foreground font-normal",children:s.description})]})]},o)})})})]})}function Gi({assignedDays:e=0,daysRemaining:t=0,totalProgress:n=0,monthlyProgress:s=[]}){const o=e>0?Math.ceil(e/30):3,a=Array.from({length:o});return r.jsxs(ne,{className:"h-full flex flex-col overflow-hidden",children:[r.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 px-5 pt-4 pb-2",children:[r.jsx(me,{className:"text-sm font-medium",children:"Plazo de Inventario"}),r.jsx(dr,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(ge,{className:"flex flex-col justify-between flex-1 px-5 pb-4 pt-1 gap-4",children:[r.jsxs("div",{className:"flex items-end justify-between",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-3xl font-bold tracking-tight text-foreground",children:e>0?e:"-"}),r.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide",children:"Das Asignados"})]}),r.jsx("div",{className:"h-8 w-px bg-border/60 mx-2 mb-1"}),r.jsxs("div",{className:"flex flex-col items-end",children:[r.jsx("span",{className:"text-3xl font-bold tracking-tight text-foreground",children:e>0?t:"-"}),r.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide text-right",children:"Das Restantes"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Avance Global"}),r.jsxs("span",{className:"text-sm font-bold text-primary",children:[n,"%"]})]}),r.jsx("div",{className:"grid gap-2",style:{gridTemplateColumns:`repeat(${o}, 1fr)`},children:a.map((i,l)=>{const d=s[l]||0,f=e===0;return r.jsxs("div",{className:"space-y-1.5 group",children:[r.jsx("div",{className:"h-2 w-full bg-muted/50 rounded-full overflow-hidden relative",children:r.jsx("div",{className:We("h-full bg-primary transition-all duration-500 rounded-full",f&&"w-0"),style:{width:f?"0%":`${Math.min(d,100)}%`}})}),r.jsx("div",{className:"text-[10px] text-center text-muted-foreground font-medium",children:f?"-":`${d}%`})]},l)})})]})]})]})}const Ki=e=>{const t=Math.min(120,Math.max(0,e*1.2));return{background:`linear-gradient(135deg, hsl(${t}, 85%, 60%), hsl(${t}, 90%, 40%))`,color:"white"}};function Ji(){const{user:e}=ir(),[t,n]=u.useState([]),[s,o]=u.useState(null),[a,i]=u.useState(!0);u.useEffect(()=>{const d=async()=>{if(!(e!=null&&e.branchSheet)){i(!1);return}try{const h=await js(e.branchSheet),c=await lr.getAllCyclicInventories(e.branchSheet)||[],m=new Map(c.map(x=>[x.labName,x.status])),g={Farmacia:{total:0,controlled:0},Perfumera:{total:0,controlled:0},Accesorios:{total:0,controlled:0},Varios:{total:0,controlled:0}};let C=0,v=0;h.forEach(x=>{let S="Varios";const b=x.category.toUpperCase();b==="MEDICAMENTOS"?S="Farmacia":b==="PERFUMERIA"?S="Perfumera":b==="ACCESORIOS"&&(S="Accesorios");const T=m.get(x.name)==="controlado";g[S]?(g[S].total+=1,T&&(g[S].controlled+=1)):(g.Varios.total+=1,T&&(g.Varios.controlled+=1)),C+=1,T&&(v+=1)});const y=Object.entries(g).map(([x,S])=>{const b=S.total>0?Math.round(S.controlled/S.total*100):0;return{name:x,totalItems:S.total,controlledItems:S.controlled,percentage:b,pendingPercentage:100-b}}),p=C>0?Math.round(v/C*100):0;o({name:"Global",totalItems:C,controlledItems:v,percentage:p,pendingPercentage:100-p}),n(y)}catch(h){console.error("Error loading category progress:",h)}finally{i(!1)}};d();const f=setInterval(d,3e4);return()=>clearInterval(f)},[e]);const l=[...t].sort((d,f)=>d.percentage-f.percentage);return a?r.jsx(ne,{className:"h-full flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):r.jsxs(ne,{className:"h-full flex flex-col border-border/50 shadow-sm bg-card/50 backdrop-blur-sm",children:[r.jsx(he,{className:"pb-2 px-4 pt-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(me,{className:"text-base font-semibold tracking-tight",children:"Progreso de Inventario"}),r.jsxs("span",{className:"text-xs text-muted-foreground bg-muted px-2 py-1 rounded-full",children:[s==null?void 0:s.totalItems," Laboratorios"]})]})}),r.jsx(ge,{className:"flex-1 p-4 pt-2",children:r.jsxs("div",{className:"grid grid-cols-12 gap-3 h-full",children:[r.jsx("div",{className:"col-span-7 h-full",children:r.jsxs("div",{className:"h-full rounded-xl bg-muted/30 border border-border/50 p-5 flex flex-col justify-between relative overflow-hidden group hover:bg-muted/50 transition-colors",children:[r.jsx("div",{className:"flex justify-between items-start z-10",children:r.jsx("div",{className:"p-2 bg-background/50 backdrop-blur rounded-lg",children:r.jsx(ys,{className:"h-5 w-5 text-muted-foreground"})})}),r.jsxs("div",{className:"z-10",children:[r.jsxs("h3",{className:"text-4xl font-bold tracking-tighter text-foreground mb-1",children:[s==null?void 0:s.pendingPercentage,"%"]}),r.jsx("p",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide",children:"Por Controlar"})]}),r.jsx("div",{className:"absolute -right-4 -bottom-4 w-32 h-32 bg-foreground/5 rounded-full blur-3xl group-hover:bg-foreground/10 transition-colors"})]})}),r.jsx("div",{className:"col-span-5 grid grid-cols-1 grid-rows-4 gap-2 h-full",children:l.map(d=>r.jsxs("div",{className:"relative overflow-hidden rounded-lg p-3 flex items-center justify-between transition-all hover:scale-[1.02] cursor-pointer group shadow-sm",style:Ki(d.percentage),children:[r.jsxs("div",{className:"z-10 flex flex-col",children:[r.jsx("span",{className:"text-[10px] font-bold uppercase text-white/90 tracking-wider",children:d.name}),r.jsxs("span",{className:"text-lg font-bold text-white drop-shadow-sm",children:[d.percentage,"%"]})]}),r.jsx("div",{className:"z-10 text-right",children:r.jsxs("span",{className:"text-[10px] font-medium text-white/90 bg-black/20 px-1.5 py-0.5 rounded backdrop-blur-sm",children:[d.controlledItems,"/",d.totalItems]})}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:animate-shimmer"})]},d.name))})]})})]})}const Zi=[{branch:"Belgrano IV",sector:"Farmacia",date:"Mircoles, 19 de Noviembre",iso:"2025-11-19"},{branch:"Recoleta",sector:"Farmacia",date:"Viernes, 21 de Noviembre",iso:"2025-11-21"},{branch:"Villa Urquiza II",sector:"Perfumera",date:"Mircoles, 26 de Julio",iso:"2026-07-26"}],Qi=[{name:"Belgrano IV",address:"Av. Cabildo 2040",zonal:"Zona Norte",email:"belgrano4@farmaplus.com"},{name:"Recoleta",address:"Av. Santa Fe 1860",zonal:"Zona Centro",email:"recoleta@farmaplus.com"},{name:"Palermo II",address:"Av. Las Heras 3520",zonal:"Zona Norte",email:"palermo2@farmaplus.com"},{name:"Microcentro",address:"Florida 520",zonal:"Zona Centro",email:"microcentro@farmaplus.com"},{name:"Belgrano III",address:"Av. Cabildo 1520",zonal:"Zona Norte",email:"belgrano3@farmaplus.com"},{name:"Villa Urquiza II",address:"Av. Triunvirato 4280",zonal:"Zona Norte",email:"villaurquiza2@farmaplus.com"}];function nr({events:e,selectedDate:t,setSelectedDate:n,showAddForm:s,setShowAddForm:o,newTitle:a,setNewTitle:i,newBranch:l,setNewBranch:d,newSector:f,setNewSector:h,newDate:c,setNewDate:m,handleAddEvent:g,setEvents:C,eventsForDay:v,eventsForMonth:y,isMobile:p=!1}){return r.jsxs("div",{className:p?"space-y-4":"flex gap-6",children:[r.jsx("div",{className:p?"":"flex-1",children:r.jsx(Ri,{selected:t,onSelect:n,events:e})}),r.jsx("div",{className:p?"":"w-80",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-semibold",children:t.toLocaleDateString("es-AR",{day:"numeric",month:"long"})}),r.jsx(fe,{size:"sm",onClick:()=>o(!s),children:s?"Cancelar":"+ Agregar"})]}),s&&r.jsx("div",{className:"mt-4 p-3 bg-background border rounded-md",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx("input",{className:"w-full p-2 border rounded",placeholder:"Ttulo",value:a,onChange:x=>i(x.target.value)}),r.jsx("input",{className:"w-full p-2 border rounded",placeholder:"Sucursal",value:l,onChange:x=>d(x.target.value)}),r.jsx("input",{className:"w-full p-2 border rounded",placeholder:"Sector",value:f,onChange:x=>h(x.target.value)}),r.jsx("input",{type:"date",className:"w-full p-2 border rounded",value:c,onChange:x=>m(x.target.value)}),r.jsx("div",{className:"flex justify-end",children:r.jsx(fe,{size:"sm",onClick:g,children:"Guardar"})})]})}),r.jsx("div",{className:"space-y-2",children:v(t).length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No hay eventos programados"}):v(t).map(x=>r.jsxs("div",{className:"p-3 bg-muted rounded-md",children:[r.jsx("p",{className:"font-medium",children:x.title}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[x.branch," - ",x.sector]})]},x.id))})]})})]})}const el={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},tl={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};function Nl(){const{user:e}=ir(),{visibleWidgets:t,hiddenWidgets:n,isEditMode:s,setIsEditMode:o,reorderWidgets:a,toggleWidgetVisibility:i,resetLayout:l}=Ei(e==null?void 0:e.branchName),[d,f]=u.useState(!1),h=Da($n(Sn),$n(jn,{coordinateGetter:Ko})),c=M=>{const{active:$,over:W}=M;W&&$.id!==W.id&&a($.id,W.id)},[m,g]=u.useState({totalStock:0,activeProducts:0,negativeStock:0,positiveStock:0,negativeUnits:0,positiveUnits:0,totalSystemUnits:0}),[C,v]=u.useState(!1),[y,p]=u.useState(new Date),[x,S]=u.useState([]),[b,R]=u.useState(!1),[T,N]=u.useState(""),[D,E]=u.useState(""),[O,w]=u.useState(""),[P,z]=u.useState(new Date().toISOString().slice(0,10)),V=Di("(min-width: 768px)");u.useEffect(()=>{(async()=>{let $=0;try{$=await Rs()}catch(W){console.error("Error fetching product count:",W)}if(!(e!=null&&e.branchSheet)){g({totalStock:0,activeProducts:$,negativeStock:0,positiveStock:0,negativeUnits:0,positiveUnits:0,totalSystemUnits:0});return}try{const ee=(await lr.getAllCyclicInventories(e.branchSheet)).reduce((re,G)=>({negativeStock:re.negativeStock+G.negativeValue,positiveStock:re.positiveStock+G.positiveValue,totalStock:re.totalStock+G.differenceValue,negativeUnits:re.negativeUnits+G.negativeUnits,positiveUnits:re.positiveUnits+G.positiveUnits,totalSystemUnits:re.totalSystemUnits+G.totalSystemUnits}),{negativeStock:0,positiveStock:0,totalStock:0,negativeUnits:0,positiveUnits:0,totalSystemUnits:0});g({totalStock:ee.totalStock,activeProducts:$,negativeStock:ee.negativeStock,positiveStock:ee.positiveStock,negativeUnits:ee.negativeUnits,positiveUnits:ee.positiveUnits,totalSystemUnits:ee.totalSystemUnits})}catch(W){console.error("Error loading metrics:",W)}})()},[e]);const J=()=>{const M=new Date().getHours();return M>=6&&M<12?"Buenos das":M>=12&&M<20?"Buenas tardes":"Buenas noches"};u.useEffect(()=>{localStorage.setItem("inventory-events",JSON.stringify(x))},[x]);const ue=M=>{const $=M.getMonth(),W=M.getFullYear();return x.filter(ee=>{const re=new Date(ee.date);return re.getMonth()===$&&re.getFullYear()===W})},U=M=>{const $=M.toISOString().slice(0,10);return x.filter(W=>W.date===$)},pe=M=>{const $=M?new Date(M):new Date;p($),v(!0)},le=()=>{const $={id:`evt-${Date.now()}`,title:T||`${D} - ${O}`,branch:D,sector:O,date:P};S(W=>[...W,$]),R(!1),N(""),E(""),w(""),z(P)},ye=M=>{switch(M){case"metrics-carousel":return r.jsx(Mi,{metrics:m});case"active-products":return r.jsx(Ii,{activeProducts:m.activeProducts});case"inventory-summary":return r.jsx(Ai,{});case"inventory-alerts":return r.jsx(Oi,{});case"upcoming-inventories":return r.jsx(Pi,{inventories:Zi,onDateClick:pe});case"branches-table":return r.jsx(zi,{branches:Qi});case"inventory-progress":return r.jsx(Li,{completedCount:3,totalCount:10});case"critical-products":return r.jsx($i,{criticalCount:15,outOfStockCount:3});case"total-stock-value":return r.jsx(Bi,{totalValue:m.totalStock,changePercentage:5.2});case"active-users":return r.jsx(Ui,{activeCount:5,activeBranches:["Belgrano IV","Recoleta","Palermo II"]});case"pending-inventories":return r.jsx(Wi,{pendingCount:7,urgentCount:2});case"trends-chart":return r.jsx(Fi,{});case"top-products":return r.jsx(Hi,{});case"activity-timeline":return r.jsx(Vi,{});case"category-distribution":return r.jsx(_i,{});case"monthly-goals":return r.jsx(Yi,{});case"sync-status":return r.jsx(qi,{isOnline:navigator.onLine,pendingCount:0});case"quick-actions":return r.jsx(Xi,{});case"countdown":return r.jsx(Gi,{assignedDays:0,daysRemaining:0,totalProgress:0,monthlyProgress:[]});case"category-progress":return r.jsx(Ji,{});default:return null}};return r.jsxs(Pn.div,{className:"pt-3 pb-6 px-6 space-y-6",variants:el,initial:"hidden",animate:"show",children:[r.jsxs(Pn.div,{variants:tl,className:"space-y-1",children:[r.jsx("div",{className:"text-muted-foreground text-xs font-normal",children:new Date().toLocaleDateString("es-AR",{weekday:"long",month:"short",day:"2-digit",year:"numeric"})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h1",{className:"text-2xl font-medium tracking-tight text-foreground",children:[J(),", ",(e==null?void 0:e.branchName)||"Sucursal"," "]}),r.jsxs("div",{className:"flex gap-2",children:[s&&r.jsxs(r.Fragment,{children:[r.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>f(!0),disabled:n.length===0,children:[r.jsx(gn,{className:"h-4 w-4 mr-2"}),"Agregar Widget"]}),r.jsxs(fe,{variant:"outline",size:"sm",onClick:l,children:[r.jsx(la,{className:"h-4 w-4 mr-2"}),"Resetear"]})]}),r.jsxs(fe,{variant:s?"default":"outline",size:"sm",onClick:()=>o(!s),children:[r.jsx(ia,{className:"h-4 w-4 mr-2"}),s?"Guardar":"Editar Dashboard"]})]})]})]}),r.jsx(To,{sensors:h,collisionDetection:Ea,onDragEnd:c,children:r.jsxs(Uo,{items:t.map(M=>M.id),strategy:Dn,children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.filter(M=>M.size==="small").slice(0,4).map(M=>r.jsx(on,{widget:M,isEditMode:s,onRemove:()=>i(M.id),children:ye(M.type)},M.id))}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.filter(M=>M.size==="large").map(M=>r.jsx(on,{widget:M,isEditMode:s,onRemove:()=>i(M.id),children:ye(M.type)},M.id))}),r.jsx("div",{className:"space-y-6",children:t.filter(M=>M.size==="full").map(M=>r.jsx(on,{widget:M,isEditMode:s,onRemove:()=>i(M.id),children:ye(M.type)},M.id))})]})}),r.jsx(ki,{open:d,onOpenChange:f,hiddenWidgets:n,onAddWidget:i}),V?r.jsx(Ns,{open:C,onOpenChange:v,children:r.jsxs(Ss,{className:"w-[1800px] max-w-[90vw]",children:[r.jsx(Cs,{children:r.jsx(Ds,{children:"Prximos inventarios"})}),r.jsx(nr,{events:x,selectedDate:y,setSelectedDate:p,showAddForm:b,setShowAddForm:R,newTitle:T,setNewTitle:N,newBranch:D,setNewBranch:E,newSector:O,setNewSector:w,newDate:P,setNewDate:z,handleAddEvent:le,setEvents:S,eventsForDay:U,eventsForMonth:ue})]})}):r.jsx(En,{open:C,onOpenChange:v,children:r.jsxs(Tn,{children:[r.jsx(kn,{className:"text-left",children:r.jsx(Mn,{children:"Prximos inventarios"})}),r.jsx("div",{className:"px-4 pb-4",children:r.jsx(nr,{events:x,selectedDate:y,setSelectedDate:p,showAddForm:b,setShowAddForm:R,newTitle:T,setNewTitle:N,newBranch:D,setNewBranch:E,newSector:O,setNewSector:w,newDate:P,setNewDate:z,handleAddEvent:le,setEvents:S,eventsForDay:U,eventsForMonth:ue,isMobile:!0})})]})})]})}export{Nl as default};
