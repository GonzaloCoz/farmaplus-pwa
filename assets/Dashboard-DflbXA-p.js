import{O as us,a as fs,k as ms,b as hs,c as gs,D as ps,d as xs,e as vs,j as n}from"./ui-vendor-DWmIoBIJ.js";import{r as c,c as S,a as ft}from"./react-vendor-ylmX0jv_.js";import{c as Se,a as De,T as bs,b as ws,d as ys,C as mr,e as mt,f as hr,B as xe,X as js,g as te,h as ve,i as be,j as Ns,k as we,u as wn,S as Ss,l as Cs,m as ht,U as gr,n as pr,W as Ds,R as Rs,D as Es,o as Ts,I as Is,p as ks,q as $n,r as Bn,s as Un,t as Wn,v as Fn,w as Ms}from"./index-C1116R-Z.js";import{s as As,e as Os,a as Ps,b as zs,g as Ls,f as Hn,i as $s,h as Bs,p as Us,d as Ws,j as Fs,k as Hs}from"./utils-CUsTgaRG.js";import{C as Vs,a as _s,M as Ys,A as Vn,P as xr}from"./progress-B7LtIWdF.js";import{e as kt,C as fn,E as qs}from"./es-BntaDHbY.js";import{D as Lt}from"./dollar-sign-BDVirQGv.js";import{T as Qe}from"./trending-up-C4x3MMg7.js";import{C as Nt}from"./clock-CFJ8hVAs.js";import{T as vr}from"./target-CP59X8t2.js";import{W as br}from"./wifi-BRH__290.js";import{P as yn}from"./plus-DPlUwkGL.js";import{T as jn}from"./trending-down-Din26WO6.js";import{C as wr}from"./CounterAnimation-BByUy0p8.js";import{A as Zt}from"./AnimatedProgressBar-B6Apa-Us.js";import{I as yr}from"./input-DCLvz4nh.js";import{T as Gs,a as Xs,b as Qt,c as Ve,d as Ks,e as ae}from"./table-Ct2ziEuo.js";import{B as Te}from"./badge-DBQLMsTu.js";import{m as gt}from"./animation-Ch0GoCcm.js";import{R as jr,L as Js,C as Zs,X as Qs,Y as ea,T as Nr,a as ta,b as _n,P as na,c as ra,d as sa}from"./chart-vendor-Cu80epCr.js";import{L as en}from"./label-BWCotX8l.js";import"./excel-uoQkVabA.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=Se("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=Se("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=Se("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=Se("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=Se("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=Se("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=Se("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=Se("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=Se("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=Se("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=Se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=Se("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=Se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=Se("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function ga(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return c.useMemo(()=>s=>{t.forEach(a=>a(s))},t)}const Ft=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function et(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Nn(e){return"nodeType"in e}function Ce(e){var t,r;return e?et(e)?e:Nn(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function Sn(e){const{Document:t}=Ce(e);return e instanceof t}function St(e){return et(e)?!1:e instanceof Ce(e).HTMLElement}function Rr(e){return e instanceof Ce(e).SVGElement}function tt(e){return e?et(e)?e.document:Nn(e)?Sn(e)?e:St(e)||Rr(e)?e.ownerDocument:document:document:document}const Ue=Ft?c.useLayoutEffect:c.useEffect;function Cn(e){const t=c.useRef(e);return Ue(()=>{t.current=e}),c.useCallback(function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return t.current==null?void 0:t.current(...s)},[])}function pa(){const e=c.useRef(null),t=c.useCallback((s,a)=>{e.current=setInterval(s,a)},[]),r=c.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function bt(e,t){t===void 0&&(t=[e]);const r=c.useRef(e);return Ue(()=>{r.current!==e&&(r.current=e)},t),r}function Ct(e,t){const r=c.useRef();return c.useMemo(()=>{const s=e(r.current);return r.current=s,s},[...t])}function $t(e){const t=Cn(e),r=c.useRef(null),s=c.useCallback(a=>{a!==r.current&&(t==null||t(a,r.current)),r.current=a},[]);return[r,s]}function mn(e){const t=c.useRef();return c.useEffect(()=>{t.current=e},[e]),t.current}let tn={};function Dt(e,t){return c.useMemo(()=>{if(t)return t;const r=tn[e]==null?0:tn[e]+1;return tn[e]=r,e+"-"+r},[e,t])}function Er(e){return function(t){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return s.reduce((o,i)=>{const l=Object.entries(i);for(const[u,m]of l){const f=o[u];f!=null&&(o[u]=f+e*m)}return o},{...t})}}const Ze=Er(1),wt=Er(-1);function xa(e){return"clientX"in e&&"clientY"in e}function Dn(e){if(!e)return!1;const{KeyboardEvent:t}=Ce(e.target);return t&&e instanceof t}function va(e){if(!e)return!1;const{TouchEvent:t}=Ce(e.target);return t&&e instanceof t}function hn(e){if(va(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return xa(e)?{x:e.clientX,y:e.clientY}:null}const yt=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[yt.Translate.toString(e),yt.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:s}=e;return t+" "+r+"ms "+s}}}),qn="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function ba(e){return e.matches(qn)?e:e.querySelector(qn)}const wa={display:"none"};function ya(e){let{id:t,value:r}=e;return S.createElement("div",{id:t,style:wa},r)}function ja(e){let{id:t,announcement:r,ariaLiveType:s="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return S.createElement("div",{id:t,style:a,role:"status","aria-live":s,"aria-atomic":!0},r)}function Na(){const[e,t]=c.useState("");return{announce:c.useCallback(s=>{s!=null&&t(s)},[]),announcement:e}}const Tr=c.createContext(null);function Sa(e){const t=c.useContext(Tr);c.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Ca(){const[e]=c.useState(()=>new Set),t=c.useCallback(s=>(e.add(s),()=>e.delete(s)),[e]);return[c.useCallback(s=>{let{type:a,event:o}=s;e.forEach(i=>{var l;return(l=i[a])==null?void 0:l.call(i,o)})},[e]),t]}const Da={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Ra={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Ea(e){let{announcements:t=Ra,container:r,hiddenTextDescribedById:s,screenReaderInstructions:a=Da}=e;const{announce:o,announcement:i}=Na(),l=Dt("DndLiveRegion"),[u,m]=c.useState(!1);if(c.useEffect(()=>{m(!0)},[]),Sa(c.useMemo(()=>({onDragStart(d){let{active:g}=d;o(t.onDragStart({active:g}))},onDragMove(d){let{active:g,over:p}=d;t.onDragMove&&o(t.onDragMove({active:g,over:p}))},onDragOver(d){let{active:g,over:p}=d;o(t.onDragOver({active:g,over:p}))},onDragEnd(d){let{active:g,over:p}=d;o(t.onDragEnd({active:g,over:p}))},onDragCancel(d){let{active:g,over:p}=d;o(t.onDragCancel({active:g,over:p}))}}),[o,t])),!u)return null;const f=S.createElement(S.Fragment,null,S.createElement(ya,{id:s,value:a.draggable}),S.createElement(ja,{id:l,announcement:i}));return r?ft.createPortal(f,r):f}var le;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(le||(le={}));function Bt(){}function Gn(e,t){return c.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Ta(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return c.useMemo(()=>[...t].filter(s=>s!=null),[...t])}const ze=Object.freeze({x:0,y:0});function Ir(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function kr(e,t){let{data:{value:r}}=e,{data:{value:s}}=t;return r-s}function Ia(e,t){let{data:{value:r}}=e,{data:{value:s}}=t;return s-r}function Xn(e){let{left:t,top:r,height:s,width:a}=e;return[{x:t,y:r},{x:t+a,y:r},{x:t,y:r+s},{x:t+a,y:r+s}]}function Mr(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function Kn(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const ka=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:s}=e;const a=Kn(t,t.left,t.top),o=[];for(const i of s){const{id:l}=i,u=r.get(l);if(u){const m=Ir(Kn(u),a);o.push({id:l,data:{droppableContainer:i,value:m}})}}return o.sort(kr)},Ma=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:s}=e;const a=Xn(t),o=[];for(const i of s){const{id:l}=i,u=r.get(l);if(u){const m=Xn(u),f=a.reduce((g,p,C)=>g+Ir(m[C],p),0),d=Number((f/4).toFixed(4));o.push({id:l,data:{droppableContainer:i,value:d}})}}return o.sort(kr)};function Aa(e,t){const r=Math.max(t.top,e.top),s=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),i=a-s,l=o-r;if(s<a&&r<o){const u=t.width*t.height,m=e.width*e.height,f=i*l,d=f/(u+m-f);return Number(d.toFixed(4))}return 0}const Oa=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:s}=e;const a=[];for(const o of s){const{id:i}=o,l=r.get(i);if(l){const u=Aa(l,t);u>0&&a.push({id:i,data:{droppableContainer:o,value:u}})}}return a.sort(Ia)};function Pa(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function Ar(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ze}function za(e){return function(r){for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];return a.reduce((i,l)=>({...i,top:i.top+e*l.y,bottom:i.bottom+e*l.y,left:i.left+e*l.x,right:i.right+e*l.x}),{...r})}}const La=za(1);function $a(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Ba(e,t,r){const s=$a(t);if(!s)return e;const{scaleX:a,scaleY:o,x:i,y:l}=s,u=e.left-i-(1-a)*parseFloat(r),m=e.top-l-(1-o)*parseFloat(r.slice(r.indexOf(" ")+1)),f=a?e.width/a:e.width,d=o?e.height/o:e.height;return{width:f,height:d,top:m,right:u+f,bottom:m+d,left:u}}const Ua={ignoreTransform:!1};function nt(e,t){t===void 0&&(t=Ua);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:m,transformOrigin:f}=Ce(e).getComputedStyle(e);m&&(r=Ba(r,m,f))}const{top:s,left:a,width:o,height:i,bottom:l,right:u}=r;return{top:s,left:a,width:o,height:i,bottom:l,right:u}}function Jn(e){return nt(e,{ignoreTransform:!0})}function Wa(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function Fa(e,t){return t===void 0&&(t=Ce(e).getComputedStyle(e)),t.position==="fixed"}function Ha(e,t){t===void 0&&(t=Ce(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const o=t[a];return typeof o=="string"?r.test(o):!1})}function Ht(e,t){const r=[];function s(a){if(t!=null&&r.length>=t||!a)return r;if(Sn(a)&&a.scrollingElement!=null&&!r.includes(a.scrollingElement))return r.push(a.scrollingElement),r;if(!St(a)||Rr(a)||r.includes(a))return r;const o=Ce(e).getComputedStyle(a);return a!==e&&Ha(a,o)&&r.push(a),Fa(a,o)?r:s(a.parentNode)}return e?s(e):r}function Or(e){const[t]=Ht(e,1);return t??null}function nn(e){return!Ft||!e?null:et(e)?e:Nn(e)?Sn(e)||e===tt(e).scrollingElement?window:St(e)?e:null:null}function Pr(e){return et(e)?e.scrollX:e.scrollLeft}function zr(e){return et(e)?e.scrollY:e.scrollTop}function gn(e){return{x:Pr(e),y:zr(e)}}var de;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(de||(de={}));function Lr(e){return!Ft||!e?!1:e===document.scrollingElement}function $r(e){const t={x:0,y:0},r=Lr(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},a=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,i=e.scrollTop>=s.y,l=e.scrollLeft>=s.x;return{isTop:a,isLeft:o,isBottom:i,isRight:l,maxScroll:s,minScroll:t}}const Va={x:.2,y:.2};function _a(e,t,r,s,a){let{top:o,left:i,right:l,bottom:u}=r;s===void 0&&(s=10),a===void 0&&(a=Va);const{isTop:m,isBottom:f,isLeft:d,isRight:g}=$r(e),p={x:0,y:0},C={x:0,y:0},x={height:t.height*a.y,width:t.width*a.x};return!m&&o<=t.top+x.height?(p.y=de.Backward,C.y=s*Math.abs((t.top+x.height-o)/x.height)):!f&&u>=t.bottom-x.height&&(p.y=de.Forward,C.y=s*Math.abs((t.bottom-x.height-u)/x.height)),!g&&l>=t.right-x.width?(p.x=de.Forward,C.x=s*Math.abs((t.right-x.width-l)/x.width)):!d&&i<=t.left+x.width&&(p.x=de.Backward,C.x=s*Math.abs((t.left+x.width-i)/x.width)),{direction:p,speed:C}}function Ya(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:i}=window;return{top:0,left:0,right:o,bottom:i,width:o,height:i}}const{top:t,left:r,right:s,bottom:a}=e.getBoundingClientRect();return{top:t,left:r,right:s,bottom:a,width:e.clientWidth,height:e.clientHeight}}function Br(e){return e.reduce((t,r)=>Ze(t,gn(r)),ze)}function qa(e){return e.reduce((t,r)=>t+Pr(r),0)}function Ga(e){return e.reduce((t,r)=>t+zr(r),0)}function Xa(e,t){if(t===void 0&&(t=nt),!e)return;const{top:r,left:s,bottom:a,right:o}=t(e);Or(e)&&(a<=0||o<=0||r>=window.innerHeight||s>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Ka=[["x",["left","right"],qa],["y",["top","bottom"],Ga]];class Rn{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=Ht(r),a=Br(s);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,i,l]of Ka)for(const u of i)Object.defineProperty(this,u,{get:()=>{const m=l(s),f=a[o]-m;return this.rect[u]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class pt{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...r)})},this.target=t}add(t,r,s){var a;(a=this.target)==null||a.addEventListener(t,r,s),this.listeners.push([t,r,s])}}function Ja(e){const{EventTarget:t}=Ce(e);return e instanceof t?e:tt(e)}function rn(e,t){const r=Math.abs(e.x),s=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+s**2)>t:"x"in t&&"y"in t?r>t.x&&s>t.y:"x"in t?r>t.x:"y"in t?s>t.y:!1}var Ee;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Ee||(Ee={}));function Zn(e){e.preventDefault()}function Za(e){e.stopPropagation()}var $;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})($||($={}));const Ur={start:[$.Space,$.Enter],cancel:[$.Esc],end:[$.Space,$.Enter,$.Tab]},Qa=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case $.Right:return{...r,x:r.x+25};case $.Left:return{...r,x:r.x-25};case $.Down:return{...r,y:r.y+25};case $.Up:return{...r,y:r.y-25}}};class En{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new pt(tt(r)),this.windowListeners=new pt(Ce(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ee.Resize,this.handleCancel),this.windowListeners.add(Ee.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ee.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,s=t.node.current;s&&Xa(s),r(ze)}handleKeyDown(t){if(Dn(t)){const{active:r,context:s,options:a}=this.props,{keyboardCodes:o=Ur,coordinateGetter:i=Qa,scrollBehavior:l="smooth"}=a,{code:u}=t;if(o.end.includes(u)){this.handleEnd(t);return}if(o.cancel.includes(u)){this.handleCancel(t);return}const{collisionRect:m}=s.current,f=m?{x:m.left,y:m.top}:ze;this.referenceCoordinates||(this.referenceCoordinates=f);const d=i(t,{active:r,context:s.current,currentCoordinates:f});if(d){const g=wt(d,f),p={x:0,y:0},{scrollableAncestors:C}=s.current;for(const x of C){const w=t.code,{isTop:v,isRight:b,isLeft:y,isBottom:h,maxScroll:R,minScroll:k}=$r(x),N=Ya(x),E={x:Math.min(w===$.Right?N.right-N.width/2:N.right,Math.max(w===$.Right?N.left:N.left+N.width/2,d.x)),y:Math.min(w===$.Down?N.bottom-N.height/2:N.bottom,Math.max(w===$.Down?N.top:N.top+N.height/2,d.y))},I=w===$.Right&&!b||w===$.Left&&!y,O=w===$.Down&&!h||w===$.Up&&!v;if(I&&E.x!==d.x){const j=x.scrollLeft+g.x,P=w===$.Right&&j<=R.x||w===$.Left&&j>=k.x;if(P&&!g.y){x.scrollTo({left:j,behavior:l});return}P?p.x=x.scrollLeft-j:p.x=w===$.Right?x.scrollLeft-R.x:x.scrollLeft-k.x,p.x&&x.scrollBy({left:-p.x,behavior:l});break}else if(O&&E.y!==d.y){const j=x.scrollTop+g.y,P=w===$.Down&&j<=R.y||w===$.Up&&j>=k.y;if(P&&!g.x){x.scrollTo({top:j,behavior:l});return}P?p.y=x.scrollTop-j:p.y=w===$.Down?x.scrollTop-R.y:x.scrollTop-k.y,p.y&&x.scrollBy({top:-p.y,behavior:l});break}}this.handleMove(t,Ze(wt(d,this.referenceCoordinates),p))}}}handleMove(t,r){const{onMove:s}=this.props;t.preventDefault(),s(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}En.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:s=Ur,onActivation:a}=t,{active:o}=r;const{code:i}=e.nativeEvent;if(s.start.includes(i)){const l=o.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),a==null||a({event:e.nativeEvent}),!0)}return!1}}];function Qn(e){return!!(e&&"distance"in e)}function er(e){return!!(e&&"delay"in e)}class Tn{constructor(t,r,s){var a;s===void 0&&(s=Ja(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:o}=t,{target:i}=o;this.props=t,this.events=r,this.document=tt(i),this.documentListeners=new pt(this.document),this.listeners=new pt(s),this.windowListeners=new pt(Ce(i)),this.initialCoordinates=(a=hn(o))!=null?a:ze,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:s}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Ee.Resize,this.handleCancel),this.windowListeners.add(Ee.DragStart,Zn),this.windowListeners.add(Ee.VisibilityChange,this.handleCancel),this.windowListeners.add(Ee.ContextMenu,Zn),this.documentListeners.add(Ee.Keydown,this.handleKeydown),r){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(er(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(Qn(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:s,onPending:a}=this.props;a(s,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(Ee.Click,Za,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ee.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:s,initialCoordinates:a,props:o}=this,{onMove:i,options:{activationConstraint:l}}=o;if(!a)return;const u=(r=hn(t))!=null?r:ze,m=wt(a,u);if(!s&&l){if(Qn(l)){if(l.tolerance!=null&&rn(m,l.tolerance))return this.handleCancel();if(rn(m,l.distance))return this.handleStart()}if(er(l)&&rn(m,l.tolerance))return this.handleCancel();this.handlePending(l,m);return}t.cancelable&&t.preventDefault(),i(u)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===$.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const eo={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class In extends Tn{constructor(t){const{event:r}=t,s=tt(r.target);super(t,eo,s)}}In.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:s}=t;return!r.isPrimary||r.button!==0?!1:(s==null||s({event:r}),!0)}}];const to={move:{name:"mousemove"},end:{name:"mouseup"}};var pn;(function(e){e[e.RightClick=2]="RightClick"})(pn||(pn={}));class no extends Tn{constructor(t){super(t,to,tt(t.event.target))}}no.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:s}=t;return r.button===pn.RightClick?!1:(s==null||s({event:r}),!0)}}];const sn={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class ro extends Tn{constructor(t){super(t,sn)}static setup(){return window.addEventListener(sn.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(sn.move.name,t)};function t(){}}}ro.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:s}=t;const{touches:a}=r;return a.length>1?!1:(s==null||s({event:r}),!0)}}];var xt;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(xt||(xt={}));var Ut;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ut||(Ut={}));function so(e){let{acceleration:t,activator:r=xt.Pointer,canScroll:s,draggingRect:a,enabled:o,interval:i=5,order:l=Ut.TreeOrder,pointerCoordinates:u,scrollableAncestors:m,scrollableAncestorRects:f,delta:d,threshold:g}=e;const p=oo({delta:d,disabled:!o}),[C,x]=pa(),w=c.useRef({x:0,y:0}),v=c.useRef({x:0,y:0}),b=c.useMemo(()=>{switch(r){case xt.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case xt.DraggableRect:return a}},[r,a,u]),y=c.useRef(null),h=c.useCallback(()=>{const k=y.current;if(!k)return;const N=w.current.x*v.current.x,E=w.current.y*v.current.y;k.scrollBy(N,E)},[]),R=c.useMemo(()=>l===Ut.TreeOrder?[...m].reverse():m,[l,m]);c.useEffect(()=>{if(!o||!m.length||!b){x();return}for(const k of R){if((s==null?void 0:s(k))===!1)continue;const N=m.indexOf(k),E=f[N];if(!E)continue;const{direction:I,speed:O}=_a(k,E,b,t,g);for(const j of["x","y"])p[j][I[j]]||(O[j]=0,I[j]=0);if(O.x>0||O.y>0){x(),y.current=k,C(h,i),w.current=O,v.current=I;return}}w.current={x:0,y:0},v.current={x:0,y:0},x()},[t,h,s,x,o,i,JSON.stringify(b),JSON.stringify(p),C,m,R,f,JSON.stringify(g)])}const ao={x:{[de.Backward]:!1,[de.Forward]:!1},y:{[de.Backward]:!1,[de.Forward]:!1}};function oo(e){let{delta:t,disabled:r}=e;const s=mn(t);return Ct(a=>{if(r||!s||!a)return ao;const o={x:Math.sign(t.x-s.x),y:Math.sign(t.y-s.y)};return{x:{[de.Backward]:a.x[de.Backward]||o.x===-1,[de.Forward]:a.x[de.Forward]||o.x===1},y:{[de.Backward]:a.y[de.Backward]||o.y===-1,[de.Forward]:a.y[de.Forward]||o.y===1}}},[r,t,s])}function io(e,t){const r=t!=null?e.get(t):void 0,s=r?r.node.current:null;return Ct(a=>{var o;return t==null?null:(o=s??a)!=null?o:null},[s,t])}function lo(e,t){return c.useMemo(()=>e.reduce((r,s)=>{const{sensor:a}=s,o=a.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,s)}));return[...r,...o]},[]),[e,t])}var jt;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(jt||(jt={}));var xn;(function(e){e.Optimized="optimized"})(xn||(xn={}));const tr=new Map;function co(e,t){let{dragging:r,dependencies:s,config:a}=t;const[o,i]=c.useState(null),{frequency:l,measure:u,strategy:m}=a,f=c.useRef(e),d=w(),g=bt(d),p=c.useCallback(function(v){v===void 0&&(v=[]),!g.current&&i(b=>b===null?v:b.concat(v.filter(y=>!b.includes(y))))},[g]),C=c.useRef(null),x=Ct(v=>{if(d&&!r)return tr;if(!v||v===tr||f.current!==e||o!=null){const b=new Map;for(let y of e){if(!y)continue;if(o&&o.length>0&&!o.includes(y.id)&&y.rect.current){b.set(y.id,y.rect.current);continue}const h=y.node.current,R=h?new Rn(u(h),h):null;y.rect.current=R,R&&b.set(y.id,R)}return b}return v},[e,o,r,d,u]);return c.useEffect(()=>{f.current=e},[e]),c.useEffect(()=>{d||p()},[r,d]),c.useEffect(()=>{o&&o.length>0&&i(null)},[JSON.stringify(o)]),c.useEffect(()=>{d||typeof l!="number"||C.current!==null||(C.current=setTimeout(()=>{p(),C.current=null},l))},[l,d,p,...s]),{droppableRects:x,measureDroppableContainers:p,measuringScheduled:o!=null};function w(){switch(m){case jt.Always:return!1;case jt.BeforeDragging:return r;default:return!r}}}function Wr(e,t){return Ct(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function uo(e,t){return Wr(e,t)}function fo(e){let{callback:t,disabled:r}=e;const s=Cn(t),a=c.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(s)},[s,r]);return c.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function Vt(e){let{callback:t,disabled:r}=e;const s=Cn(t),a=c.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(s)},[r]);return c.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function mo(e){return new Rn(nt(e),e)}function nr(e,t,r){t===void 0&&(t=mo);const[s,a]=c.useState(null);function o(){a(u=>{if(!e)return null;if(e.isConnected===!1){var m;return(m=u??r)!=null?m:null}const f=t(e);return JSON.stringify(u)===JSON.stringify(f)?u:f})}const i=fo({callback(u){if(e)for(const m of u){const{type:f,target:d}=m;if(f==="childList"&&d instanceof HTMLElement&&d.contains(e)){o();break}}}}),l=Vt({callback:o});return Ue(()=>{o(),e?(l==null||l.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),i==null||i.disconnect())},[e]),s}function ho(e){const t=Wr(e);return Ar(e,t)}const rr=[];function go(e){const t=c.useRef(e),r=Ct(s=>e?s&&s!==rr&&e&&t.current&&e.parentNode===t.current.parentNode?s:Ht(e):rr,[e]);return c.useEffect(()=>{t.current=e},[e]),r}function po(e){const[t,r]=c.useState(null),s=c.useRef(e),a=c.useCallback(o=>{const i=nn(o.target);i&&r(l=>l?(l.set(i,gn(i)),new Map(l)):null)},[]);return c.useEffect(()=>{const o=s.current;if(e!==o){i(o);const l=e.map(u=>{const m=nn(u);return m?(m.addEventListener("scroll",a,{passive:!0}),[m,gn(m)]):null}).filter(u=>u!=null);r(l.length?new Map(l):null),s.current=e}return()=>{i(e),i(o)};function i(l){l.forEach(u=>{const m=nn(u);m==null||m.removeEventListener("scroll",a)})}},[a,e]),c.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,i)=>Ze(o,i),ze):Br(e):ze,[e,t])}function sr(e,t){t===void 0&&(t=[]);const r=c.useRef(null);return c.useEffect(()=>{r.current=null},t),c.useEffect(()=>{const s=e!==ze;s&&!r.current&&(r.current=e),!s&&r.current&&(r.current=null)},[e]),r.current?wt(e,r.current):ze}function xo(e){c.useEffect(()=>{if(!Ft)return;const t=e.map(r=>{let{sensor:s}=r;return s.setup==null?void 0:s.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function vo(e,t){return c.useMemo(()=>e.reduce((r,s)=>{let{eventName:a,handler:o}=s;return r[a]=i=>{o(i,t)},r},{}),[e,t])}function Fr(e){return c.useMemo(()=>e?Wa(e):null,[e])}const ar=[];function bo(e,t){t===void 0&&(t=nt);const[r]=e,s=Fr(r?Ce(r):null),[a,o]=c.useState(ar);function i(){o(()=>e.length?e.map(u=>Lr(u)?s:new Rn(t(u),u)):ar)}const l=Vt({callback:i});return Ue(()=>{l==null||l.disconnect(),i(),e.forEach(u=>l==null?void 0:l.observe(u))},[e]),a}function wo(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return St(t)?t:e}function yo(e){let{measure:t}=e;const[r,s]=c.useState(null),a=c.useCallback(m=>{for(const{target:f}of m)if(St(f)){s(d=>{const g=t(f);return d?{...d,width:g.width,height:g.height}:g});break}},[t]),o=Vt({callback:a}),i=c.useCallback(m=>{const f=wo(m);o==null||o.disconnect(),f&&(o==null||o.observe(f)),s(f?t(f):null)},[t,o]),[l,u]=$t(i);return c.useMemo(()=>({nodeRef:l,rect:r,setRef:u}),[r,l,u])}const jo=[{sensor:In,options:{}},{sensor:En,options:{}}],No={current:{}},zt={draggable:{measure:Jn},droppable:{measure:Jn,strategy:jt.WhileDragging,frequency:xn.Optimized},dragOverlay:{measure:nt}};class vt extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,s;return(r=(s=this.get(t))==null?void 0:s.node.current)!=null?r:void 0}}const So={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new vt,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Bt},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:zt,measureDroppableContainers:Bt,windowRect:null,measuringScheduled:!1},Co={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Bt,draggableNodes:new Map,over:null,measureDroppableContainers:Bt},_t=c.createContext(Co),Hr=c.createContext(So);function Do(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new vt}}}function Ro(e,t){switch(t.type){case le.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case le.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case le.DragEnd:case le.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case le.RegisterDroppable:{const{element:r}=t,{id:s}=r,a=new vt(e.droppable.containers);return a.set(s,r),{...e,droppable:{...e.droppable,containers:a}}}case le.SetDroppableDisabled:{const{id:r,key:s,disabled:a}=t,o=e.droppable.containers.get(r);if(!o||s!==o.key)return e;const i=new vt(e.droppable.containers);return i.set(r,{...o,disabled:a}),{...e,droppable:{...e.droppable,containers:i}}}case le.UnregisterDroppable:{const{id:r,key:s}=t,a=e.droppable.containers.get(r);if(!a||s!==a.key)return e;const o=new vt(e.droppable.containers);return o.delete(r),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function Eo(e){let{disabled:t}=e;const{active:r,activatorEvent:s,draggableNodes:a}=c.useContext(_t),o=mn(s),i=mn(r==null?void 0:r.id);return c.useEffect(()=>{if(!t&&!s&&o&&i!=null){if(!Dn(o)||document.activeElement===o.target)return;const l=a.get(i);if(!l)return;const{activatorNode:u,node:m}=l;if(!u.current&&!m.current)return;requestAnimationFrame(()=>{for(const f of[u.current,m.current]){if(!f)continue;const d=ba(f);if(d){d.focus();break}}})}},[s,t,a,i,o]),null}function To(e,t){let{transform:r,...s}=t;return e!=null&&e.length?e.reduce((a,o)=>o({transform:a,...s}),r):r}function Io(e){return c.useMemo(()=>({draggable:{...zt.draggable,...e==null?void 0:e.draggable},droppable:{...zt.droppable,...e==null?void 0:e.droppable},dragOverlay:{...zt.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function ko(e){let{activeNode:t,measure:r,initialRect:s,config:a=!0}=e;const o=c.useRef(!1),{x:i,y:l}=typeof a=="boolean"?{x:a,y:a}:a;Ue(()=>{if(!i&&!l||!t){o.current=!1;return}if(o.current||!s)return;const m=t==null?void 0:t.node.current;if(!m||m.isConnected===!1)return;const f=r(m),d=Ar(f,s);if(i||(d.x=0),l||(d.y=0),o.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const g=Or(m);g&&g.scrollBy({top:d.y,left:d.x})}},[t,i,l,s,r])}const Vr=c.createContext({...ze,scaleX:1,scaleY:1});var Xe;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Xe||(Xe={}));const Mo=c.memo(function(t){var r,s,a,o;let{id:i,accessibility:l,autoScroll:u=!0,children:m,sensors:f=jo,collisionDetection:d=Oa,measuring:g,modifiers:p,...C}=t;const x=c.useReducer(Ro,void 0,Do),[w,v]=x,[b,y]=Ca(),[h,R]=c.useState(Xe.Uninitialized),k=h===Xe.Initialized,{draggable:{active:N,nodes:E,translate:I},droppable:{containers:O}}=w,j=N!=null?E.get(N):null,P=c.useRef({initial:null,translated:null}),z=c.useMemo(()=>{var A;return N!=null?{id:N,data:(A=j==null?void 0:j.data)!=null?A:No,rect:P}:null},[N,j]),W=c.useRef(null),[q,me]=c.useState(null),[B,he]=c.useState(null),ge=bt(C,Object.values(C)),Ie=Dt("DndDescribedBy",i),Le=c.useMemo(()=>O.getEnabled(),[O]),ne=Io(g),{droppableRects:re,measureDroppableContainers:ye,measuringScheduled:ke}=co(Le,{dragging:k,dependencies:[I.x,I.y],config:ne.droppable}),ce=io(E,N),Re=c.useMemo(()=>B?hn(B):null,[B]),ue=_(),je=uo(ce,ne.draggable.measure);ko({activeNode:N!=null?E.get(N):null,config:ue.layoutShiftCompensation,initialRect:je,measure:ne.draggable.measure});const L=nr(ce,ne.draggable.measure,je),pe=nr(ce?ce.parentElement:null),D=c.useRef({activatorEvent:null,active:null,activeNode:ce,collisionRect:null,collisions:null,droppableRects:re,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),T=O.getNodeFor((r=D.current.over)==null?void 0:r.id),H=yo({measure:ne.dragOverlay.measure}),Q=(s=H.nodeRef.current)!=null?s:ce,K=k?(a=H.rect)!=null?a:L:null,Me=!!(H.nodeRef.current&&H.rect),Rt=ho(Me?null:L),Fe=Fr(Q?Ce(Q):null),Ae=go(k?T??ce:null),Je=bo(Ae),$e=To(p,{transform:{x:I.x-Rt.x,y:I.y-Rt.y,scaleX:1,scaleY:1},activatorEvent:B,active:z,activeNodeRect:L,containerNodeRect:pe,draggingNodeRect:K,over:D.current.over,overlayNodeRect:H.rect,scrollableAncestors:Ae,scrollableAncestorRects:Je,windowRect:Fe}),Et=Re?Ze(Re,I):null,st=po(Ae),Yt=sr(st),qt=sr(st,[L]),Oe=Ze($e,Yt),Ye=K?La(K,$e):null,qe=z&&Ye?d({active:z,collisionRect:Ye,droppableRects:re,droppableContainers:Le,pointerCoordinates:Et}):null,Tt=Mr(qe,"id"),[Ne,at]=c.useState(null),Gt=Me?$e:Ze($e,qt),Xt=Pa(Gt,(o=Ne==null?void 0:Ne.rect)!=null?o:null,L),ot=c.useRef(null),It=c.useCallback((A,Y)=>{let{sensor:F,options:J}=Y;if(W.current==null)return;const G=E.get(W.current);if(!G)return;const ee=A.nativeEvent,se=new F({active:W.current,activeNode:G,event:ee,options:J,context:D,onAbort(Z){if(!E.get(Z))return;const{onDragAbort:Be}=ge.current,He={id:Z};Be==null||Be(He),b({type:"onDragAbort",event:He})},onPending(Z,Pe,Be,He){if(!E.get(Z))return;const{onDragPending:lt}=ge.current,Ge={id:Z,constraint:Pe,initialCoordinates:Be,offset:He};lt==null||lt(Ge),b({type:"onDragPending",event:Ge})},onStart(Z){const Pe=W.current;if(Pe==null)return;const Be=E.get(Pe);if(!Be)return;const{onDragStart:He}=ge.current,it={activatorEvent:ee,active:{id:Pe,data:Be.data,rect:P}};ft.unstable_batchedUpdates(()=>{He==null||He(it),R(Xe.Initializing),v({type:le.DragStart,initialCoordinates:Z,active:Pe}),b({type:"onDragStart",event:it}),me(ot.current),he(ee)})},onMove(Z){v({type:le.DragMove,coordinates:Z})},onEnd:fe(le.DragEnd),onCancel:fe(le.DragCancel)});ot.current=se;function fe(Z){return async function(){const{active:Be,collisions:He,over:it,scrollAdjustedTranslate:lt}=D.current;let Ge=null;if(Be&&lt){const{cancelDrop:ct}=ge.current;Ge={activatorEvent:ee,active:Be,collisions:He,delta:lt,over:it},Z===le.DragEnd&&typeof ct=="function"&&await Promise.resolve(ct(Ge))&&(Z=le.DragCancel)}W.current=null,ft.unstable_batchedUpdates(()=>{v({type:Z}),R(Xe.Uninitialized),at(null),me(null),he(null),ot.current=null;const ct=Z===le.DragEnd?"onDragEnd":"onDragCancel";if(Ge){const Jt=ge.current[ct];Jt==null||Jt(Ge),b({type:ct,event:Ge})}})}}},[E]),Kt=c.useCallback((A,Y)=>(F,J)=>{const G=F.nativeEvent,ee=E.get(J);if(W.current!==null||!ee||G.dndKit||G.defaultPrevented)return;const se={active:ee};A(F,Y.options,se)===!0&&(G.dndKit={capturedBy:Y.sensor},W.current=J,It(F,Y))},[E,It]),M=lo(f,Kt);xo(f),Ue(()=>{L&&h===Xe.Initializing&&R(Xe.Initialized)},[L,h]),c.useEffect(()=>{const{onDragMove:A}=ge.current,{active:Y,activatorEvent:F,collisions:J,over:G}=D.current;if(!Y||!F)return;const ee={active:Y,activatorEvent:F,collisions:J,delta:{x:Oe.x,y:Oe.y},over:G};ft.unstable_batchedUpdates(()=>{A==null||A(ee),b({type:"onDragMove",event:ee})})},[Oe.x,Oe.y]),c.useEffect(()=>{const{active:A,activatorEvent:Y,collisions:F,droppableContainers:J,scrollAdjustedTranslate:G}=D.current;if(!A||W.current==null||!Y||!G)return;const{onDragOver:ee}=ge.current,se=J.get(Tt),fe=se&&se.rect.current?{id:se.id,rect:se.rect.current,data:se.data,disabled:se.disabled}:null,Z={active:A,activatorEvent:Y,collisions:F,delta:{x:G.x,y:G.y},over:fe};ft.unstable_batchedUpdates(()=>{at(fe),ee==null||ee(Z),b({type:"onDragOver",event:Z})})},[Tt]),Ue(()=>{D.current={activatorEvent:B,active:z,activeNode:ce,collisionRect:Ye,collisions:qe,droppableRects:re,draggableNodes:E,draggingNode:Q,draggingNodeRect:K,droppableContainers:O,over:Ne,scrollableAncestors:Ae,scrollAdjustedTranslate:Oe},P.current={initial:K,translated:Ye}},[z,ce,qe,Ye,E,Q,K,re,O,Ne,Ae,Oe]),so({...ue,delta:I,draggingRect:Ye,pointerCoordinates:Et,scrollableAncestors:Ae,scrollableAncestorRects:Je});const U=c.useMemo(()=>({active:z,activeNode:ce,activeNodeRect:L,activatorEvent:B,collisions:qe,containerNodeRect:pe,dragOverlay:H,draggableNodes:E,droppableContainers:O,droppableRects:re,over:Ne,measureDroppableContainers:ye,scrollableAncestors:Ae,scrollableAncestorRects:Je,measuringConfiguration:ne,measuringScheduled:ke,windowRect:Fe}),[z,ce,L,B,qe,pe,H,E,O,re,Ne,ye,Ae,Je,ne,ke,Fe]),V=c.useMemo(()=>({activatorEvent:B,activators:M,active:z,activeNodeRect:L,ariaDescribedById:{draggable:Ie},dispatch:v,draggableNodes:E,over:Ne,measureDroppableContainers:ye}),[B,M,z,L,v,Ie,E,Ne,ye]);return S.createElement(Tr.Provider,{value:y},S.createElement(_t.Provider,{value:V},S.createElement(Hr.Provider,{value:U},S.createElement(Vr.Provider,{value:Xt},m)),S.createElement(Eo,{disabled:(l==null?void 0:l.restoreFocus)===!1})),S.createElement(Ea,{...l,hiddenTextDescribedById:Ie}));function _(){const A=(q==null?void 0:q.autoScrollEnabled)===!1,Y=typeof u=="object"?u.enabled===!1:u===!1,F=k&&!A&&!Y;return typeof u=="object"?{...u,enabled:F}:{enabled:F}}}),Ao=c.createContext(null),or="button",Oo="Draggable";function Po(e){let{id:t,data:r,disabled:s=!1,attributes:a}=e;const o=Dt(Oo),{activators:i,activatorEvent:l,active:u,activeNodeRect:m,ariaDescribedById:f,draggableNodes:d,over:g}=c.useContext(_t),{role:p=or,roleDescription:C="draggable",tabIndex:x=0}=a??{},w=(u==null?void 0:u.id)===t,v=c.useContext(w?Vr:Ao),[b,y]=$t(),[h,R]=$t(),k=vo(i,t),N=bt(r);Ue(()=>(d.set(t,{id:t,key:o,node:b,activatorNode:h,data:N}),()=>{const I=d.get(t);I&&I.key===o&&d.delete(t)}),[d,t]);const E=c.useMemo(()=>({role:p,tabIndex:x,"aria-disabled":s,"aria-pressed":w&&p===or?!0:void 0,"aria-roledescription":C,"aria-describedby":f.draggable}),[s,p,x,w,C,f.draggable]);return{active:u,activatorEvent:l,activeNodeRect:m,attributes:E,isDragging:w,listeners:s?void 0:k,node:b,over:g,setNodeRef:y,setActivatorNodeRef:R,transform:v}}function zo(){return c.useContext(Hr)}const Lo="Droppable",$o={timeout:25};function Bo(e){let{data:t,disabled:r=!1,id:s,resizeObserverConfig:a}=e;const o=Dt(Lo),{active:i,dispatch:l,over:u,measureDroppableContainers:m}=c.useContext(_t),f=c.useRef({disabled:r}),d=c.useRef(!1),g=c.useRef(null),p=c.useRef(null),{disabled:C,updateMeasurementsFor:x,timeout:w}={...$o,...a},v=bt(x??s),b=c.useCallback(()=>{if(!d.current){d.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{m(Array.isArray(v.current)?v.current:[v.current]),p.current=null},w)},[w]),y=Vt({callback:b,disabled:C||!i}),h=c.useCallback((E,I)=>{y&&(I&&(y.unobserve(I),d.current=!1),E&&y.observe(E))},[y]),[R,k]=$t(h),N=bt(t);return c.useEffect(()=>{!y||!R.current||(y.disconnect(),d.current=!1,y.observe(R.current))},[R,y]),c.useEffect(()=>(l({type:le.RegisterDroppable,element:{id:s,key:o,disabled:r,node:R,rect:g,data:N}}),()=>l({type:le.UnregisterDroppable,key:o,id:s})),[s]),c.useEffect(()=>{r!==f.current.disabled&&(l({type:le.SetDroppableDisabled,id:s,key:o,disabled:r}),f.current.disabled=r)},[s,o,r,l]),{active:i,rect:g,isOver:(u==null?void 0:u.id)===s,node:R,over:u,setNodeRef:k}}function kn(e,t,r){const s=e.slice();return s.splice(r<0?s.length+r:r,0,s.splice(t,1)[0]),s}function Uo(e,t){return e.reduce((r,s,a)=>{const o=t.get(s);return o&&(r[a]=o),r},Array(e.length))}function Mt(e){return e!==null&&e>=0}function Wo(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Fo(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Mn=e=>{let{rects:t,activeIndex:r,overIndex:s,index:a}=e;const o=kn(t,s,r),i=t[a],l=o[a];return!l||!i?null:{x:l.left-i.left,y:l.top-i.top,scaleX:l.width/i.width,scaleY:l.height/i.height}},_r="Sortable",Yr=S.createContext({activeIndex:-1,containerId:_r,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Mn,disabled:{draggable:!1,droppable:!1}});function Ho(e){let{children:t,id:r,items:s,strategy:a=Mn,disabled:o=!1}=e;const{active:i,dragOverlay:l,droppableRects:u,over:m,measureDroppableContainers:f}=zo(),d=Dt(_r,r),g=l.rect!==null,p=c.useMemo(()=>s.map(k=>typeof k=="object"&&"id"in k?k.id:k),[s]),C=i!=null,x=i?p.indexOf(i.id):-1,w=m?p.indexOf(m.id):-1,v=c.useRef(p),b=!Wo(p,v.current),y=w!==-1&&x===-1||b,h=Fo(o);Ue(()=>{b&&C&&f(p)},[b,p,C,f]),c.useEffect(()=>{v.current=p},[p]);const R=c.useMemo(()=>({activeIndex:x,containerId:d,disabled:h,disableTransforms:y,items:p,overIndex:w,useDragOverlay:g,sortedRects:Uo(p,u),strategy:a}),[x,d,h.draggable,h.droppable,y,p,w,u,g,a]);return S.createElement(Yr.Provider,{value:R},t)}const Vo=e=>{let{id:t,items:r,activeIndex:s,overIndex:a}=e;return kn(r,s,a).indexOf(t)},_o=e=>{let{containerId:t,isSorting:r,wasDragging:s,index:a,items:o,newIndex:i,previousItems:l,previousContainerId:u,transition:m}=e;return!m||!s||l!==o&&a===i?!1:r?!0:i!==a&&t===u},Yo={duration:200,easing:"ease"},qr="transform",qo=yt.Transition.toString({property:qr,duration:0,easing:"linear"}),Go={roleDescription:"sortable"};function Xo(e){let{disabled:t,index:r,node:s,rect:a}=e;const[o,i]=c.useState(null),l=c.useRef(r);return Ue(()=>{if(!t&&r!==l.current&&s.current){const u=a.current;if(u){const m=nt(s.current,{ignoreTransform:!0}),f={x:u.left-m.left,y:u.top-m.top,scaleX:u.width/m.width,scaleY:u.height/m.height};(f.x||f.y)&&i(f)}}r!==l.current&&(l.current=r)},[t,r,s,a]),c.useEffect(()=>{o&&i(null)},[o]),o}function Ko(e){let{animateLayoutChanges:t=_o,attributes:r,disabled:s,data:a,getNewIndex:o=Vo,id:i,strategy:l,resizeObserverConfig:u,transition:m=Yo}=e;const{items:f,containerId:d,activeIndex:g,disabled:p,disableTransforms:C,sortedRects:x,overIndex:w,useDragOverlay:v,strategy:b}=c.useContext(Yr),y=Jo(s,p),h=f.indexOf(i),R=c.useMemo(()=>({sortable:{containerId:d,index:h,items:f},...a}),[d,a,h,f]),k=c.useMemo(()=>f.slice(f.indexOf(i)),[f,i]),{rect:N,node:E,isOver:I,setNodeRef:O}=Bo({id:i,data:R,disabled:y.droppable,resizeObserverConfig:{updateMeasurementsFor:k,...u}}),{active:j,activatorEvent:P,activeNodeRect:z,attributes:W,setNodeRef:q,listeners:me,isDragging:B,over:he,setActivatorNodeRef:ge,transform:Ie}=Po({id:i,data:R,attributes:{...Go,...r},disabled:y.draggable}),Le=ga(O,q),ne=!!j,re=ne&&!C&&Mt(g)&&Mt(w),ye=!v&&B,ke=ye&&re?Ie:null,Re=re?ke??(l??b)({rects:x,activeNodeRect:z,activeIndex:g,overIndex:w,index:h}):null,ue=Mt(g)&&Mt(w)?o({id:i,items:f,activeIndex:g,overIndex:w}):h,je=j==null?void 0:j.id,L=c.useRef({activeId:je,items:f,newIndex:ue,containerId:d}),pe=f!==L.current.items,D=t({active:j,containerId:d,isDragging:B,isSorting:ne,id:i,index:h,items:f,newIndex:L.current.newIndex,previousItems:L.current.items,previousContainerId:L.current.containerId,transition:m,wasDragging:L.current.activeId!=null}),T=Xo({disabled:!D,index:h,node:E,rect:N});return c.useEffect(()=>{ne&&L.current.newIndex!==ue&&(L.current.newIndex=ue),d!==L.current.containerId&&(L.current.containerId=d),f!==L.current.items&&(L.current.items=f)},[ne,ue,d,f]),c.useEffect(()=>{if(je===L.current.activeId)return;if(je!=null&&L.current.activeId==null){L.current.activeId=je;return}const Q=setTimeout(()=>{L.current.activeId=je},50);return()=>clearTimeout(Q)},[je]),{active:j,activeIndex:g,attributes:W,data:R,rect:N,index:h,newIndex:ue,items:f,isOver:I,isSorting:ne,isDragging:B,listeners:me,node:E,overIndex:w,over:he,setNodeRef:Le,setActivatorNodeRef:ge,setDroppableNodeRef:O,setDraggableNodeRef:q,transform:T??Re,transition:H()};function H(){if(T||pe&&L.current.newIndex===h)return qo;if(!(ye&&!Dn(P)||!m)&&(ne||D))return yt.Transition.toString({...m,property:qr})}}function Jo(e,t){var r,s;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(s=e==null?void 0:e.droppable)!=null?s:t.droppable}}function Wt(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Zo=[$.Down,$.Right,$.Up,$.Left],Qo=(e,t)=>{let{context:{active:r,collisionRect:s,droppableRects:a,droppableContainers:o,over:i,scrollableAncestors:l}}=t;if(Zo.includes(e.code)){if(e.preventDefault(),!r||!s)return;const u=[];o.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;const g=a.get(d.id);if(g)switch(e.code){case $.Down:s.top<g.top&&u.push(d);break;case $.Up:s.top>g.top&&u.push(d);break;case $.Left:s.left>g.left&&u.push(d);break;case $.Right:s.left<g.left&&u.push(d);break}});const m=Ma({active:r,collisionRect:s,droppableRects:a,droppableContainers:u,pointerCoordinates:null});let f=Mr(m,"id");if(f===(i==null?void 0:i.id)&&m.length>1&&(f=m[1].id),f!=null){const d=o.get(r.id),g=o.get(f),p=g?a.get(g.id):null,C=g==null?void 0:g.node.current;if(C&&p&&d&&g){const w=Ht(C).some((k,N)=>l[N]!==k),v=Gr(d,g),b=ei(d,g),y=w||!v?{x:0,y:0}:{x:b?s.width-p.width:0,y:b?s.height-p.height:0},h={x:p.left,y:p.top};return y.x&&y.y?h:wt(h,y)}}}};function Gr(e,t){return!Wt(e)||!Wt(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function ei(e,t){return!Wt(e)||!Wt(t)||!Gr(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function ti(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const Xr=S.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),rt=()=>{const e=S.useContext(Xr);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};ti(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const ni=24,ri=typeof window<"u"?c.useLayoutEffect:c.useEffect;function ir(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}function si(){return An(/^Mac/)}function ai(){return An(/^iPhone/)}function lr(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function oi(){return An(/^iPad/)||si()&&navigator.maxTouchPoints>1}function Kr(){return ai()||oi()}function An(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const an=typeof document<"u"&&window.visualViewport;function cr(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function Jr(e){for(cr(e)&&(e=e.parentElement);e&&!cr(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const ii=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let At=0,on;function li(e={}){let{isDisabled:t}=e;ri(()=>{if(!t)return At++,At===1&&Kr()&&(on=ci()),()=>{At--,At===0&&(on==null||on())}},[t])}function ci(){let e,t=0,r=d=>{e=Jr(d.target),!(e===document.documentElement&&e===document.body)&&(t=d.changedTouches[0].pageY)},s=d=>{if(!e||e===document.documentElement||e===document.body){d.preventDefault();return}let g=d.changedTouches[0].pageY,p=e.scrollTop,C=e.scrollHeight-e.clientHeight;C!==0&&((p<=0&&g>t||p>=C&&g<t)&&d.preventDefault(),t=g)},a=d=>{let g=d.target;vn(g)&&g!==document.activeElement&&(d.preventDefault(),g.style.transform="translateY(-2000px)",g.focus(),requestAnimationFrame(()=>{g.style.transform=""}))},o=d=>{let g=d.target;vn(g)&&(g.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{g.style.transform="",an&&(an.height<window.innerHeight?requestAnimationFrame(()=>{dr(g)}):an.addEventListener("resize",()=>dr(g),{once:!0}))}))},i=()=>{window.scrollTo(0,0)},l=window.pageXOffset,u=window.pageYOffset,m=ir(di(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let f=ir(dt(document,"touchstart",r,{passive:!1,capture:!0}),dt(document,"touchmove",s,{passive:!1,capture:!0}),dt(document,"touchend",a,{passive:!1,capture:!0}),dt(document,"focus",o,!0),dt(window,"scroll",i));return()=>{m(),f(),window.scrollTo(l,u)}}function di(e,t,r){let s=e.style[t];return e.style[t]=r,()=>{e.style[t]=s}}function dt(e,t,r,s){return e.addEventListener(t,r,s),()=>{e.removeEventListener(t,r,s)}}function dr(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let r=Jr(e);if(r!==document.documentElement&&r!==document.body&&r!==e){let s=r.getBoundingClientRect().top,a=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const i=r.getBoundingClientRect().bottom+ni;o>i&&(r.scrollTop+=a-s)}e=r.parentElement}}function vn(e){return e instanceof HTMLInputElement&&!ii.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function ui(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function fi(...e){return t=>e.forEach(r=>ui(r,t))}function Zr(...e){return c.useCallback(fi(...e),e)}const Qr=new WeakMap;function oe(e,t,r=!1){if(!e||!(e instanceof HTMLElement))return;let s={};Object.entries(t).forEach(([a,o])=>{if(a.startsWith("--")){e.style.setProperty(a,o);return}s[a]=e.style[a],e.style[a]=o}),!r&&Qr.set(e,s)}function mi(e,t){if(!e||!(e instanceof HTMLElement))return;let r=Qr.get(e);r&&(e.style[t]=r[t])}const ie=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Ot(e,t){if(!e)return null;const r=window.getComputedStyle(e),s=r.transform||r.webkitTransform||r.mozTransform;let a=s.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[ie(t)?13:12]):(a=s.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[ie(t)?5:4]):null)}function hi(e){return 8*(Math.log(e+1)-2)}function ln(e,t){if(!e)return()=>{};const r=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=r}}function gi(...e){return(...t)=>{for(const r of e)typeof r=="function"&&r(...t)}}const X={DURATION:.5,EASE:[.32,.72,0,1]},es=.4,pi=.25,xi=100,ts=8,Ke=16,bn=26,cn="vaul-dragging";function ns(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...r)=>t.current==null?void 0:t.current.call(t,...r),[])}function vi({defaultProp:e,onChange:t}){const r=S.useState(e),[s]=r,a=S.useRef(s),o=ns(t);return S.useEffect(()=>{a.current!==s&&(o(s),a.current=s)},[s,a,o]),r}function rs({prop:e,defaultProp:t,onChange:r=()=>{}}){const[s,a]=vi({defaultProp:t,onChange:r}),o=e!==void 0,i=o?e:s,l=ns(r),u=S.useCallback(m=>{if(o){const d=typeof m=="function"?m(e):m;d!==e&&l(d)}else a(m)},[o,e,a,l]);return[i,u]}function bi({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:r,drawerRef:s,overlayRef:a,fadeFromIndex:o,onSnapPointChange:i,direction:l="bottom",container:u,snapToSequentialPoint:m}){const[f,d]=rs({prop:e,defaultProp:r==null?void 0:r[0],onChange:t}),[g,p]=S.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);S.useEffect(()=>{function N(){p({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]);const C=S.useMemo(()=>f===(r==null?void 0:r[r.length-1])||null,[r,f]),x=S.useMemo(()=>r==null?void 0:r.findIndex(N=>N===f),[r,f]),w=r&&r.length>0&&(o||o===0)&&!Number.isNaN(o)&&r[o]===f||!r,v=S.useMemo(()=>{const N=u?{width:u.getBoundingClientRect().width,height:u.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var E;return(E=r==null?void 0:r.map(I=>{const O=typeof I=="string";let j=0;if(O&&(j=parseInt(I,10)),ie(l)){const z=O?j:g?I*N.height:0;return g?l==="bottom"?N.height-z:-N.height+z:z}const P=O?j:g?I*N.width:0;return g?l==="right"?N.width-P:-N.width+P:P}))!=null?E:[]},[r,g,u]),b=S.useMemo(()=>x!==null?v==null?void 0:v[x]:null,[v,x]),y=S.useCallback(N=>{var E;const I=(E=v==null?void 0:v.findIndex(O=>O===N))!=null?E:null;i(I),oe(s.current,{transition:`transform ${X.DURATION}s cubic-bezier(${X.EASE.join(",")})`,transform:ie(l)?`translate3d(0, ${N}px, 0)`:`translate3d(${N}px, 0, 0)`}),v&&I!==v.length-1&&I!==o&&I<o?oe(a.current,{transition:`opacity ${X.DURATION}s cubic-bezier(${X.EASE.join(",")})`,opacity:"0"}):oe(a.current,{transition:`opacity ${X.DURATION}s cubic-bezier(${X.EASE.join(",")})`,opacity:"1"}),d(r==null?void 0:r[Math.max(I,0)])},[s.current,r,v,o,a,d]);S.useEffect(()=>{if(f||e){var N;const E=(N=r==null?void 0:r.findIndex(I=>I===e||I===f))!=null?N:-1;v&&E!==-1&&typeof v[E]=="number"&&y(v[E])}},[f,e,r,v,y]);function h({draggedDistance:N,closeDrawer:E,velocity:I,dismissible:O}){if(o===void 0)return;const j=l==="bottom"||l==="right"?(b??0)-N:(b??0)+N,P=x===o-1,z=x===0,W=N>0;if(P&&oe(a.current,{transition:`opacity ${X.DURATION}s cubic-bezier(${X.EASE.join(",")})`}),!m&&I>2&&!W){O?E():y(v[0]);return}if(!m&&I>2&&W&&v&&r){y(v[r.length-1]);return}const q=v==null?void 0:v.reduce((B,he)=>typeof B!="number"||typeof he!="number"?B:Math.abs(he-j)<Math.abs(B-j)?he:B),me=ie(l)?window.innerHeight:window.innerWidth;if(I>es&&Math.abs(N)<me*.4){const B=W?1:-1;if(B>0&&C){y(v[r.length-1]);return}if(z&&B<0&&O&&E(),x===null)return;y(v[x+B]);return}y(q)}function R({draggedDistance:N}){if(b===null)return;const E=l==="bottom"||l==="right"?b-N:b+N;(l==="bottom"||l==="right")&&E<v[v.length-1]||(l==="top"||l==="left")&&E>v[v.length-1]||oe(s.current,{transform:ie(l)?`translate3d(0, ${E}px, 0)`:`translate3d(${E}px, 0, 0)`})}function k(N,E){if(!r||typeof x!="number"||!v||o===void 0)return null;const I=x===o-1;if(x>=o&&E)return 0;if(I&&!E)return 1;if(!w&&!I)return null;const j=I?x+1:x-1,P=I?v[j]-v[j-1]:v[j+1]-v[j],z=N/Math.abs(P);return I?1-z:z}return{isLastSnapPoint:C,activeSnapPoint:f,shouldFade:w,getPercentageDragged:k,setActiveSnapPoint:d,activeSnapPointIndex:x,onRelease:h,onDrag:R,snapPointsOffset:v}}const wi=()=>()=>{};function yi(){const{direction:e,isOpen:t,shouldScaleBackground:r,setBackgroundColorOnScale:s,noBodyStyles:a}=rt(),o=S.useRef(null),i=c.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-bn)/window.innerWidth}S.useEffect(()=>{if(t&&r){o.current&&clearTimeout(o.current);const u=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!u)return;gi(s&&!a?ln(document.body,{background:"black"}):wi,ln(u,{transformOrigin:ie(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${X.DURATION}s`,transitionTimingFunction:`cubic-bezier(${X.EASE.join(",")})`}));const m=ln(u,{borderRadius:`${ts}px`,overflow:"hidden",...ie(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{m(),o.current=window.setTimeout(()=>{i?document.body.style.background=i:document.body.style.removeProperty("background")},X.DURATION*1e3)}}},[t,r,i])}let ut=null;function ji({isOpen:e,modal:t,nested:r,hasBeenOpened:s,preventScrollRestoration:a,noBodyStyles:o}){const[i,l]=S.useState(()=>typeof window<"u"?window.location.href:""),u=S.useRef(0),m=S.useCallback(()=>{if(lr()&&ut===null&&e&&!o){ut={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:d,innerHeight:g}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-u.current}px`,left:`${-d}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const p=g-window.innerHeight;p&&u.current>=g&&(document.body.style.top=`${-(u.current+p)}px`)}),300)}},[e]),f=S.useCallback(()=>{if(lr()&&ut!==null&&!o){const d=-parseInt(document.body.style.top,10),g=-parseInt(document.body.style.left,10);Object.assign(document.body.style,ut),window.requestAnimationFrame(()=>{if(a&&i!==window.location.href){l(window.location.href);return}window.scrollTo(g,d)}),ut=null}},[i]);return S.useEffect(()=>{function d(){u.current=window.scrollY}return d(),window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)}},[]),S.useEffect(()=>{r||!s||(e?(!window.matchMedia("(display-mode: standalone)").matches&&m(),t||window.setTimeout(()=>{f()},500)):f())},[e,s,i,t,r,m,f]),{restorePositionSetting:f}}function ss({open:e,onOpenChange:t,children:r,onDrag:s,onRelease:a,snapPoints:o,shouldScaleBackground:i=!1,setBackgroundColorOnScale:l=!0,closeThreshold:u=pi,scrollLockTimeout:m=xi,dismissible:f=!0,handleOnly:d=!1,fadeFromIndex:g=o&&o.length-1,activeSnapPoint:p,setActiveSnapPoint:C,fixed:x,modal:w=!0,onClose:v,nested:b,noBodyStyles:y,direction:h="bottom",defaultOpen:R=!1,disablePreventScroll:k=!0,snapToSequentialPoint:N=!1,preventScrollRestoration:E=!1,repositionInputs:I=!0,onAnimationEnd:O,container:j,autoFocus:P=!1}){var z,W;const[q=!1,me]=rs({defaultProp:R,prop:e,onChange:M=>{t==null||t(M),!M&&!b&&qt(),setTimeout(()=>{O==null||O(M)},X.DURATION*1e3),M&&!w&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),M||(document.body.style.pointerEvents="auto")}}),[B,he]=S.useState(!1),[ge,Ie]=S.useState(!1),[Le,ne]=S.useState(!1),re=S.useRef(null),ye=S.useRef(null),ke=S.useRef(null),ce=S.useRef(null),Re=S.useRef(null),ue=S.useRef(!1),je=S.useRef(null),L=S.useRef(0),pe=S.useRef(!1),D=S.useRef(0),T=S.useRef(null),H=S.useRef(((z=T.current)==null?void 0:z.getBoundingClientRect().height)||0),Q=S.useRef(((W=T.current)==null?void 0:W.getBoundingClientRect().width)||0),K=S.useRef(0),Me=S.useCallback(M=>{o&&M===$e.length-1&&(ye.current=new Date)},[]),{activeSnapPoint:Rt,activeSnapPointIndex:Fe,setActiveSnapPoint:Ae,onRelease:Je,snapPointsOffset:$e,onDrag:Et,shouldFade:st,getPercentageDragged:Yt}=bi({snapPoints:o,activeSnapPointProp:p,setActiveSnapPointProp:C,drawerRef:T,fadeFromIndex:g,overlayRef:re,onSnapPointChange:Me,direction:h,container:j,snapToSequentialPoint:N});li({isDisabled:!q||ge||!w||Le||!B||!I||!k});const{restorePositionSetting:qt}=ji({isOpen:q,modal:w,nested:b,hasBeenOpened:B,preventScrollRestoration:E,noBodyStyles:y});function Oe(){return(window.innerWidth-bn)/window.innerWidth}function Ye(M){var U,V;!f&&!o||T.current&&!T.current.contains(M.target)||(H.current=((U=T.current)==null?void 0:U.getBoundingClientRect().height)||0,Q.current=((V=T.current)==null?void 0:V.getBoundingClientRect().width)||0,Ie(!0),ke.current=new Date,Kr()&&window.addEventListener("touchend",()=>ue.current=!1,{once:!0}),M.target.setPointerCapture(M.pointerId),L.current=ie(h)?M.pageY:M.pageX)}function qe(M,U){var V,_;let A=M;const Y=(V=window.getSelection())==null?void 0:V.toString(),F=T.current?Ot(T.current,h):null,J=new Date;if(A.hasAttribute("data-vaul-no-drag")||A.closest("[data-vaul-no-drag]"))return!1;if(h==="right"||h==="left")return!0;if(ye.current&&J.getTime()-ye.current.getTime()<500)return!1;if(F!==null&&(h==="bottom"?F>0:F<0))return!0;if(Y&&Y.length>0)return!1;if(J.getTime()-((_=Re.current)==null?void 0:_.getTime())<m&&F===0||U)return Re.current=J,!1;for(;A;){if(A.scrollHeight>A.clientHeight){if(A.scrollTop!==0)return Re.current=new Date,!1;if(A.getAttribute("role")==="dialog")return!0}A=A.parentNode}return!0}function Tt(M){if(T.current&&ge){const U=h==="bottom"||h==="right"?1:-1,V=(L.current-(ie(h)?M.pageY:M.pageX))*U,_=V>0,A=o&&!f&&!_;if(A&&Fe===0)return;const Y=Math.abs(V),F=document.querySelector("[data-vaul-drawer-wrapper]"),J=h==="bottom"||h==="top"?H.current:Q.current;let G=Y/J;const ee=Yt(Y,_);if(ee!==null&&(G=ee),A&&G>=1||!ue.current&&!qe(M.target,_))return;if(T.current.classList.add(cn),ue.current=!0,oe(T.current,{transition:"none"}),oe(re.current,{transition:"none"}),o&&Et({draggedDistance:V}),_&&!o){const fe=hi(V),Z=Math.min(fe*-1,0)*U;oe(T.current,{transform:ie(h)?`translate3d(0, ${Z}px, 0)`:`translate3d(${Z}px, 0, 0)`});return}const se=1-G;if((st||g&&Fe===g-1)&&(s==null||s(M,G),oe(re.current,{opacity:`${se}`,transition:"none"},!0)),F&&re.current&&i){const fe=Math.min(Oe()+G*(1-Oe()),1),Z=8-G*8,Pe=Math.max(0,14-G*14);oe(F,{borderRadius:`${Z}px`,transform:ie(h)?`scale(${fe}) translate3d(0, ${Pe}px, 0)`:`scale(${fe}) translate3d(${Pe}px, 0, 0)`,transition:"none"},!0)}if(!o){const fe=Y*U;oe(T.current,{transform:ie(h)?`translate3d(0, ${fe}px, 0)`:`translate3d(${fe}px, 0, 0)`})}}}S.useEffect(()=>{var M;function U(){if(!T.current||!I)return;const V=document.activeElement;if(vn(V)||pe.current){var _;const A=((_=window.visualViewport)==null?void 0:_.height)||0,Y=window.innerHeight;let F=Y-A;const J=T.current.getBoundingClientRect().height||0,G=J>Y*.8;K.current||(K.current=J);const ee=T.current.getBoundingClientRect().top;if(Math.abs(D.current-F)>60&&(pe.current=!pe.current),o&&o.length>0&&$e&&Fe){const se=$e[Fe]||0;F+=se}if(D.current=F,J>A||pe.current){const se=T.current.getBoundingClientRect().height;let fe=se;se>A&&(fe=A-(G?ee:bn)),x?T.current.style.height=`${se-Math.max(F,0)}px`:T.current.style.height=`${Math.max(fe,A-ee)}px`}else T.current.style.height=`${K.current}px`;o&&o.length>0&&!pe.current?T.current.style.bottom="0px":T.current.style.bottom=`${Math.max(F,0)}px`}}return(M=window.visualViewport)==null||M.addEventListener("resize",U),()=>{var V;return(V=window.visualViewport)==null?void 0:V.removeEventListener("resize",U)}},[Fe,o,$e]);function Ne(M){Gt(),v==null||v(),M||me(!1),setTimeout(()=>{o&&Ae(o[0])},X.DURATION*1e3)}function at(){if(!T.current)return;const M=document.querySelector("[data-vaul-drawer-wrapper]"),U=Ot(T.current,h);oe(T.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${X.DURATION}s cubic-bezier(${X.EASE.join(",")})`}),oe(re.current,{transition:`opacity ${X.DURATION}s cubic-bezier(${X.EASE.join(",")})`,opacity:"1"}),i&&U&&U>0&&q&&oe(M,{borderRadius:`${ts}px`,overflow:"hidden",...ie(h)?{transform:`scale(${Oe()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Oe()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${X.DURATION}s`,transitionTimingFunction:`cubic-bezier(${X.EASE.join(",")})`},!0)}function Gt(){!ge||!T.current||(T.current.classList.remove(cn),ue.current=!1,Ie(!1),ce.current=new Date)}function Xt(M){if(!ge||!T.current)return;T.current.classList.remove(cn),ue.current=!1,Ie(!1),ce.current=new Date;const U=Ot(T.current,h);if(!qe(M.target,!1)||!U||Number.isNaN(U)||ke.current===null)return;const V=ce.current.getTime()-ke.current.getTime(),_=L.current-(ie(h)?M.pageY:M.pageX),A=Math.abs(_)/V;if(A>.05&&(ne(!0),setTimeout(()=>{ne(!1)},200)),o){Je({draggedDistance:_*(h==="bottom"||h==="right"?1:-1),closeDrawer:Ne,velocity:A,dismissible:f}),a==null||a(M,!0);return}if(h==="bottom"||h==="right"?_>0:_<0){at(),a==null||a(M,!0);return}if(A>es){Ne(),a==null||a(M,!1);return}var Y;const F=Math.min((Y=T.current.getBoundingClientRect().height)!=null?Y:0,window.innerHeight);var J;const G=Math.min((J=T.current.getBoundingClientRect().width)!=null?J:0,window.innerWidth),ee=h==="left"||h==="right";if(Math.abs(U)>=(ee?G:F)*u){Ne(),a==null||a(M,!1);return}a==null||a(M,!0),at()}S.useEffect(()=>(q&&(oe(document.documentElement,{scrollBehavior:"auto"}),ye.current=new Date),()=>{mi(document.documentElement,"scrollBehavior")}),[q]);function ot(M){const U=M?(window.innerWidth-Ke)/window.innerWidth:1,V=M?-Ke:0;je.current&&window.clearTimeout(je.current),oe(T.current,{transition:`transform ${X.DURATION}s cubic-bezier(${X.EASE.join(",")})`,transform:`scale(${U}) translate3d(0, ${V}px, 0)`}),!M&&T.current&&(je.current=setTimeout(()=>{const _=Ot(T.current,h);oe(T.current,{transition:"none",transform:ie(h)?`translate3d(0, ${_}px, 0)`:`translate3d(${_}px, 0, 0)`})},500))}function It(M,U){if(U<0)return;const V=(window.innerWidth-Ke)/window.innerWidth,_=V+U*(1-V),A=-Ke+U*Ke;oe(T.current,{transform:ie(h)?`scale(${_}) translate3d(0, ${A}px, 0)`:`scale(${_}) translate3d(${A}px, 0, 0)`,transition:"none"})}function Kt(M,U){const V=ie(h)?window.innerHeight:window.innerWidth,_=U?(V-Ke)/V:1,A=U?-Ke:0;U&&oe(T.current,{transition:`transform ${X.DURATION}s cubic-bezier(${X.EASE.join(",")})`,transform:ie(h)?`scale(${_}) translate3d(0, ${A}px, 0)`:`scale(${_}) translate3d(${A}px, 0, 0)`})}return S.createElement(xs,{defaultOpen:R,onOpenChange:M=>{!f&&!M||(M?he(!0):Ne(!0),me(M))},open:q},S.createElement(Xr.Provider,{value:{activeSnapPoint:Rt,snapPoints:o,setActiveSnapPoint:Ae,drawerRef:T,overlayRef:re,onOpenChange:t,onPress:Ye,onRelease:Xt,onDrag:Tt,dismissible:f,handleOnly:d,isOpen:q,isDragging:ge,shouldFade:st,closeDrawer:Ne,onNestedDrag:It,onNestedOpenChange:ot,onNestedRelease:Kt,keyboardIsOpen:pe,modal:w,snapPointsOffset:$e,direction:h,shouldScaleBackground:i,setBackgroundColorOnScale:l,noBodyStyles:y,container:j,autoFocus:P}},r))}const as=S.forwardRef(function({...e},t){const{overlayRef:r,snapPoints:s,onRelease:a,shouldFade:o,isOpen:i,modal:l}=rt(),u=Zr(t,r),m=s&&s.length>0;return l?S.createElement(us,{onMouseUp:a,ref:u,"data-vaul-overlay":"","data-vaul-snap-points":i&&m?"true":"false","data-vaul-snap-points-overlay":i&&o?"true":"false",...e}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});as.displayName="Drawer.Overlay";const os=S.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:r,...s},a){const{drawerRef:o,onPress:i,onRelease:l,onDrag:u,keyboardIsOpen:m,snapPointsOffset:f,modal:d,isOpen:g,direction:p,snapPoints:C,container:x,handleOnly:w,autoFocus:v}=rt(),[b,y]=S.useState(!1),h=Zr(a,o),R=S.useRef(null),k=S.useRef(null),N=S.useRef(!1),E=C&&C.length>0;yi();const I=(j,P,z=0)=>{if(N.current)return!0;const W=Math.abs(j.y),q=Math.abs(j.x),me=q>W,B=["bottom","right"].includes(P)?1:-1;if(P==="left"||P==="right"){if(!(j.x*B<0)&&q>=0&&q<=z)return me}else if(!(j.y*B<0)&&W>=0&&W<=z)return!me;return N.current=!0,!0};S.useEffect(()=>{E&&window.requestAnimationFrame(()=>{y(!0)})},[]);function O(j){R.current=null,N.current=!1,l(j)}return S.createElement(fs,{"data-vaul-drawer-direction":p,"data-vaul-drawer":"","data-vaul-delayed-snap-points":b?"true":"false","data-vaul-snap-points":g&&E?"true":"false","data-vaul-custom-container":x?"true":"false",...s,ref:h,style:f&&f.length>0?{"--snap-point-height":`${f[0]}px`,...t}:t,onPointerDown:j=>{w||(s.onPointerDown==null||s.onPointerDown.call(s,j),R.current={x:j.pageX,y:j.pageY},i(j))},onOpenAutoFocus:j=>{r==null||r(j),v||j.preventDefault()},onPointerDownOutside:j=>{if(e==null||e(j),!d||j.defaultPrevented){j.preventDefault();return}m.current&&(m.current=!1)},onFocusOutside:j=>{if(!d){j.preventDefault();return}},onPointerMove:j=>{if(k.current=j,w||(s.onPointerMove==null||s.onPointerMove.call(s,j),!R.current))return;const P=j.pageY-R.current.y,z=j.pageX-R.current.x,W=j.pointerType==="touch"?10:2;I({x:z,y:P},p,W)?u(j):(Math.abs(z)>W||Math.abs(P)>W)&&(R.current=null)},onPointerUp:j=>{s.onPointerUp==null||s.onPointerUp.call(s,j),R.current=null,N.current=!1,l(j)},onPointerOut:j=>{s.onPointerOut==null||s.onPointerOut.call(s,j),O(k.current)},onContextMenu:j=>{s.onContextMenu==null||s.onContextMenu.call(s,j),O(k.current)}})});os.displayName="Drawer.Content";const Ni=250,Si=120,is=S.forwardRef(function({preventCycle:e=!1,children:t,...r},s){const{closeDrawer:a,isDragging:o,snapPoints:i,activeSnapPoint:l,setActiveSnapPoint:u,dismissible:m,handleOnly:f,isOpen:d,onPress:g,onDrag:p}=rt(),C=S.useRef(null),x=S.useRef(!1);function w(){if(x.current){y();return}window.setTimeout(()=>{v()},Si)}function v(){if(o||e||x.current){y();return}if(y(),(!i||i.length===0)&&m){a();return}if(l===i[i.length-1]&&m){a();return}const R=i.findIndex(N=>N===l);if(R===-1)return;const k=i[R+1];u(k)}function b(){C.current=window.setTimeout(()=>{x.current=!0},Ni)}function y(){window.clearTimeout(C.current),x.current=!1}return S.createElement("div",{onClick:w,onPointerCancel:y,onPointerDown:h=>{f&&g(h),b()},onPointerMove:h=>{f&&p(h)},ref:s,"data-vaul-drawer-visible":d?"true":"false","data-vaul-handle":"","aria-hidden":"true",...r},S.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});is.displayName="Drawer.Handle";function Ci({onDrag:e,onOpenChange:t,...r}){const{onNestedDrag:s,onNestedOpenChange:a,onNestedRelease:o}=rt();if(!s)throw new Error("Drawer.NestedRoot must be placed in another drawer");return S.createElement(ss,{nested:!0,onClose:()=>{a(!1)},onDrag:(i,l)=>{s(i,l),e==null||e(i,l)},onOpenChange:i=>{i&&a(i)},onRelease:o,...r})}function Di(e){const t=rt(),{container:r=t.container,...s}=e;return S.createElement(vs,{container:r,...s})}const We={Root:ss,NestedRoot:Ci,Content:os,Overlay:as,Trigger:ms,Portal:Di,Handle:is,Close:hs,Title:gs,Description:ps},On=({shouldScaleBackground:e=!0,...t})=>n.jsx(We.Root,{shouldScaleBackground:e,...t});On.displayName="Drawer";const Ri=We.Portal,Ei=We.Close,ls=c.forwardRef(({className:e,...t},r)=>n.jsx(We.Overlay,{ref:r,className:De("fixed inset-0 z-50 bg-black/80",e),...t}));ls.displayName=We.Overlay.displayName;const Pn=c.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(Ri,{children:[n.jsx(ls,{}),n.jsxs(We.Content,{ref:s,className:De("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...r,children:[n.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));Pn.displayName="DrawerContent";const zn=({className:e,...t})=>n.jsx("div",{className:De("grid gap-1.5 p-4 text-center sm:text-left",e),...t});zn.displayName="DrawerHeader";const cs=({className:e,...t})=>n.jsx("div",{className:De("mt-auto flex flex-col gap-2 p-4",e),...t});cs.displayName="DrawerFooter";const Ln=c.forwardRef(({className:e,...t},r)=>n.jsx(We.Title,{ref:r,className:De("text-lg font-semibold leading-none tracking-tight",e),...t}));Ln.displayName=We.Title.displayName;const ds=c.forwardRef(({className:e,...t},r)=>n.jsx(We.Description,{ref:r,className:De("text-sm text-muted-foreground",e),...t}));ds.displayName=We.Description.displayName;function Ti(e){const[t,r]=c.useState(!1);return c.useEffect(()=>{function s(o){r(o.matches)}const a=matchMedia(e);return a.addEventListener("change",s),r(a.matches),()=>a.removeEventListener("change",s)},[e]),t}function Ii({events:e=[],selected:t,onSelect:r}){const[s,a]=S.useState(t||new Date);S.useEffect(()=>{t&&a(t)},[t]);const o=As(s),i=Os(o),l=Ps(o,{locale:kt,weekStartsOn:1}),u=zs(i,{locale:kt,weekStartsOn:1}),m=[];let f=l;for(;f<=u;){const w=[];for(let v=0;v<7;v++)w.push(f),f=Ls(f,1);m.push(w)}const d=S.useMemo(()=>{const w=new Map;return e.forEach(v=>{const b=v.date;w.has(b)||w.set(b,[]),w.get(b).push(v)}),w},[e]),g=new Date,p=()=>a(w=>Fs(w,1)),C=()=>a(w=>Hs(w,1)),x="h-10 w-10";return n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:"flex items-center justify-between px-2 pb-2",children:[n.jsx("button",{onClick:p,className:"p-1 rounded hover:bg-muted/50",children:n.jsx(Vs,{className:"h-5 w-5 text-muted-foreground"})}),n.jsx("div",{className:"text-sm font-semibold",children:Hn(o,"LLLL yyyy",{locale:kt})}),n.jsx("button",{onClick:C,className:"p-1 rounded hover:bg-muted/50",children:n.jsx(_s,{className:"h-5 w-5 text-muted-foreground"})})]}),n.jsx("div",{className:"grid grid-cols-7 gap-1 px-1 text-xs text-muted-foreground mb-1",children:["LU","MA","MI","JU","VI","SA","DO"].map((w,v)=>n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("div",{className:"h-10 w-10 flex items-center justify-center font-medium uppercase",children:w})},v))}),n.jsx("div",{className:"space-y-1",children:m.map((w,v)=>n.jsx("div",{className:"grid grid-cols-7 gap-1",children:w.map(b=>{const y=b.toISOString().slice(0,10),h=$s(b,o),R=d.get(y)||[],k=R.length>0,N=t?Bs(b,t):!1,E=R.some(j=>{const P=Us(j.date),z=Ws(P,g);return z>=2&&z<=5}),I=N?"bg-primary text-primary-foreground":E?"hover:bg-primary/10 ring-2 ring-accent":"hover:bg-primary/10",O=n.jsx("button",{onClick:()=>r&&r(b),className:`flex items-center justify-center ${x} rounded-full transition-colors focus:outline-none ${h?"text-foreground":"text-muted-foreground"} ${I}`,children:n.jsxs("div",{className:"relative flex items-center justify-center w-full h-full",children:[n.jsx("span",{className:"text-sm font-medium",children:Hn(b,"d",{locale:kt})}),k&&n.jsx("span",{className:`absolute -bottom-2 h-1.5 w-1.5 rounded-full ${E?"bg-primary":"bg-accent"}`})]})},y);if(k){const j=n.jsxs("div",{className:"space-y-1",children:[R.slice(0,5).map(P=>n.jsxs("div",{className:"text-xs",children:[n.jsx("div",{className:"font-medium",children:P.title}),n.jsxs("div",{className:"text-muted-foreground",children:[P.branch,"  ",P.sector]})]},P.id)),R.length>5&&n.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",R.length-5," ms"]})]});return n.jsxs(bs,{children:[n.jsx(ws,{asChild:!0,children:O}),n.jsx(ys,{side:"top",children:j})]},y)}return O})},v))})]})}const Pt=[{id:"metrics-carousel",type:"metrics-carousel",title:"Mtricas Financieras",description:"Diferencia neta, negativos y positivos",icon:Lt,visible:!0,order:0,size:"small",mandatory:!0},{id:"active-products",type:"active-products",title:"Productos Activos",description:"Total de productos en inventarios",icon:Sr,visible:!0,order:1,size:"small"},{id:"inventory-summary",type:"inventory-summary",title:"Resumen de Inventario",description:"Progreso de productos en stock",icon:mr,visible:!0,order:2,size:"large"},{id:"inventory-alerts",type:"inventory-alerts",title:"Alertas de Inventario",description:"Notificaciones importantes",icon:mt,visible:!0,order:3,size:"large"},{id:"upcoming-inventories",type:"upcoming-inventories",title:"Prximos Inventarios",description:"Inventarios programados",icon:Cr,visible:!0,order:4,size:"large"},{id:"branches-table",type:"branches-table",title:"Tabla de Sucursales",description:"Listado completo de sucursales",icon:oa,visible:!0,order:5,size:"full"},{id:"inventory-progress",type:"inventory-progress",title:"Progreso de Inventarios",description:"Porcentaje de inventarios completados",icon:Qe,visible:!1,order:6,size:"small"},{id:"critical-products",type:"critical-products",title:"Productos Crticos",description:"Productos con stock bajo o agotados",icon:hr,visible:!1,order:7,size:"small"},{id:"total-stock-value",type:"total-stock-value",title:"Valor Total de Stock",description:"Valor monetario total del inventario",icon:Lt,visible:!1,order:8,size:"small"},{id:"active-users",type:"active-users",title:"Usuarios Activos",description:"Usuarios trabajando en tiempo real",icon:Dr,visible:!1,order:9,size:"small"},{id:"pending-inventories",type:"pending-inventories",title:"Inventarios Pendientes",description:"Inventarios sin completar",icon:Nt,visible:!1,order:10,size:"small"},{id:"trends-chart",type:"trends-chart",title:"Grfico de Tendencias",description:"Evolucin de diferencias en el tiempo",icon:ia,visible:!1,order:11,size:"large"},{id:"top-products",type:"top-products",title:"Top Productos con Diferencias",description:"Productos con mayores discrepancias",icon:ma,visible:!1,order:12,size:"large"},{id:"activity-timeline",type:"activity-timeline",title:"Actividad Reciente",description:"Timeline de ltimas acciones",icon:ca,visible:!1,order:13,size:"large"},{id:"category-distribution",type:"category-distribution",title:"Distribucin por Categora",description:"Porcentaje de productos por categora",icon:Yn,visible:!1,order:14,size:"large"},{id:"monthly-goals",type:"monthly-goals",title:"Objetivos del Mes",description:"Progreso hacia metas mensuales",icon:vr,visible:!1,order:15,size:"large"},{id:"sync-status",type:"sync-status",title:"Estado de Sincronizacin",description:"Conexin y datos pendientes",icon:br,visible:!1,order:16,size:"large"},{id:"quick-actions",type:"quick-actions",title:"Acciones Rpidas",description:"Tareas frecuentes",icon:ha,visible:!1,order:17,size:"large"},{id:"countdown",type:"countdown",title:"Contador de Das",description:"Das restantes para finalizar conteo cclico",icon:fn,visible:!0,order:6,size:"small"},{id:"category-progress",type:"category-progress",title:"Progreso por Rubros",description:"Avance de inventario por categora",icon:Yn,visible:!0,order:7,size:"large"}];function ki(e){const t=`dashboard-layout-v2-${e||"default"}`,[r,s]=c.useState(()=>{try{const d=localStorage.getItem(t);if(d){const g=JSON.parse(d);return Pt.map(C=>{const x=g.widgets.find(w=>w.id===C.id);return x?{...C,visible:x.visible,order:x.order,...C.mandatory?{visible:!0}:{}}:C}).sort((C,x)=>C.order-x.order)}}catch(d){console.error("Error loading dashboard layout:",d)}return Pt}),[a,o]=c.useState(!1);c.useEffect(()=>{const g={widgets:r.map(({id:p,visible:C,order:x})=>({id:p,visible:C,order:x})),lastUpdated:Date.now()};localStorage.setItem(t,JSON.stringify(g))},[r,t]);const i=(d,g)=>{s(p=>{const C=p.findIndex(v=>v.id===d),x=p.findIndex(v=>v.id===g);return kn(p,C,x).map((v,b)=>({...v,order:b}))})},l=d=>{s(g=>g.map(p=>p.id===d&&!p.mandatory?{...p,visible:!p.visible}:p))},u=()=>{s(Pt),o(!1)};c.useEffect(()=>{r.every(g=>g.title&&g.icon)||(console.warn("Detected corrupted widget state, resetting to defaults"),s(Pt))},[r]);const m=r.filter(d=>d.visible).sort((d,g)=>d.order-g.order),f=r.filter(d=>!d.visible).sort((d,g)=>(d.title||"").localeCompare(g.title||""));return{widgets:r,visibleWidgets:m,hiddenWidgets:f,isEditMode:a,setIsEditMode:o,reorderWidgets:i,toggleWidgetVisibility:l,resetLayout:u}}const Mi={small:"col-span-1",medium:"col-span-1 md:col-span-2",large:"col-span-1",full:"col-span-full"};function dn({widget:e,isEditMode:t,onRemove:r,children:s}){const{attributes:a,listeners:o,setNodeRef:i,transform:l,transition:u,isDragging:m}=Ko({id:e.id,disabled:!t}),f={transform:yt.Transform.toString(l),transition:u};return n.jsx("div",{ref:i,style:f,className:De(Mi[e.size],m&&"opacity-50 z-50",t&&"cursor-move"),children:n.jsxs("div",{className:De("relative h-full transition-all rounded-lg",t&&"ring-2 ring-primary/20 hover:ring-primary/40"),children:[t&&n.jsxs("div",{className:"absolute top-2 right-2 z-10 flex gap-1",children:[n.jsx(xe,{variant:"ghost",size:"icon",className:"h-6 w-6 cursor-grab active:cursor-grabbing",...a,...o,children:n.jsx(la,{className:"h-4 w-4"})}),!e.mandatory&&r&&n.jsx(xe,{variant:"ghost",size:"icon",className:"h-6 w-6 hover:bg-destructive hover:text-destructive-foreground",onClick:r,children:n.jsx(js,{className:"h-4 w-4"})})]}),s]})})}function Ai({open:e,onOpenChange:t,hiddenWidgets:r,onAddWidget:s}){return n.jsx(On,{open:e,onOpenChange:t,children:n.jsxs(Pn,{children:[n.jsxs(zn,{children:[n.jsx(Ln,{children:"Agregar Widgets"}),n.jsx(ds,{children:"Selecciona los widgets que deseas agregar al dashboard"})]}),n.jsx("div",{className:"px-4 pb-4 max-h-[60vh] overflow-y-auto",children:r.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:n.jsx("p",{children:"Todos los widgets estn visibles en el dashboard"})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(a=>{const o=a.icon;return n.jsxs(te,{className:"hover:border-primary transition-colors",children:[n.jsx(ve,{className:"pb-3",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(o,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx(be,{className:"text-sm",children:a.title}),n.jsx(Ns,{className:"text-xs mt-1",children:a.description})]})]})})}),n.jsx(we,{className:"pt-0",children:n.jsxs(xe,{size:"sm",className:"w-full",onClick:()=>{s(a.id),r.length===1&&t(!1)},children:[n.jsx(yn,{className:"h-4 w-4 mr-2"}),"Agregar"]})})]},a.id)})})}),n.jsx(cs,{children:n.jsx(Ei,{asChild:!0,children:n.jsx(xe,{variant:"outline",children:"Cerrar"})})})]})})}function Oi({metrics:e}){const t=(o,i)=>{if(i===0)return{value:0,isPositive:!0};const l=o/i*100;return{value:Math.abs(Number(l.toFixed(1))),isPositive:l>=0}},r=t(e.negativeUnits+e.positiveUnits,e.totalSystemUnits),s=t(e.negativeUnits,e.totalSystemUnits),a=t(e.positiveUnits,e.totalSystemUnits);return n.jsx(Ys,{items:[{id:"net",label:"Diferencia Neta",value:e.totalStock,color:e.totalStock<0?"text-destructive":e.totalStock>0?"text-success":"text-foreground",icon:Lt,prefix:"$",trend:r},{id:"negative",label:"Negativo Total",value:e.negativeStock,color:"text-destructive",icon:jn,prefix:"$",trend:s},{id:"positive",label:"Positivo Total",value:e.positiveStock,color:"text-success",icon:Qe,prefix:"$",trend:a}]})}function Pi({activeProducts:e}){return n.jsxs(te,{className:"h-full flex flex-col justify-between",children:[n.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium",children:"Productos Activos"}),n.jsx(Sr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(we,{children:[(()=>{const t=new Intl.NumberFormat("es-AR").format(e);let r="text-3xl";return t.length>8?r="text-xl":t.length>6&&(r="text-2xl"),n.jsx("div",{className:`${r} font-bold`,children:n.jsx(wr,{value:e})})})(),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Total en base de datos"})]})]})}function zi(){return n.jsxs(te,{className:"p-6 h-full",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-sm font-medium text-muted-foreground",children:"Resumen de Inventario"}),n.jsx("button",{className:"text-sm text-muted-foreground hover:text-foreground",children:"Ver detalles"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Productos en Stock"}),n.jsx("span",{className:"text-sm font-medium",children:"85%"})]}),n.jsx(Zt,{value:85})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Productos con Bajo Stock"}),n.jsx("span",{className:"text-sm font-medium text-warning",children:"12%"})]}),n.jsx(Zt,{value:12,variant:"warning"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Productos Agotados"}),n.jsx("span",{className:"text-sm font-medium text-destructive",children:"3%"})]}),n.jsx(Zt,{value:3,variant:"destructive"})]})]})]})}function Li(){return n.jsxs(te,{className:"p-6 h-full",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-sm font-medium text-muted-foreground",children:"Alertas de Inventario"}),n.jsx("span",{className:"px-3 py-1 bg-warning/10 text-warning text-xs font-medium rounded-full",children:"3 Activas"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted/50 rounded-lg",children:[n.jsx(mt,{className:"w-5 h-5 text-warning mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:"Stock bajo en Sucursal Palermo II"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"15 productos necesitan reabastecimiento"})]})]}),n.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted/50 rounded-lg",children:[n.jsx(mt,{className:"w-5 h-5 text-warning mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:"Inventario cclico pendiente"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Sucursal Microcentro - Vence en 2 das"})]})]}),n.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted/50 rounded-lg",children:[n.jsx(mt,{className:"w-5 h-5 text-destructive mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:"Diferencia significativa detectada"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Sucursal Belgrano III - Revisar urgente"})]})]})]})]})}function $i({inventories:e,onDateClick:t}){return n.jsxs(te,{className:"p-6 h-full",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-sm font-medium text-muted-foreground",children:"Prximos Inventarios"}),n.jsxs("span",{className:"px-3 py-1 bg-primary/10 text-primary text-xs font-medium rounded-full",children:[e.length," Programados"]})]}),n.jsx("div",{className:"space-y-4",children:e.map((r,s)=>n.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted/50 rounded-lg",children:[n.jsx(Cr,{className:"w-5 h-5 text-primary mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"text-sm font-medium text-foreground",children:[r.branch," - ",r.sector]}),n.jsx("button",{onClick:()=>t(r.iso),className:"text-xs text-muted-foreground mt-1 hover:underline",children:r.date})]})]},s))})]})}const ur=8;function Bi({branches:e}){const{selectBranch:t,user:r}=wn(),[s,a]=c.useState(""),[o,i]=c.useState(!1),[l,u]=c.useState([]),[m,f]=c.useState(!0),[d,g]=c.useState({key:"progress",direction:"descending"});c.useEffect(()=>{(async()=>{f(!0);try{const R=await ht.getBranchesSummary();u(R)}catch(R){console.error("Failed to load branch summaries",R)}finally{f(!1)}})()},[]);const p=c.useMemo(()=>l.filter(h=>h.branchName.toLowerCase().includes(s.toLowerCase())),[l,s]),C=c.useMemo(()=>{let h=[...p];return d.key&&h.sort((R,k)=>{const N=R[d.key],E=k[d.key];return N<E?d.direction==="ascending"?-1:1:N>E?d.direction==="ascending"?1:-1:0}),h},[p,d]),x=h=>{let R="ascending";d.key===h&&d.direction==="ascending"&&(R="descending"),g({key:h,direction:R})},w=o?C:C.slice(0,ur),v=h=>new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS"}).format(h),b=h=>{t&&(t(h),window.scrollTo({top:0,behavior:"smooth"}))},y=h=>(r==null?void 0:r.branchName)===h;return n.jsx(gt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"w-full",children:n.jsxs(te,{className:"p-6 overflow-hidden border-t-4 border-t-primary shadow-md",children:[n.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-8 gap-4",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[n.jsx(Qe,{className:"w-6 h-6 text-primary"}),"Monitor de Sucursales"]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Estado en tiempo real de inventarios cclicos y cumplimiento."})]}),n.jsxs("div",{className:"relative w-full md:w-72",children:[n.jsx(Ss,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(yr,{placeholder:"Buscar sucursal...",value:s,onChange:h=>a(h.target.value),className:"pl-10 h-10 bg-muted/50 border-0 focus-visible:ring-1 focus-visible:ring-primary"})]})]}),n.jsx("div",{className:"rounded-xl border bg-card/50 overflow-hidden",children:n.jsxs(Gs,{children:[n.jsx(Xs,{className:"bg-muted/40 hover:bg-muted/50 transition-colors",children:n.jsxs(Qt,{children:[n.jsx(Ve,{className:"w-[200px] cursor-pointer",onClick:()=>x("branchName"),children:n.jsxs("div",{className:"flex items-center font-semibold text-foreground",children:["Sucursal",n.jsx(Vn,{className:"ml-2 h-3 w-3 opacity-50"})]})}),n.jsx(Ve,{className:"text-center cursor-pointer hidden md:table-cell",onClick:()=>x("deploymentDate"),children:"Fecha Inicio"}),n.jsx(Ve,{className:"text-center hidden lg:table-cell",children:"Vuelta"}),n.jsx(Ve,{className:"text-center hidden lg:table-cell",children:"Obj. Mensual"}),n.jsx(Ve,{className:"text-center cursor-pointer",onClick:()=>x("progress"),children:n.jsxs("div",{className:"flex items-center justify-center font-semibold text-foreground",children:["% Avance",n.jsx(Vn,{className:"ml-2 h-3 w-3 opacity-50"})]})}),n.jsx(Ve,{className:"text-center hidden md:table-cell",children:"Un. Inventario"}),n.jsx(Ve,{className:"text-center cursor-pointer hidden md:table-cell",onClick:()=>x("differenceUnits"),children:"Diferencia"}),n.jsx(Ve,{className:"text-right cursor-pointer",onClick:()=>x("adjustmentsValue"),children:"$ Ajustes"}),n.jsx(Ve,{className:"text-center w-[120px]",children:"Status"})]})}),n.jsx(Ks,{children:m?Array.from({length:5}).map((h,R)=>n.jsxs(Qt,{children:[n.jsx(ae,{children:n.jsx("div",{className:"h-5 w-32 bg-muted rounded animate-pulse"})}),n.jsx(ae,{className:"hidden md:table-cell",children:n.jsx("div",{className:"h-5 w-20 bg-muted rounded animate-pulse mx-auto"})}),n.jsx(ae,{className:"hidden lg:table-cell",children:n.jsx("div",{className:"h-5 w-10 bg-muted rounded animate-pulse mx-auto"})}),n.jsx(ae,{className:"hidden lg:table-cell",children:n.jsx("div",{className:"h-5 w-12 bg-muted rounded animate-pulse mx-auto"})}),n.jsx(ae,{children:n.jsx("div",{className:"h-5 w-16 bg-muted rounded animate-pulse mx-auto"})}),n.jsx(ae,{className:"hidden md:table-cell",children:n.jsx("div",{className:"h-5 w-16 bg-muted rounded animate-pulse mx-auto"})}),n.jsx(ae,{className:"hidden md:table-cell",children:n.jsx("div",{className:"h-5 w-16 bg-muted rounded animate-pulse mx-auto"})}),n.jsx(ae,{className:"text-right",children:n.jsx("div",{className:"h-5 w-24 bg-muted rounded animate-pulse ml-auto"})}),n.jsx(ae,{children:n.jsx("div",{className:"h-6 w-20 bg-muted rounded-full animate-pulse mx-auto"})})]},R)):w.length>0?w.map((h,R)=>n.jsxs(gt.tr,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:R*.05},onClick:()=>b(h.branchName),className:De("group cursor-pointer hover:bg-muted/50 transition-all border-b last:border-0",y(h.branchName)&&"bg-primary/5 hover:bg-primary/10 border-l-4 border-l-primary"),children:[n.jsxs(ae,{className:"font-medium text-foreground relative",children:[y(h.branchName)&&n.jsx(gt.div,{layoutId:"active-indicator",className:"absolute left-0 top-0 bottom-0 w-1 bg-primary"}),h.branchName]}),n.jsx(ae,{className:"text-center text-muted-foreground text-sm hidden md:table-cell",children:h.deploymentDate}),n.jsxs(ae,{className:"text-center text-muted-foreground text-sm hidden lg:table-cell",children:[h.cyclicRound,""]}),n.jsx(ae,{className:"text-center text-muted-foreground text-sm hidden lg:table-cell",children:h.monthlyGoal}),n.jsx(ae,{className:"text-center",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs("span",{className:De("font-bold text-sm",h.progress>=h.monthlyGoal?"text-green-600":"text-foreground"),children:[h.progress,"%"]}),n.jsx("div",{className:"w-16 h-1.5 bg-muted rounded-full overflow-hidden mt-1",children:n.jsx("div",{className:De("h-full rounded-full transition-all",h.progress>=100?"bg-green-500":"bg-primary"),style:{width:`${Math.min(h.progress,100)}%`}})})]})}),n.jsx(ae,{className:"text-center font-mono text-sm hidden md:table-cell",children:h.inventoryUnits}),n.jsx(ae,{className:"text-center font-mono text-sm hidden md:table-cell",children:n.jsxs("span",{className:h.differenceUnits===0?"text-muted-foreground":h.differenceUnits>0?"text-green-600":"text-red-600",children:[h.differenceUnits>0?"+":"",h.differenceUnits]})}),n.jsx(ae,{className:"text-right font-mono text-sm",children:n.jsx("span",{className:h.adjustmentsValue===0?"text-muted-foreground":h.adjustmentsValue>0?"text-green-600":"text-red-600",children:v(h.adjustmentsValue)})}),n.jsx(ae,{className:"text-center",children:h.status==="controlado"?n.jsxs(Te,{variant:"outline",className:"font-normal border bg-green-500/20 text-green-700 dark:text-green-400 border-green-500/30",children:[n.jsx(Cs,{className:"w-3 h-3 mr-1"})," FINALIZADA"]}):h.status==="por_controlar"?n.jsxs(Te,{variant:"outline",className:"font-normal border bg-yellow-500/20 text-yellow-700 dark:text-yellow-400 border-yellow-500/30",children:[n.jsx(Nt,{className:"w-3 h-3 mr-1"})," EN PROCESO"]}):n.jsxs(Te,{variant:"outline",className:"font-normal border bg-red-500/20 text-red-700 dark:text-red-400 border-red-500/30",children:[n.jsx(mt,{className:"w-3 h-3 mr-1"})," PENDIENTE"]})})]},h.branchName)):n.jsx(Qt,{children:n.jsx(ae,{colSpan:9,className:"h-24 text-center text-muted-foreground",children:"No se encontraron sucursales con esa bsqueda."})})})]})}),C.length>ur&&n.jsx("div",{className:"mt-4 flex justify-center",children:n.jsx(xe,{variant:"ghost",size:"sm",onClick:()=>i(!o),className:"text-muted-foreground hover:text-foreground",children:o?"Mostrar menos":`Ver todas las sucursales (${C.length})`})})]})})}function Ui({completedCount:e,totalCount:t}){const r=t>0?Math.round(e/t*100):0,s=()=>r>=80?"text-success":r>=50?"text-warning":"text-destructive";return n.jsxs(te,{className:"h-full flex flex-col justify-between",children:[n.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium",children:"Progreso"}),n.jsx(Qe,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(we,{children:[n.jsxs("div",{className:`text-xl font-bold ${s()}`,children:[r,"%"]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[e," de ",t," completados"]}),n.jsx(xr,{value:r,className:"mt-2"})]})]})}function Wi({criticalCount:e,outOfStockCount:t}){const r=e>0||t>0;return n.jsxs(te,{className:"h-full flex flex-col justify-between",children:[n.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium",children:"Crticos"}),n.jsx(hr,{className:`h-4 w-4 ${r?"text-destructive":"text-muted-foreground"}`})]}),n.jsxs(we,{children:[n.jsx("div",{className:`text-xl font-bold ${r?"text-destructive":"text-foreground"}`,children:e}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Productos con stock bajo"}),t>0&&n.jsxs(Te,{variant:"destructive",className:"mt-2",children:[t," agotados"]})]})]})}function Fi({totalValue:e,changePercentage:t}){const r=t!==void 0&&t>=0;return n.jsxs(te,{className:"h-full flex flex-col justify-between",children:[n.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-muted-foreground",children:"Valor Total"}),n.jsx(Lt,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(we,{children:[n.jsxs("div",{className:"text-xl font-bold",children:["$",n.jsx(wr,{value:e})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Valor de inventario"}),t!==void 0&&n.jsxs("div",{className:`flex items-center gap-1 mt-2 text-xs ${r?"text-success":"text-destructive"}`,children:[r?n.jsx(Qe,{className:"h-3 w-3"}):n.jsx(jn,{className:"h-3 w-3"}),n.jsxs("span",{children:[Math.abs(t).toFixed(1),"% vs mes anterior"]})]})]})]})}function Hi({activeCount:e,activeBranches:t}){return n.jsxs(te,{className:"h-full flex flex-col justify-between",children:[n.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium",children:"Activos"}),n.jsxs("div",{className:"relative",children:[n.jsx(Dr,{className:"h-4 w-4 text-muted-foreground"}),e>0&&n.jsx("span",{className:"absolute -top-1 -right-1 h-2 w-2 bg-success rounded-full animate-pulse"})]})]}),n.jsxs(we,{children:[n.jsx("div",{className:"text-xl font-bold",children:e}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Usuarios trabajando"}),t.length>0&&n.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[t.slice(0,2).map((r,s)=>n.jsx(Te,{variant:"secondary",className:"text-xs",children:r},s)),t.length>2&&n.jsxs(Te,{variant:"secondary",className:"text-xs",children:["+",t.length-2]})]})]})]})}function Vi({pendingCount:e,urgentCount:t}){return n.jsxs(te,{className:"h-full flex flex-col justify-between",children:[n.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium",children:"Pendientes"}),n.jsx(Nt,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(we,{children:[n.jsx("div",{className:`text-xl font-bold ${e>0?"text-warning":"text-foreground"}`,children:e}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Inventarios sin completar"}),t>0&&n.jsxs(Te,{variant:"destructive",className:"mt-2",children:[t," urgentes"]})]})]})}function _i({data:e=[]}){const[t,r]=c.useState("7d"),s=[{date:"01/12",negative:-1200,positive:800},{date:"02/12",negative:-950,positive:1100},{date:"03/12",negative:-1500,positive:900},{date:"04/12",negative:-800,positive:1300},{date:"05/12",negative:-1100,positive:950},{date:"06/12",negative:-900,positive:1200},{date:"07/12",negative:-1300,positive:1e3}],a=e.length>0?e:s;return n.jsxs(te,{className:"h-full",children:[n.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[n.jsx(be,{className:"text-lg font-semibold",children:"Tendencias"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(xe,{variant:t==="7d"?"default":"outline",size:"sm",onClick:()=>r("7d"),children:"7 das"}),n.jsx(xe,{variant:t==="30d"?"default":"outline",size:"sm",onClick:()=>r("30d"),children:"30 das"})]})]}),n.jsx(we,{children:n.jsx(jr,{width:"100%",height:200,children:n.jsxs(Js,{data:a,children:[n.jsx(Zs,{strokeDasharray:"3 3"}),n.jsx(Qs,{dataKey:"date",fontSize:12}),n.jsx(ea,{fontSize:12}),n.jsx(Nr,{}),n.jsx(ta,{}),n.jsx(_n,{type:"monotone",dataKey:"negative",stroke:"hsl(var(--destructive))",name:"Negativo",strokeWidth:2}),n.jsx(_n,{type:"monotone",dataKey:"positive",stroke:"hsl(var(--success))",name:"Positivo",strokeWidth:2})]})})})]})}function Yi({products:e=[]}){const t=[{name:"Ibuprofeno 600mg",ean:"7798140250685",difference:-45,value:-2250,type:"negative"},{name:"Paracetamol 500mg",ean:"7798140250692",difference:32,value:1600,type:"positive"},{name:"Amoxicilina 500mg",ean:"7798140250708",difference:-28,value:-1680,type:"negative"},{name:"Omeprazol 20mg",ean:"7798140250715",difference:25,value:1500,type:"positive"},{name:"Losartn 50mg",ean:"7798140250722",difference:-20,value:-1200,type:"negative"}],r=e.length>0?e:t;return n.jsxs(te,{className:"h-full",children:[n.jsxs(ve,{className:"pb-3",children:[n.jsx(be,{className:"text-lg font-semibold",children:"Top Diferencias"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Productos con mayores discrepancias"})]}),n.jsx(we,{children:n.jsx("div",{className:"space-y-3",children:r.map((s,a)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"text-sm font-medium",children:s.name}),n.jsx(Te,{variant:s.type==="negative"?"destructive":"default",className:"text-xs",children:s.type==="negative"?"Faltante":"Sobrante"})]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["EAN: ",s.ean]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:`flex items-center gap-1 ${s.type==="negative"?"text-destructive":"text-success"}`,children:[s.type==="negative"?n.jsx(jn,{className:"h-3 w-3"}):n.jsx(Qe,{className:"h-3 w-3"}),n.jsx("span",{className:"text-sm font-semibold",children:Math.abs(s.difference)})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",Math.abs(s.value)]})]}),n.jsx(xe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:n.jsx(qs,{className:"h-4 w-4"})})]})]},a))})})]})}function qi({activities:e=[]}){const t=[{id:"1",type:"completed",title:"Inventario Farmacia completado",branch:"Belgrano IV",timestamp:"Hace 5 minutos",user:"Juan Prez"},{id:"2",type:"adjusted",title:"Ajustes realizados en Perfumera",branch:"Recoleta",timestamp:"Hace 15 minutos",user:"Mara Gonzlez"},{id:"3",type:"imported",title:"Inventario importado",branch:"Palermo II",timestamp:"Hace 1 hora",user:"Carlos Rodrguez"},{id:"4",type:"completed",title:"Pre-conteo finalizado",branch:"Microcentro",timestamp:"Hace 2 horas",user:"Ana Martnez"}],r=e.length>0?e:t,s=o=>{switch(o){case"completed":return n.jsx(pr,{className:"h-4 w-4 text-success"});case"adjusted":return n.jsx(fa,{className:"h-4 w-4 text-warning"});case"imported":return n.jsx(gr,{className:"h-4 w-4 text-primary"})}},a=o=>{switch(o){case"completed":return"Completado";case"adjusted":return"Ajustado";case"imported":return"Importado"}};return n.jsxs(te,{className:"h-full",children:[n.jsxs(ve,{className:"pb-3",children:[n.jsx(be,{className:"text-lg font-semibold",children:"Actividad Reciente"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"ltimas acciones realizadas"})]}),n.jsx(we,{children:n.jsx("div",{className:"space-y-4",children:r.map((o,i)=>n.jsxs("div",{className:"relative",children:[i<r.length-1&&n.jsx("div",{className:"absolute left-2 top-8 bottom-0 w-px bg-border"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"relative z-10 mt-1 rounded-full bg-background p-1 border",children:s(o.type)}),n.jsxs("div",{className:"flex-1 pb-4",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:o.title}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[o.branch,"  ",o.user]})]}),n.jsx(Te,{variant:"secondary",className:"text-xs",children:a(o.type)})]}),n.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-muted-foreground",children:[n.jsx(Nt,{className:"h-3 w-3"}),n.jsx("span",{children:o.timestamp})]})]})]})]},o.id))})})]})}const _e=["hsl(var(--chart-1))","hsl(var(--chart-2))","hsl(var(--chart-3))","hsl(var(--chart-4))","hsl(var(--chart-5))"];function Gi({data:e=[]}){const t=[{name:"Farmacia",value:450,color:_e[0]},{name:"Perfumera",value:280,color:_e[1]},{name:"Higiene",value:180,color:_e[2]},{name:"Bebs",value:120,color:_e[3]},{name:"Otros",value:90,color:_e[4]}],r=e.length>0?e:t,s=r.reduce((a,o)=>a+o.value,0);return n.jsxs(te,{className:"h-full",children:[n.jsxs(ve,{className:"pb-3",children:[n.jsx(be,{className:"text-lg font-semibold",children:"Distribucin por Categora"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Productos por categora"})]}),n.jsxs(we,{children:[n.jsx(jr,{width:"100%",height:200,children:n.jsxs(na,{children:[n.jsx(ra,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({name:a,percent:o})=>`${a} ${(o*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:r.map((a,o)=>n.jsx(sa,{fill:a.color||_e[o%_e.length]},`cell-${o}`))}),n.jsx(Nr,{})]})}),n.jsx("div",{className:"mt-4 grid grid-cols-2 gap-2",children:r.map((a,o)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:a.color||_e[o%_e.length]}}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[a.name,": ",a.value," (",(a.value/s*100).toFixed(1),"%)"]})]},o))})]})]})}function Xi({goals:e=[]}){const t=[{title:"Inventarios Completados",current:45,target:60,badge:"75%"},{title:"Productos Controlados",current:1250,target:1500,badge:"83%"},{title:"Diferencias Resueltas",current:28,target:35,badge:"80%"}],r=e.length>0?e:t;return n.jsxs(te,{className:"h-full",children:[n.jsx(ve,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{className:"text-lg font-semibold",children:"Objetivos del Mes"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Progreso hacia metas"})]}),n.jsx(vr,{className:"h-5 w-5 text-primary"})]})}),n.jsx(we,{children:n.jsx("div",{className:"space-y-4",children:r.map((s,a)=>{const o=Math.round(s.current/s.target*100),i=o>=100;return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium",children:s.title}),i&&n.jsx(aa,{className:"h-4 w-4 text-success"})]}),n.jsxs(Te,{variant:i?"default":"secondary",children:[s.current,"/",s.target]})]}),n.jsx(xr,{value:o,className:"h-2"}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[o,"% completado"]})]},a)})})})]})}function Ki({isOnline:e=!0,pendingCount:t=0,lastSync:r="Hace 5 minutos",onSync:s}){return n.jsxs(te,{className:"h-full",children:[n.jsx(ve,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(be,{className:"text-lg font-semibold",children:"Sincronizacin"}),e?n.jsx(br,{className:"h-5 w-5 text-success"}):n.jsx(Ds,{className:"h-5 w-5 text-destructive"})]})}),n.jsxs(we,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Estado de Conexin"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:e?"Conectado":"Sin conexin"})]}),n.jsx(Te,{variant:e?"default":"destructive",children:e?"Online":"Offline"})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Datos Pendientes"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:t>0?`${t} elementos`:"Todo sincronizado"})]}),t>0?n.jsx(Te,{variant:"warning",children:t}):n.jsx(pr,{className:"h-5 w-5 text-success"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.jsx(Nt,{className:"h-3 w-3"}),n.jsxs("span",{children:["ltima sincronizacin: ",r]})]}),n.jsxs(xe,{className:"w-full",variant:t>0?"default":"outline",onClick:s,disabled:!e,children:[n.jsx(Rs,{className:"h-4 w-4 mr-2"}),t>0?"Sincronizar Ahora":"Actualizar"]})]})]})}function Ji({actions:e=[]}){const t=[{title:"Nuevo Pre-Conteo",description:"Iniciar nuevo pre-conteo",icon:yn,onClick:()=>console.log("Nuevo Pre-Conteo"),variant:"default"},{title:"Importar Inventario",description:"Cargar desde Excel",icon:gr,onClick:()=>console.log("Importar"),variant:"outline"},{title:"Ver Reportes",description:"Anlisis y estadsticas",icon:mr,onClick:()=>console.log("Reportes"),variant:"outline"},{title:"Exportar Datos",description:"Descargar informacin",icon:Es,onClick:()=>console.log("Exportar"),variant:"outline"},{title:"Configuracin",description:"Ajustes del sistema",icon:Ts,onClick:()=>console.log("Configuracin"),variant:"secondary"}],r=e.length>0?e:t;return n.jsxs(te,{className:"h-full",children:[n.jsxs(ve,{className:"pb-3",children:[n.jsx(be,{className:"text-lg font-semibold",children:"Acciones Rpidas"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Tareas frecuentes"})]}),n.jsx(we,{children:n.jsx("div",{className:"grid grid-cols-2 gap-3",children:r.map((s,a)=>{const o=s.icon;return n.jsxs(xe,{variant:s.variant||"outline",className:"h-auto flex-col items-start p-4 gap-2",onClick:s.onClick,children:[n.jsx(o,{className:"h-5 w-5"}),n.jsxs("div",{className:"text-left",children:[n.jsx("p",{className:"text-sm font-medium",children:s.title}),n.jsx("p",{className:"text-xs text-muted-foreground font-normal",children:s.description})]})]},a)})})})]})}function Zi({assignedDays:e=0,daysRemaining:t=0,totalProgress:r=0,monthlyProgress:s=[],isEditable:a=!1,onEdit:o}){const i=e>0?Math.ceil(e/30):3,l=Array.from({length:i});return n.jsxs(te,{className:"h-full flex flex-col overflow-hidden relative group/card",children:[n.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 px-5 pt-4 pb-2",children:[n.jsx(be,{className:"text-sm font-medium",children:"Plazo de Inventario"}),n.jsxs("div",{className:"flex items-center gap-2",children:[a&&n.jsx("button",{onPointerDown:u=>u.stopPropagation(),onClick:u=>{u.stopPropagation(),o==null||o()},className:"relative z-50 text-muted-foreground hover:text-primary transition-colors opacity-0 group-hover/card:opacity-100 cursor-pointer",title:"Configurar plazo",children:n.jsx(fn,{className:"h-4 w-4"})}),!a&&n.jsx(fn,{className:"h-4 w-4 text-muted-foreground"})]})]}),n.jsxs(we,{className:"flex flex-col justify-between flex-1 px-5 pb-4 pt-1 gap-4",children:[n.jsxs("div",{className:"flex items-end justify-between",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-3xl font-bold tracking-tight text-foreground",children:e>0?e:"-"}),n.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide",children:"Das Asignados"})]}),n.jsx("div",{className:"h-8 w-px bg-border/60 mx-2 mb-1"}),n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsx("span",{className:"text-3xl font-bold tracking-tight text-foreground",children:e>0?t:"-"}),n.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide text-right",children:"Das Restantes"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Avance Global"}),n.jsxs("span",{className:"text-sm font-bold text-primary",children:[r,"%"]})]}),n.jsx("div",{className:"grid gap-2",style:{gridTemplateColumns:`repeat(${i}, 1fr)`},children:l.map((u,m)=>{const f=s[m]||0,d=e===0;return n.jsxs("div",{className:"space-y-1.5 group",children:[n.jsx("div",{className:"h-2 w-full bg-muted/50 rounded-full overflow-hidden relative",children:n.jsx("div",{className:De("h-full bg-primary transition-all duration-500 rounded-full",d&&"w-0"),style:{width:d?"0%":`${Math.min(f,100)}%`}})}),n.jsx("div",{className:"text-[10px] text-center text-muted-foreground font-medium",children:d?"-":`${f}%`})]},m)})})]})]})]})}const Qi=e=>{const t=Math.min(120,Math.max(0,e*1.2));return{background:`linear-gradient(135deg, hsl(${t}, 85%, 60%), hsl(${t}, 90%, 40%))`,color:"white"}};function el(){const{user:e}=wn(),[t,r]=c.useState([]),[s,a]=c.useState(null),[o,i]=c.useState(!0);c.useEffect(()=>{const u=async()=>{if(!(e!=null&&e.branchSheet)){i(!1);return}try{const f=await ks(e.branchSheet),d=await ht.getAllCyclicInventories(e.branchSheet)||[],g=new Map(d.map(b=>[b.labName,b.status])),p={Farmacia:{total:0,controlled:0},Perfumera:{total:0,controlled:0},Accesorios:{total:0,controlled:0},Varios:{total:0,controlled:0}};let C=0,x=0;f.forEach(b=>{let y="Varios";const h=b.category.toUpperCase();h==="MEDICAMENTOS"?y="Farmacia":h==="PERFUMERIA"?y="Perfumera":h==="ACCESORIOS"&&(y="Accesorios");const k=g.get(b.name)==="controlado";p[y]?(p[y].total+=1,k&&(p[y].controlled+=1)):(p.Varios.total+=1,k&&(p.Varios.controlled+=1)),C+=1,k&&(x+=1)});const w=Object.entries(p).map(([b,y])=>{const h=y.total>0?Math.round(y.controlled/y.total*100):0;return{name:b,totalItems:y.total,controlledItems:y.controlled,percentage:h,pendingPercentage:100-h}}),v=C>0?Math.round(x/C*100):0;a({name:"Global",totalItems:C,controlledItems:x,percentage:v,pendingPercentage:100-v}),r(w)}catch(f){console.error("Error loading category progress:",f)}finally{i(!1)}};u();const m=setInterval(u,3e4);return()=>clearInterval(m)},[e]);const l=[...t].sort((u,m)=>u.percentage-m.percentage);return o?n.jsx(te,{className:"h-full flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):n.jsxs(te,{className:"h-full flex flex-col border-border/50 shadow-sm bg-card/50 backdrop-blur-sm",children:[n.jsx(ve,{className:"pb-2 px-4 pt-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(be,{className:"text-base font-semibold tracking-tight",children:"Progreso de Inventario"}),n.jsxs("span",{className:"text-xs text-muted-foreground bg-muted px-2 py-1 rounded-full",children:[s==null?void 0:s.totalItems," Laboratorios"]})]})}),n.jsx(we,{className:"flex-1 p-4 pt-2",children:n.jsxs("div",{className:"grid grid-cols-12 gap-3 h-full",children:[n.jsx("div",{className:"col-span-7 h-full",children:n.jsxs("div",{className:"h-full rounded-xl bg-muted/30 border border-border/50 p-5 flex flex-col justify-between relative overflow-hidden group hover:bg-muted/50 transition-colors",children:[n.jsx("div",{className:"flex justify-between items-start z-10",children:n.jsx("div",{className:"p-2 bg-background/50 backdrop-blur rounded-lg",children:n.jsx(Is,{className:"h-5 w-5 text-muted-foreground"})})}),n.jsxs("div",{className:"z-10",children:[n.jsxs("h3",{className:"text-4xl font-bold tracking-tighter text-foreground mb-1",children:[s==null?void 0:s.percentage,"%"]}),n.jsx("p",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide",children:"AVANCE TOTAL"})]}),n.jsx("div",{className:"absolute -right-4 -bottom-4 w-32 h-32 bg-foreground/5 rounded-full blur-3xl group-hover:bg-foreground/10 transition-colors"})]})}),n.jsx("div",{className:"col-span-5 grid grid-cols-1 grid-rows-4 gap-2 h-full",children:l.map(u=>n.jsxs("div",{className:"relative overflow-hidden rounded-lg p-3 flex items-center justify-between transition-all hover:scale-[1.02] cursor-pointer group shadow-sm",style:Qi(u.percentage),children:[n.jsxs("div",{className:"z-10 flex flex-col",children:[n.jsx("span",{className:"text-[10px] font-bold uppercase text-white/90 tracking-wider",children:u.name}),n.jsxs("span",{className:"text-lg font-bold text-white drop-shadow-sm",children:[u.percentage,"%"]})]}),n.jsx("div",{className:"z-10 text-right",children:n.jsxs("span",{className:"text-[10px] font-medium text-white/90 bg-black/20 px-1.5 py-0.5 rounded backdrop-blur-sm",children:[u.controlledItems,"/",u.totalItems]})}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:animate-shimmer"})]},u.name))})]})})]})}const tl={admin:["VIEW_ADMIN_DASHBOARD","MANAGE_INVENTORY_CONFIG","VIEW_BRANCH_MONITOR","EDIT_SETTINGS","IMPERSONATE_BRANCH"],branch:[]};function un(e,t){return e?(tl[e.role]||[]).includes(t):!1}const nl=[{branch:"Belgrano IV",sector:"Farmacia",date:"Mircoles, 19 de Noviembre",iso:"2025-11-19"},{branch:"Recoleta",sector:"Farmacia",date:"Viernes, 21 de Noviembre",iso:"2025-11-21"},{branch:"Villa Urquiza II",sector:"Perfumera",date:"Mircoles, 26 de Julio",iso:"2026-07-26"}],rl=[{name:"Belgrano IV",address:"Av. Cabildo 2040",zonal:"Zona Norte",email:"belgrano4@farmaplus.com"},{name:"Recoleta",address:"Av. Santa Fe 1860",zonal:"Zona Centro",email:"recoleta@farmaplus.com"},{name:"Palermo II",address:"Av. Las Heras 3520",zonal:"Zona Norte",email:"palermo2@farmaplus.com"},{name:"Microcentro",address:"Florida 520",zonal:"Zona Centro",email:"microcentro@farmaplus.com"},{name:"Belgrano III",address:"Av. Cabildo 1520",zonal:"Zona Norte",email:"belgrano3@farmaplus.com"},{name:"Villa Urquiza II",address:"Av. Triunvirato 4280",zonal:"Zona Norte",email:"villaurquiza2@farmaplus.com"}];function fr({events:e,selectedDate:t,setSelectedDate:r,showAddForm:s,setShowAddForm:a,newTitle:o,setNewTitle:i,newBranch:l,setNewBranch:u,newSector:m,setNewSector:f,newDate:d,setNewDate:g,handleAddEvent:p,setEvents:C,eventsForDay:x,eventsForMonth:w,isMobile:v=!1}){return n.jsxs("div",{className:v?"space-y-4":"flex gap-6",children:[n.jsx("div",{className:v?"":"flex-1",children:n.jsx(Ii,{selected:t,onSelect:r,events:e})}),n.jsx("div",{className:v?"":"w-80",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"font-semibold",children:t.toLocaleDateString("es-AR",{day:"numeric",month:"long"})}),n.jsx(xe,{size:"sm",onClick:()=>a(!s),children:s?"Cancelar":"+ Agregar"})]}),s&&n.jsx("div",{className:"mt-4 p-3 bg-background border rounded-md",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("input",{className:"w-full p-2 border rounded",placeholder:"Ttulo",value:o,onChange:b=>i(b.target.value)}),n.jsx("input",{className:"w-full p-2 border rounded",placeholder:"Sucursal",value:l,onChange:b=>u(b.target.value)}),n.jsx("input",{className:"w-full p-2 border rounded",placeholder:"Sector",value:m,onChange:b=>f(b.target.value)}),n.jsx("input",{type:"date",className:"w-full p-2 border rounded",value:d,onChange:b=>g(b.target.value)}),n.jsx("div",{className:"flex justify-end",children:n.jsx(xe,{size:"sm",onClick:p,children:"Guardar"})})]})}),n.jsx("div",{className:"space-y-2",children:x(t).length===0?n.jsx("p",{className:"text-sm text-muted-foreground",children:"No hay eventos programados"}):x(t).map(b=>n.jsxs("div",{className:"p-3 bg-muted rounded-md",children:[n.jsx("p",{className:"font-medium",children:b.title}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.branch," - ",b.sector]})]},b.id))})]})})]})}const sl={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},al={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};function El(){const{user:e}=wn(),{visibleWidgets:t,hiddenWidgets:r,isEditMode:s,setIsEditMode:a,reorderWidgets:o,toggleWidgetVisibility:i,resetLayout:l}=ki(e==null?void 0:e.branchName),[u,m]=c.useState(!1),f=Ta(Gn(In,{activationConstraint:{distance:8}}),Gn(En,{coordinateGetter:Qo})),d=c.useMemo(()=>t.filter(D=>D.type==="branches-table"?un(e,"VIEW_BRANCH_MONITOR"):!0),[t,e]),g=D=>{const{active:T,over:H}=D;H&&T.id!==H.id&&o(T.id,H.id)},[p,C]=c.useState({totalStock:0,activeProducts:0,negativeStock:0,positiveStock:0,negativeUnits:0,positiveUnits:0,totalSystemUnits:0}),[x,w]=c.useState(!1),[v,b]=c.useState(new Date),[y,h]=c.useState([]),[R,k]=c.useState(!1),[N,E]=c.useState(""),[I,O]=c.useState(""),[j,P]=c.useState(""),[z,W]=c.useState(new Date().toISOString().slice(0,10)),[q,me]=c.useState(0),[B,he]=c.useState(!1),[ge,Ie]=c.useState(""),[Le,ne]=c.useState(90),[re,ye]=c.useState(0),ke=Ti("(min-width: 768px)");c.useEffect(()=>{(async()=>{if(e!=null&&e.branchName){const T=await ht.getBranchConfig(e.branchName);me(T)}})()},[e]),c.useEffect(()=>{(async()=>{let T=0;try{T=await Ms()}catch(H){console.error("Error fetching product count:",H)}if(!(e!=null&&e.branchSheet)){C({totalStock:0,activeProducts:T,negativeStock:0,positiveStock:0,negativeUnits:0,positiveUnits:0,totalSystemUnits:0});return}try{const Q=(await ht.getAllCyclicInventories(e.branchSheet)).reduce((K,Me)=>({negativeStock:K.negativeStock+Me.negativeValue,positiveStock:K.positiveStock+Me.positiveValue,totalStock:K.totalStock+Me.differenceValue,negativeUnits:K.negativeUnits+Me.negativeUnits,positiveUnits:K.positiveUnits+Me.positiveUnits,totalSystemUnits:K.totalSystemUnits+Me.totalSystemUnits}),{negativeStock:0,positiveStock:0,totalStock:0,negativeUnits:0,positiveUnits:0,totalSystemUnits:0});C({totalStock:Q.totalStock,activeProducts:T,negativeStock:Q.negativeStock,positiveStock:Q.positiveStock,negativeUnits:Q.negativeUnits,positiveUnits:Q.positiveUnits,totalSystemUnits:Q.totalSystemUnits})}catch(H){console.error("Error loading metrics:",H)}})()},[e]);const ce=()=>{const D=new Date().getHours();return D>=6&&D<12?"Buenos das":D>=12&&D<20?"Buenas tardes":"Buenas noches"};c.useEffect(()=>{localStorage.setItem("inventory-events",JSON.stringify(y))},[y]);const Re=D=>{const T=D.getMonth(),H=D.getFullYear();return y.filter(Q=>{const K=new Date(Q.date);return K.getMonth()===T&&K.getFullYear()===H})},ue=D=>{const T=D.toISOString().slice(0,10);return y.filter(H=>H.date===T)},je=D=>{const T=D?new Date(D):new Date;b(T),w(!0)},L=()=>{const T={id:`evt-${Date.now()}`,title:N||`${I} - ${j}`,branch:I,sector:j,date:z};h(H=>[...H,T]),k(!1),E(""),O(""),P(""),W(z)},pe=D=>{switch(D){case"metrics-carousel":return n.jsx(Oi,{metrics:p});case"active-products":return n.jsx(Pi,{activeProducts:p.activeProducts});case"inventory-summary":return n.jsx(zi,{});case"inventory-alerts":return n.jsx(Li,{});case"upcoming-inventories":return n.jsx($i,{inventories:nl,onDateClick:je});case"branches-table":return un(e,"VIEW_BRANCH_MONITOR")?n.jsx(Bi,{branches:rl}):null;case"inventory-progress":return n.jsx(Ui,{completedCount:3,totalCount:10});case"critical-products":return n.jsx(Wi,{criticalCount:15,outOfStockCount:3});case"total-stock-value":return n.jsx(Fi,{totalValue:p.totalStock,changePercentage:5.2});case"active-users":return n.jsx(Hi,{activeCount:5,activeBranches:["Belgrano IV","Recoleta","Palermo II"]});case"pending-inventories":return n.jsx(Vi,{pendingCount:7,urgentCount:2});case"trends-chart":return n.jsx(_i,{});case"top-products":return n.jsx(Yi,{});case"activity-timeline":return n.jsx(qi,{});case"category-distribution":return n.jsx(Gi,{});case"monthly-goals":return n.jsx(Xi,{});case"sync-status":return n.jsx(Ki,{isOnline:navigator.onLine,pendingCount:0});case"quick-actions":return n.jsx(Ji,{});case"countdown":return n.jsx(Zi,{assignedDays:q,daysRemaining:q,totalProgress:0,monthlyProgress:[],isEditable:un(e,"MANAGE_INVENTORY_CONFIG"),onEdit:()=>he(!0)});case"category-progress":return n.jsx(el,{});default:return null}};return n.jsxs(gt.div,{className:"pt-3 pb-6 px-6 space-y-6",variants:sl,initial:"hidden",animate:"show",children:[n.jsxs(gt.div,{variants:al,className:"space-y-1",children:[n.jsx("div",{className:"text-muted-foreground text-xs font-normal",children:new Date().toLocaleDateString("es-AR",{weekday:"long",month:"short",day:"2-digit",year:"numeric"})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h1",{className:"text-2xl font-medium tracking-tight text-foreground",children:[ce(),", ",(e==null?void 0:e.branchName)||"Sucursal"," "]}),n.jsxs("div",{className:"flex gap-2",children:[s&&n.jsxs(n.Fragment,{children:[n.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>m(!0),disabled:r.length===0,children:[n.jsx(yn,{className:"h-4 w-4 mr-2"}),"Agregar Widget"]}),n.jsxs(xe,{variant:"outline",size:"sm",onClick:l,children:[n.jsx(ua,{className:"h-4 w-4 mr-2"}),"Resetear"]})]}),n.jsxs(xe,{variant:s?"default":"outline",size:"sm",onClick:()=>a(!s),children:[n.jsx(da,{className:"h-4 w-4 mr-2"}),s?"Guardar":"Editar Dashboard"]})]})]})]}),n.jsx(Mo,{sensors:f,collisionDetection:ka,onDragEnd:g,children:n.jsxs(Ho,{items:d.map(D=>D.id),strategy:Mn,children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:d.filter(D=>D.size==="small").slice(0,4).map(D=>n.jsx(dn,{widget:D,isEditMode:s,onRemove:()=>i(D.id),children:pe(D.type)},D.id))}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.filter(D=>D.size==="large").map(D=>n.jsx(dn,{widget:D,isEditMode:s,onRemove:()=>i(D.id),children:pe(D.type)},D.id))}),n.jsx("div",{className:"space-y-6",children:d.filter(D=>D.size==="full").map(D=>n.jsx(dn,{widget:D,isEditMode:s,onRemove:()=>i(D.id),children:pe(D.type)},D.id))})]})}),n.jsx(Ai,{open:u,onOpenChange:m,hiddenWidgets:r,onAddWidget:i}),ke?n.jsx($n,{open:x,onOpenChange:w,children:n.jsxs(Bn,{className:"w-[1800px] max-w-[90vw]",children:[n.jsx(Un,{children:n.jsx(Wn,{children:"Prximos inventarios"})}),n.jsx(fr,{events:y,selectedDate:v,setSelectedDate:b,showAddForm:R,setShowAddForm:k,newTitle:N,setNewTitle:E,newBranch:I,setNewBranch:O,newSector:j,setNewSector:P,newDate:z,setNewDate:W,handleAddEvent:L,setEvents:h,eventsForDay:ue,eventsForMonth:Re})]})}):n.jsx(On,{open:x,onOpenChange:w,children:n.jsxs(Pn,{children:[n.jsx(zn,{className:"text-left",children:n.jsx(Ln,{children:"Prximos inventarios"})}),n.jsx("div",{className:"px-4 pb-4",children:n.jsx(fr,{events:y,selectedDate:v,setSelectedDate:b,showAddForm:R,setShowAddForm:k,newTitle:N,setNewTitle:E,newBranch:I,setNewBranch:O,newSector:j,setNewSector:P,newDate:z,setNewDate:W,handleAddEvent:L,setEvents:h,eventsForDay:ue,eventsForMonth:Re,isMobile:!0})})]})}),n.jsx($n,{open:B,onOpenChange:D=>{if(he(D),D){const T=q||90,Q=[180,150,120,90].find(K=>K<=T)||90;Ie((e==null?void 0:e.branchName)||""),ne(Q),ye(Math.max(0,T-Q))}},children:n.jsxs(Bn,{className:"max-w-md",children:[n.jsx(Un,{children:n.jsx(Wn,{children:"Configurar Plazo de Inventario"})}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(en,{className:"text-muted-foreground",children:"Sucursal Seleccionada"}),n.jsx("div",{className:"text-lg font-semibold border p-3 rounded-md bg-muted/50",children:(e==null?void 0:e.branchName)||"Sin sucursal asignada"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(en,{children:"Das Base"}),n.jsx("div",{className:"grid grid-cols-4 gap-3",children:[90,120,150,180].map(D=>n.jsx("button",{onClick:()=>ne(D),className:De("flex flex-col items-center justify-center p-3 rounded-lg border-2 transition-all",Le===D?"border-primary bg-primary/10 text-primary font-bold":"border-muted hover:border-primary/50 text-muted-foreground"),children:n.jsx("span",{className:"text-xl",children:D})},D))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(en,{children:"Prroga (Das adicionales)"}),n.jsxs("div",{className:"flex gap-4 items-center",children:[n.jsx(yr,{type:"number",placeholder:"0",className:"text-lg font-medium",value:re,onChange:D=>ye(Number(D.target.value)),min:0}),n.jsxs("div",{className:"text-sm text-muted-foreground text-nowrap",children:["Total: ",n.jsx("span",{className:"font-bold text-foreground mx-1 text-lg",children:Le+re})," das"]})]})]}),n.jsx(xe,{className:"w-full mt-2",onClick:async()=>{if(!(e!=null&&e.branchName))return;const D=Le+re;try{await ht.saveBranchConfig(e.branchName,D),Fn.success(`Plazo actualizado a ${D} das`),he(!1),me(D)}catch{Fn.error("Error al guardar")}},children:"Guardar Configuracin"})]})]})})]})}export{El as default};
