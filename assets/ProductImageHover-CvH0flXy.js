import{p as F,$ as R,j as e,a0 as U,q,a1 as p,a2 as E,a3 as $,a4 as z,a5 as B,a6 as W,a7 as G,a8 as K,a9 as V}from"./ui-vendor-B9YtwGJ-.js";import{r as n}from"./react-vendor-DdjUaGoS.js";import{c as H,o as J}from"./index-CfsGIlE1.js";import{m as Q}from"./animation-CvwzMRXu.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=H("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=H("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var S,b="HoverCard",[O,ve]=F(b,[R]),P=R(),[Z,N]=O(b),T=t=>{const{__scopeHoverCard:r,children:a,open:s,defaultOpen:i,onOpenChange:c,openDelay:f=700,closeDelay:d=300}=t,l=P(r),v=n.useRef(0),u=n.useRef(0),h=n.useRef(!1),m=n.useRef(!1),[x,o]=G({prop:s,defaultProp:i??!1,onChange:c,caller:b}),C=n.useCallback(()=>{clearTimeout(u.current),v.current=window.setTimeout(()=>o(!0),f)},[f,o]),g=n.useCallback(()=>{clearTimeout(v.current),!h.current&&!m.current&&(u.current=window.setTimeout(()=>o(!1),d))},[d,o]),M=n.useCallback(()=>o(!1),[o]);return n.useEffect(()=>()=>{clearTimeout(v.current),clearTimeout(u.current)},[]),e.jsx(Z,{scope:r,open:x,onOpenChange:o,onOpen:C,onClose:g,onDismiss:M,hasSelectionRef:h,isPointerDownOnContentRef:m,children:e.jsx(K,{...l,children:a})})};T.displayName=b;var _="HoverCardTrigger",D=n.forwardRef((t,r)=>{const{__scopeHoverCard:a,...s}=t,i=N(_,a),c=P(a);return e.jsx(U,{asChild:!0,...c,children:e.jsx(q.a,{"data-state":i.open?"open":"closed",...s,ref:r,onPointerEnter:p(t.onPointerEnter,w(i.onOpen)),onPointerLeave:p(t.onPointerLeave,w(i.onClose)),onFocus:p(t.onFocus,i.onOpen),onBlur:p(t.onBlur,i.onClose),onTouchStart:p(t.onTouchStart,f=>f.preventDefault())})})});D.displayName=_;var j="HoverCardPortal",[ee,te]=O(j,{forceMount:void 0}),k=t=>{const{__scopeHoverCard:r,forceMount:a,children:s,container:i}=t,c=N(j,r);return e.jsx(ee,{scope:r,forceMount:a,children:e.jsx(E,{present:a||c.open,children:e.jsx(V,{asChild:!0,container:i,children:s})})})};k.displayName=j;var y="HoverCardContent",A=n.forwardRef((t,r)=>{const a=te(y,t.__scopeHoverCard),{forceMount:s=a.forceMount,...i}=t,c=N(y,t.__scopeHoverCard);return e.jsx(E,{present:s||c.open,children:e.jsx(re,{"data-state":c.open?"open":"closed",...i,onPointerEnter:p(t.onPointerEnter,w(c.onOpen)),onPointerLeave:p(t.onPointerLeave,w(c.onClose)),ref:r})})});A.displayName=y;var re=n.forwardRef((t,r)=>{const{__scopeHoverCard:a,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:c,onInteractOutside:f,...d}=t,l=N(y,a),v=P(a),u=n.useRef(null),h=$(r,u),[m,x]=n.useState(!1);return n.useEffect(()=>{if(m){const o=document.body;return S=o.style.userSelect||o.style.webkitUserSelect,o.style.userSelect="none",o.style.webkitUserSelect="none",()=>{o.style.userSelect=S,o.style.webkitUserSelect=S}}},[m]),n.useEffect(()=>{if(u.current){const o=()=>{x(!1),l.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var g;((g=document.getSelection())==null?void 0:g.toString())!==""&&(l.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",o),()=>{document.removeEventListener("pointerup",o),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!1}}},[l.isPointerDownOnContentRef,l.hasSelectionRef]),n.useEffect(()=>{u.current&&ae(u.current).forEach(C=>C.setAttribute("tabindex","-1"))}),e.jsx(z,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:f,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:p(c,o=>{o.preventDefault()}),onDismiss:l.onDismiss,children:e.jsx(B,{...v,...d,onPointerDown:p(d.onPointerDown,o=>{o.currentTarget.contains(o.target)&&x(!0),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!0}),ref:h,style:{...d.style,userSelect:m?"text":void 0,WebkitUserSelect:m?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),oe="HoverCardArrow",ne=n.forwardRef((t,r)=>{const{__scopeHoverCard:a,...s}=t,i=P(a);return e.jsx(W,{...i,...s,ref:r})});ne.displayName=oe;function w(t){return r=>r.pointerType==="touch"?void 0:t()}function ae(t){const r=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;a.nextNode();)r.push(a.currentNode);return r}var se=T,ie=D,ce=k,I=A;const le=se,de=ie,L=n.forwardRef(({className:t,align:r="center",sideOffset:a=4,...s},i)=>e.jsx(ce,{children:e.jsx(I,{ref:i,align:r,sideOffset:a,className:J("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}));L.displayName=I.displayName;function he({ean:t,name:r,children:a}){const[s,i]=n.useState(null);n.useState(!1);const[c,f]=n.useState(!1),[d,l]=n.useState(!1);return n.useEffect(()=>{if(d&&!s){const u=`https://tse2.mm.bing.net/th?q=${encodeURIComponent(r)}&w=300&h=300&c=7&rs=1&p=0`;i(u)}},[d,r]),e.jsxs(le,{open:d,onOpenChange:l,children:[e.jsx(de,{asChild:!0,children:e.jsx("div",{className:"cursor-help decoration-dotted underline-offset-4 w-fit max-w-full",children:a})}),e.jsx(L,{className:"w-64 p-0 overflow-hidden bg-white border-none shadow-xl",side:"right",align:"center",sideOffset:10,avoidCollisions:!1,children:e.jsxs(Q.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{type:"spring",stiffness:300,damping:20},className:"w-full h-full",children:[e.jsxs("div",{className:"relative aspect-square flex items-center justify-center bg-gray-50",children:[s?e.jsx("img",{src:s,alt:r,className:"w-full h-full object-contain p-2",onError:()=>f(!0)}):e.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[e.jsx(Y,{className:"h-8 w-8 animate-spin"}),e.jsx("span",{className:"text-xs",children:"Cargando..."})]}),c&&e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gray-50 text-muted-foreground p-4 text-center",children:[e.jsx(X,{className:"h-8 w-8 opacity-50"}),e.jsx("span",{className:"text-xs",children:"No se pudo cargar la imagen"})]})]}),e.jsxs("div",{className:"p-3 border-t bg-gray-50/50",children:[e.jsx("p",{className:"text-xs font-medium truncate",children:r}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"BÃºsqueda por nombre (Bing)"})]})]})})]})}export{he as P};
