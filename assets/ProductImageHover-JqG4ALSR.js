import{H as I,J as R,j as e,K as L,g as M,M as p,N as U,Q as F,U as q,V as z,W as B,X as W,Y as $}from"./ui-vendor-CMKjsfuk.js";import{r as o}from"./react-vendor-C2WMxTOF.js";import{c as j,a as K}from"./index-ByHsDfok.js";import{m as V}from"./animation-DioOyNca.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=j("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=j("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var P,b="HoverCard",[E,ue]=I(b,[R]),N=R(),[Q,S]=E(b),O=t=>{const{__scopeHoverCard:n,children:a,open:s,defaultOpen:i,onOpenChange:l,openDelay:f=700,closeDelay:d=300}=t,c=N(n),v=o.useRef(0),u=o.useRef(0),h=o.useRef(!1),m=o.useRef(!1),[x,r]=W({prop:s,defaultProp:i??!1,onChange:l,caller:b}),C=o.useCallback(()=>{clearTimeout(u.current),v.current=window.setTimeout(()=>r(!0),f)},[f,r]),g=o.useCallback(()=>{clearTimeout(v.current),!h.current&&!m.current&&(u.current=window.setTimeout(()=>r(!1),d))},[d,r]),A=o.useCallback(()=>r(!1),[r]);return o.useEffect(()=>()=>{clearTimeout(v.current),clearTimeout(u.current)},[]),e.jsx(Q,{scope:n,open:x,onOpenChange:r,onOpen:C,onClose:g,onDismiss:A,hasSelectionRef:h,isPointerDownOnContentRef:m,children:e.jsx($,{...c,children:a})})};O.displayName=b;var H="HoverCardTrigger",T=o.forwardRef((t,n)=>{const{__scopeHoverCard:a,...s}=t,i=S(H,a),l=N(a);return e.jsx(L,{asChild:!0,...l,children:e.jsx(M.a,{"data-state":i.open?"open":"closed",...s,ref:n,onPointerEnter:p(t.onPointerEnter,w(i.onOpen)),onPointerLeave:p(t.onPointerLeave,w(i.onClose)),onFocus:p(t.onFocus,i.onOpen),onBlur:p(t.onBlur,i.onClose),onTouchStart:p(t.onTouchStart,f=>f.preventDefault())})})});T.displayName=H;var X="HoverCardPortal",[pe,Y]=E(X,{forceMount:void 0}),y="HoverCardContent",_=o.forwardRef((t,n)=>{const a=Y(y,t.__scopeHoverCard),{forceMount:s=a.forceMount,...i}=t,l=S(y,t.__scopeHoverCard);return e.jsx(U,{present:s||l.open,children:e.jsx(Z,{"data-state":l.open?"open":"closed",...i,onPointerEnter:p(t.onPointerEnter,w(l.onOpen)),onPointerLeave:p(t.onPointerLeave,w(l.onClose)),ref:n})})});_.displayName=y;var Z=o.forwardRef((t,n)=>{const{__scopeHoverCard:a,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:f,...d}=t,c=S(y,a),v=N(a),u=o.useRef(null),h=F(n,u),[m,x]=o.useState(!1);return o.useEffect(()=>{if(m){const r=document.body;return P=r.style.userSelect||r.style.webkitUserSelect,r.style.userSelect="none",r.style.webkitUserSelect="none",()=>{r.style.userSelect=P,r.style.webkitUserSelect=P}}},[m]),o.useEffect(()=>{if(u.current){const r=()=>{x(!1),c.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var g;((g=document.getSelection())==null?void 0:g.toString())!==""&&(c.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",r),()=>{document.removeEventListener("pointerup",r),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!1}}},[c.isPointerDownOnContentRef,c.hasSelectionRef]),o.useEffect(()=>{u.current&&re(u.current).forEach(C=>C.setAttribute("tabindex","-1"))}),e.jsx(q,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:f,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:p(l,r=>{r.preventDefault()}),onDismiss:c.onDismiss,children:e.jsx(z,{...v,...d,onPointerDown:p(d.onPointerDown,r=>{r.currentTarget.contains(r.target)&&x(!0),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!0}),ref:h,style:{...d.style,userSelect:m?"text":void 0,WebkitUserSelect:m?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),ee="HoverCardArrow",te=o.forwardRef((t,n)=>{const{__scopeHoverCard:a,...s}=t,i=N(a);return e.jsx(B,{...i,...s,ref:n})});te.displayName=ee;function w(t){return n=>n.pointerType==="touch"?void 0:t()}function re(t){const n=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;a.nextNode();)n.push(a.currentNode);return n}var oe=O,ne=T,D=_;const ae=oe,se=ne,k=o.forwardRef(({className:t,align:n="center",sideOffset:a=4,...s},i)=>e.jsx(D,{ref:i,align:n,sideOffset:a,className:K("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));k.displayName=D.displayName;function fe({ean:t,name:n,children:a}){const[s,i]=o.useState(null);o.useState(!1);const[l,f]=o.useState(!1),[d,c]=o.useState(!1);return o.useEffect(()=>{if(d&&!s){const u=`https://tse2.mm.bing.net/th?q=${encodeURIComponent(n)}&w=300&h=300&c=7&rs=1&p=0`;i(u)}},[d,n]),e.jsxs(ae,{open:d,onOpenChange:c,children:[e.jsx(se,{asChild:!0,children:e.jsx("div",{className:"cursor-help decoration-dotted underline-offset-4 w-fit max-w-full",children:a})}),e.jsx(k,{className:"w-64 p-0 overflow-hidden bg-white border-none shadow-xl",side:"right",align:"center",sideOffset:10,avoidCollisions:!1,children:e.jsxs(V.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{type:"spring",stiffness:300,damping:20},className:"w-full h-full",children:[e.jsxs("div",{className:"relative aspect-square flex items-center justify-center bg-gray-50",children:[s?e.jsx("img",{src:s,alt:n,className:"w-full h-full object-contain p-2",onError:()=>f(!0)}):e.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[e.jsx(J,{className:"h-8 w-8 animate-spin"}),e.jsx("span",{className:"text-xs",children:"Cargando..."})]}),l&&e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gray-50 text-muted-foreground p-4 text-center",children:[e.jsx(G,{className:"h-8 w-8 opacity-50"}),e.jsx("span",{className:"text-xs",children:"No se pudo cargar la imagen"})]})]}),e.jsxs("div",{className:"p-3 border-t bg-gray-50/50",children:[e.jsx("p",{className:"text-xs font-medium truncate",children:n}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"BÃºsqueda por nombre (Bing)"})]})]})})]})}export{fe as P};
