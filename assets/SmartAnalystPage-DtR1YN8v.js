import{j as e,ae as K,af as ge,ag as W,ah as Z,ai as je,aj as ee,ak as Ne,al as se,am as ae,an as ye,ao as ve,ap as te,aq as be,ar as we}from"./ui-vendor-B7e8T5zR.js";import{r as i,u as ke}from"./react-vendor-ylmX0jv_.js";import{c as P,b as u,ax as re,ay as Se,E as De,F as Ce,G as Ee,H as Te,J as Ie,P as Ae,O as Me,B as j,u as Be,A as M,h as S,l as D,T as B,o as C,S as Ue,R as F,N as O,az as Le}from"./index-DtE1zeX6.js";import{I as ne}from"./input-BdU_B0sQ.js";import{B as le}from"./badge-Di4zDw6r.js";import{T as Pe,a as ze,b as Q,c as X}from"./tabs-zl0zkMU4.js";import{g as Re,u as Ve}from"./expirationDB-BGQ_U_qk.js";import{L as G}from"./label-BnCnHRO5.js";import{C as He}from"./check-Cw_Z0MGQ.js";import{C as L}from"./calendar-DKCJ43Kw.js";import{q as qe,k as $e,r as J,f as Fe}from"./utils-6kd64X-K.js";import{A as Oe,m as Y}from"./animation-DYtBTRHa.js";import"./excel-uoQkVabA.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=P("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=P("PackageX",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["path",{d:"m17 13 5 5m-5 0 5-5",key:"im3w4b"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=P("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),Xe=be,Ge=we,ie=i.forwardRef(({className:a,children:t,...r},o)=>e.jsxs(K,{ref:o,className:u("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...r,children:[t,e.jsx(ge,{asChild:!0,children:e.jsx(re,{className:"h-4 w-4 opacity-50"})})]}));ie.displayName=K.displayName;const oe=i.forwardRef(({className:a,...t},r)=>e.jsx(W,{ref:r,className:u("flex cursor-default items-center justify-center py-1",a),...t,children:e.jsx(Se,{className:"h-4 w-4"})}));oe.displayName=W.displayName;const ce=i.forwardRef(({className:a,...t},r)=>e.jsx(Z,{ref:r,className:u("flex cursor-default items-center justify-center py-1",a),...t,children:e.jsx(re,{className:"h-4 w-4"})}));ce.displayName=Z.displayName;const de=i.forwardRef(({className:a,children:t,position:r="popper",...o},N)=>e.jsx(je,{children:e.jsxs(ee,{ref:N,className:u("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:r,...o,children:[e.jsx(oe,{}),e.jsx(Ne,{className:u("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),e.jsx(ce,{})]})}));de.displayName=ee.displayName;const Je=i.forwardRef(({className:a,...t},r)=>e.jsx(se,{ref:r,className:u("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...t}));Je.displayName=se.displayName;const me=i.forwardRef(({className:a,children:t,...r},o)=>e.jsxs(ae,{ref:o,className:u("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",a),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(ye,{children:e.jsx(He,{className:"h-4 w-4"})})}),e.jsx(ve,{children:t})]}));me.displayName=ae.displayName;const Ye=i.forwardRef(({className:a,...t},r)=>e.jsx(te,{ref:r,className:u("-mx-1 my-1 h-px bg-muted",a),...t}));Ye.displayName=te.displayName;function _e({isOpen:a,onClose:t,onConfirm:r,batch:o,branches:N}){const[p,v]=i.useState(""),[f,b]=i.useState(""),[T,g]=i.useState("");i.useEffect(()=>{a&&(v(""),b(""),g(""))},[a]);const I=()=>{if(!p){g("Debes seleccionar una sucursal de destino");return}if(!f.trim()){g("El número de envío Plex es obligatorio");return}r(p,f),t()};return o?e.jsx(De,{open:a,onOpenChange:d=>!d&&t(),children:e.jsxs(Ce,{className:"sm:max-w-[500px]",children:[e.jsxs(Ee,{children:[e.jsxs(Te,{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"w-5 h-5 text-blue-600"}),"Transferencia Inter-Sucursal"]}),e.jsx(Ie,{children:"Complete los datos del envío para registrar la transferencia."})]}),e.jsxs("div",{className:"grid gap-6 py-4",children:[e.jsxs("div",{className:"bg-muted/40 p-4 rounded-lg space-y-3 border border-border/50",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm line-clamp-2",children:o.productName}),e.jsxs("p",{className:"text-xs text-muted-foreground font-mono mt-0.5",children:["EAN: ",o.ean]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(_,{className:"w-3.5 h-3.5"}),e.jsxs("span",{className:"text-xs",children:["Lote: ",e.jsx("span",{className:"font-medium text-foreground",children:o.batchNumber})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(L,{className:"w-3.5 h-3.5"}),e.jsxs("span",{className:"text-xs",children:["Venc: ",e.jsx("span",{className:"font-medium text-foreground",children:o.expirationDate})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(Ae,{className:"w-3.5 h-3.5"}),e.jsxs("span",{className:"text-xs",children:["Cant: ",e.jsxs("span",{className:"font-medium text-foreground",children:[o.quantity," un."]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"branch",children:"Sucursal de Destino"}),e.jsxs(Xe,{value:p,onValueChange:v,children:[e.jsx(ie,{id:"branch",children:e.jsx(Ge,{placeholder:"Seleccionar sucursal..."})}),e.jsx(de,{className:"max-h-[200px]",children:N.map(d=>e.jsx(me,{value:d,children:d},d))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(G,{htmlFor:"plex",className:"flex items-center justify-between",children:["Número de Envío Plex",e.jsx(le,{variant:"outline",className:"text-[10px] h-5",children:"Obligatorio"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(_,{className:"absolute left-3 top-2.5 w-4 h-4 text-muted-foreground"}),e.jsx(ne,{id:"plex",placeholder:"Ingrese el número de envío...",value:f,onChange:d=>b(d.target.value),className:"pl-9"})]}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Este número es requerido para la trazabilidad en el sistema."})]}),T&&e.jsx("p",{className:"text-xs text-destructive font-medium bg-destructive/10 p-2 rounded",children:T})]})]}),e.jsxs(Me,{children:[e.jsx(j,{variant:"outline",onClick:t,children:"Cancelar"}),e.jsx(j,{onClick:I,className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Confirmar Transferencia"})]})]})}):null}function ds(){const{user:a}=Be();ke();const[t,r]=i.useState([]),[o,N]=i.useState([]),[p,v]=i.useState(""),[f,b]=i.useState("pending"),[T,g]=i.useState(!0),[I,d]=i.useState(!1),[A,z]=i.useState(null);i.useEffect(()=>{R()},[a==null?void 0:a.branchName]);const R=async()=>{g(!0);try{const s=await Re(a==null?void 0:a.branchName);r(s),V(s)}catch(s){console.error("Error loading analyzed data",s),M.error("Error","No se pudieron cargar los datos")}finally{g(!1)}},V=s=>{const n=[],y=new Date;s.forEach(c=>{c.batches.forEach(m=>{let h;const l=m.expirationDate.split("/");let x=parseInt(l[l.length-1]);x<100&&(x+=2e3),l.length===2?h=new Date(x,parseInt(l[0]),0):h=new Date(x,parseInt(l[1])-1,parseInt(l[0]));const $=qe(h,y),he=$e(y,$),fe=J(h,he);n.push({...m,itemId:c.id,productName:c.productName,ean:c.ean,daysUntilExpiry:J(h,y),monthsUntilExpiry:$,remainingDays:fe})})}),n.sort((c,m)=>c.daysUntilExpiry-m.daysUntilExpiry),N(n)},w=async(s,n)=>{if(n==="transfer"){z(s),d(!0);return}await H(s,n)},xe=async(s,n)=>{A&&(await H(A,"transfer",{destinationBranch:s,plexShipmentNumber:n}),d(!1),z(null))},H=async(s,n,y={})=>{try{const c=t.find(l=>l.id===s.itemId);if(!c)return;const m=c.batches.map(l=>l.batchNumber===s.batchNumber&&l.expirationDate===s.expirationDate?{...l,status:n,actionDate:Date.now(),...y}:l);await Ve(c.id,{batches:m}),r(l=>l.map(x=>x.id===c.id?{...x,batches:m}:x)),V(t.map(l=>l.id===c.id?{...l,batches:m}:l));const h={sold:"Marcado como Vendido/Promo",transfer:"Marcado para Transferencia",return:"Marcado para Devolución",destroyed:"Marcado para Destrucción"};M.success("Acción registrada",h[n]),R()}catch(c){console.error("Error updating batch",c),M.error("Error","No se pudo actualizar el estado")}},k=o.filter(s=>{const n=s.productName.toLowerCase().includes(p.toLowerCase())||s.batchNumber.toLowerCase().includes(p.toLowerCase());return f==="pending"?n&&(!s.status||s.status==="active"):n&&s.status&&s.status!=="active"}),q=s=>s<0||s<30?"text-red-600 dark:text-red-400 border-red-500/30 bg-red-500/10":s<60?"text-amber-600 dark:text-amber-400 border-amber-500/30 bg-amber-500/20":"text-emerald-600 dark:text-emerald-400 border-emerald-500/30 bg-emerald-500/10",ue=s=>{switch(s){case"sold":return e.jsx(C,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"});case"transfer":return e.jsx(F,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"});case"return":return e.jsx(U,{className:"w-4 h-4 text-amber-600 dark:text-amber-400"});case"destroyed":return e.jsx(O,{className:"w-4 h-4 text-red-600 dark:text-red-400"});default:return e.jsx(B,{className:"w-4 h-4 text-muted-foreground"})}},pe=(s,n)=>{switch(s){case"sold":return"Vendido / Promo";case"transfer":return n!=null&&n.destinationBranch?`Transferido a ${n.destinationBranch}`:"Inter-Sucursal";case"return":return"Devolución";case"destroyed":return"Destrucción";default:return"Pendiente"}};return e.jsxs("div",{className:"min-h-screen bg-background p-4 md:p-8 space-y-6 pb-24",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(S,{className:"bg-card/50 backdrop-blur-sm border-muted/50",children:e.jsxs(D,{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-medium text-muted-foreground",children:["Críticos (","<","30d)"]}),e.jsx("h3",{className:"text-xl font-bold text-destructive",children:o.filter(s=>(!s.status||s.status==="active")&&s.daysUntilExpiry<30).length})]}),e.jsx("div",{className:"p-2 bg-destructive/10 rounded-full",children:e.jsx(B,{className:"w-4 h-4 text-destructive"})})]})}),e.jsx(S,{className:"bg-card/50 backdrop-blur-sm border-muted/50",children:e.jsxs(D,{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Próximos (30-60d)"}),e.jsx("h3",{className:"text-xl font-bold text-warning",children:o.filter(s=>(!s.status||s.status==="active")&&s.daysUntilExpiry>=30&&s.daysUntilExpiry<60).length})]}),e.jsx("div",{className:"p-2 bg-warning/10 rounded-full",children:e.jsx(L,{className:"w-4 h-4 text-warning"})})]})})]}),e.jsxs(Pe,{value:f,onValueChange:s=>b(s),className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 bg-card p-1.5 rounded-xl border border-border/40 shadow-sm",children:[e.jsxs(ze,{className:"grid w-full sm:w-[400px] grid-cols-2",children:[e.jsxs(Q,{value:"pending",className:"gap-2 h-9 text-xs",children:[e.jsx(B,{className:"w-3.5 h-3.5"}),"Pendientes",e.jsx(le,{variant:"secondary",className:"ml-1 h-4 px-1 min-w-[18px] justify-center text-[10px]",children:o.filter(s=>!s.status||s.status==="active").length})]}),e.jsxs(Q,{value:"resolved",className:"gap-2 h-9 text-xs",children:[e.jsx(C,{className:"w-3.5 h-3.5"}),"Resueltos"]})]}),e.jsxs("div",{className:"relative w-full sm:w-auto min-w-[300px]",children:[e.jsx(Ue,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(ne,{placeholder:"Buscar producto o lote...",value:p,onChange:s=>v(s.target.value),className:"pl-9 h-9 w-full text-sm"})]})]}),e.jsx(X,{value:"pending",className:"space-y-4 data-[state=inactive]:hidden focus-visible:outline-none",children:e.jsx(Oe,{mode:"popLayout",children:k.length===0?e.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center p-12 text-center space-y-4 border-2 border-dashed border-muted rounded-xl bg-muted/5",children:[e.jsx("div",{className:"p-4 bg-background rounded-full shadow-sm",children:e.jsx(C,{className:"w-8 h-8 text-success"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold",children:"¡Todo al día!"}),e.jsx("p",{className:"text-muted-foreground max-w-sm mt-1",children:"No tienes productos pendientes de revisión con tus criterios de búsqueda."})]})]}):e.jsx("div",{className:"grid gap-3",children:k.map(s=>e.jsx(Y.div,{layout:!0,initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},children:e.jsx(S,{className:`overflow-hidden border-l-4 ${q(s.daysUntilExpiry).split(" ")[1]} transition-colors hover:bg-muted/5 group`,children:e.jsx(D,{className:"p-0",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[e.jsxs("div",{className:"flex-1 py-3 px-4 flex items-center gap-4 min-w-0",children:[e.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-base leading-tight truncate",title:s.productName,children:s.productName}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground mt-1 font-mono",children:[e.jsxs("span",{className:"bg-muted px-2 py-0.5 rounded text-[10px] border border-border/40 font-medium",children:["EAN: ",s.ean]}),e.jsx("span",{className:"text-border/40",children:"•"}),e.jsxs("span",{className:"text-[10px] opacity-80",children:["Lote: ",s.batchNumber]})]})]}),e.jsxs("div",{className:"flex items-center gap-5 text-xs pl-0.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground/90",children:[e.jsx(L,{className:"w-3.5 h-3.5 opacity-70"}),e.jsxs("span",{children:["Venc: ",e.jsx("span",{className:"font-medium text-foreground",children:s.expirationDate})]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground/90",children:[e.jsx(U,{className:"w-3.5 h-3.5 opacity-70"}),e.jsxs("span",{children:["Stock: ",e.jsxs("span",{className:"font-medium text-foreground",children:[s.quantity," un."]})]})]})]})]}),e.jsxs("div",{className:`flex flex-col items-center justify-center flex-shrink-0 px-4 py-1.5 min-w-[170px] rounded-xl border ${q(s.daysUntilExpiry)} select-none bg-background/40 backdrop-blur-sm shadow-sm`,children:[e.jsx("span",{className:"text-[9px] font-bold uppercase tracking-[0.2em] opacity-60 mb-0.5 leading-none",children:s.monthsUntilExpiry<=0?Math.abs(s.daysUntilExpiry)===0?"HOY":"VENCE EN":"TIEMPO RESTANTE"}),e.jsx("div",{className:"flex items-baseline justify-center gap-1 leading-none",children:s.monthsUntilExpiry<=0?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-2xl font-black tracking-tight",children:Math.abs(s.daysUntilExpiry)}),e.jsx("span",{className:"text-[8px] uppercase font-bold tracking-wider opacity-50 mt-0.5",children:"Días"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-2xl font-black tracking-tight",children:s.monthsUntilExpiry}),e.jsx("span",{className:"text-[8px] uppercase font-bold tracking-wider opacity-50 mt-0.5",children:"Meses"})]}),s.remainingDays>0&&e.jsx("span",{className:"text-xl font-thin opacity-20 mx-2",children:"/"}),s.remainingDays>0&&e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-2xl font-black tracking-tight",children:s.remainingDays}),e.jsx("span",{className:"text-[8px] uppercase font-bold tracking-wider opacity-50 mt-0.5",children:"Días"})]})]})})]})]}),e.jsxs("div",{className:"w-full md:w-auto p-2 md:pr-4 flex flex-row gap-1 md:gap-2 justify-center md:justify-end opacity-80 group-hover:opacity-100 transition-opacity",children:[e.jsx(E,{label:"Vendido / Promoción",children:e.jsx(j,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full hover:bg-success/10 hover:text-success hover:scale-105 active:scale-95 transition-all text-muted-foreground/70",onClick:()=>w(s,"sold"),children:e.jsx(C,{className:"w-4 h-4"})})}),e.jsx(E,{label:"Inter-Sucursal",children:e.jsx(j,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full hover:bg-blue-500/10 hover:text-blue-500 hover:scale-105 active:scale-95 transition-all text-muted-foreground/70",onClick:()=>w(s,"transfer"),children:e.jsx(F,{className:"w-4 h-4"})})}),e.jsx(E,{label:"Devolución",children:e.jsx(j,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full hover:bg-warning/10 hover:text-warning hover:scale-105 active:scale-95 transition-all text-muted-foreground/70",onClick:()=>w(s,"return"),children:e.jsx(U,{className:"w-4 h-4"})})}),e.jsx(E,{label:"Destrucción",children:e.jsx(j,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full hover:bg-destructive/10 hover:text-destructive hover:scale-105 active:scale-95 transition-all text-muted-foreground/70",onClick:()=>w(s,"destroyed"),children:e.jsx(O,{className:"w-4 h-4"})})})]})]})})})},`${s.itemId}-${s.batchNumber}`))})})}),e.jsx(X,{value:"resolved",className:"space-y-4",children:e.jsxs("div",{className:"grid gap-3",children:[k.map(s=>e.jsx(S,{className:"bg-muted/30 opacity-75 hover:opacity-100 transition-opacity",children:e.jsxs(D,{className:"p-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-background rounded-full shadow-sm border",children:ue(s.status)}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold line-through text-muted-foreground text-sm",children:s.productName}),e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[e.jsx("span",{children:s.batchNumber}),e.jsx("span",{children:"•"}),e.jsx("span",{className:"font-medium text-foreground",children:pe(s.status,s)})]})]})]}),e.jsxs("div",{className:"text-right text-[10px] text-muted-foreground",children:[e.jsx("p",{children:"Acción realizada"}),e.jsx("p",{className:"font-mono",children:s.actionDate?Fe(s.actionDate,"dd/MM/yyyy HH:mm"):"-"}),s.plexShipmentNumber&&e.jsxs("p",{className:"font-mono text-[9px] text-blue-500 mt-1",children:["Plex: ",s.plexShipmentNumber]})]})]})},`${s.itemId}-${s.batchNumber}`)),k.length===0&&e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No hay items resueltos."})]})})]}),e.jsx(_e,{isOpen:I,onClose:()=>d(!1),onConfirm:xe,batch:A,branches:Le})]})}function E({label:a,children:t}){return e.jsxs("div",{className:"relative group/tooltip",children:[t,e.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2 py-1 bg-popover text-popover-foreground text-xs rounded shadow-md opacity-0 group-hover/tooltip:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50",children:[a,e.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-popover"})]})]})}export{ds as default};
