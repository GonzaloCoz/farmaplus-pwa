import{j as e}from"./ui-vendor-BLFTds-q.js";import{r as i}from"./react-vendor-ylmX0jv_.js";import{C as h}from"./CounterAnimation-CBxAL-8N.js";import{p as ae,q as te,r as re,s as le,S as pe,B as T,E as o,g as p,U as fe,e as W,P as ge,Z as je,D as ve,_ as Ne}from"./index-BG1umsIN.js";import{T as be,a as ye,b as X}from"./tabs-yIEz6v0O.js";import{I as _}from"./input-Dfk53VEn.js";import{r as Se,u as x,w as Y}from"./excel-uoQkVabA.js";import{L as M}from"./label-D2BPiQ8h.js";import{C as Ie}from"./check-DT5MiZeB.js";import{F as O,C as we,a as Ve,S as Ce}from"./FabMenu--HX0-mAh.js";import{m as j}from"./animation-B8cFXbbc.js";import{T as ee}from"./trending-down-1TW5uDJ0.js";import{T as se}from"./trending-up-CY2L0GUJ.js";import{T as De}from"./target-gaRJoklR.js";import"./utils-CUsTgaRG.js";import"./plus-CGozER-s.js";const ke=["Belgrano VI","Barracas","Recoleta","Belgrano","Belgrano II","Belgrano III","Belgrano IV","Belgrano V","Belgrano VII","Belgrano VIII","Berazategui","Berazategui II","Caballito","Caballito II","Caballito III","Caballito IV","Chacarita","Devoto","Devoto II","Flores","Gonzalez Catan","Gonzalez Catan II","Gonzalez Catan III","Las Cañitas","Mercedes","Microcentro","Microcentro II","Morón","Nuñez","Padua","Palermo","Palermo II","Palermo III","Parque Centenario","Parque Patricios","Pilar","Pompeya","Quilmes","Ramos Mejia","Ramos Mejia II","Ramos Mejia III","Recoleta II","Recoleta III","Recoleta IV","Recoleta V","Retiro","Retiro II","Saladillo","San Isidro","San Isidro II","San Miguel","Tribunales","Villa Ballester","Villa Ballester II","Villa Crespo","Villa del Parque","Villa del Parque II","Villa Luro","Villa Urquiza","Villa Urquiza II","Villa Urquiza III"];function Pe({open:I,onOpenChange:E,onSave:U}){const[C,a]=i.useState(""),[N,w]=i.useState(""),[D,f]=i.useState(""),[q,R]=i.useState(!1),[B,$]=i.useState(""),[V,A]=i.useState(new Date().toISOString().split("T")[0]),[b,k]=i.useState(!1),F=i.useMemo(()=>ke.filter(n=>n.toLowerCase().includes(D.toLowerCase())),[D]),Q=()=>{if(!C.trim()){o.error("Por favor, ingresa un nombre para el reporte");return}if(!N){o.error("Por favor, selecciona una sucursal");return}if(!B.trim()){o.error("Por favor, ingresa el sector");return}if(!V){o.error("Por favor, selecciona una fecha");return}k(!0);try{U({name:C,branch:N,sector:B,date:V}),o.success("Reporte guardado correctamente"),a(""),w(""),f(""),$(""),A(new Date().toISOString().split("T")[0]),E(!1)}catch{o.error("Error al guardar el reporte")}finally{k(!1)}};return e.jsx(ae,{open:I,onOpenChange:E,children:e.jsxs(te,{className:"w-[480px] p-0",children:[e.jsx(re,{className:"p-4 border-b",children:e.jsx(le,{children:"Guardar Reporte"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"report-name",className:"text-sm font-medium",children:"Nombre del Reporte *"}),e.jsx(_,{id:"report-name",placeholder:"Ej: Auditoria - Nov 2025",value:C,onChange:n=>a(n.target.value),className:"mt-2"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(M,{htmlFor:"report-branch",className:"text-sm font-medium",children:"Sucursal *"}),e.jsxs("div",{className:"relative mt-2",children:[e.jsx(pe,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(_,{id:"report-branch",placeholder:"Buscar sucursal...",value:D,onChange:n=>{f(n.target.value),R(!0)},onFocus:()=>R(!0),className:"pl-8"})]}),q&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-background border border-border rounded-md shadow-lg z-50 max-h-48 overflow-auto",children:F.length>0?F.map(n=>e.jsxs("button",{className:"w-full text-left px-3 py-2 hover:bg-accent flex items-center justify-between",onClick:()=>{w(n),f(""),R(!1)},children:[n,N===n&&e.jsx(Ie,{className:"h-4 w-4 text-primary"})]},n)):e.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:"No se encontraron sucursales"})}),N&&e.jsxs("div",{className:"mt-2 px-3 py-2 bg-accent rounded-md text-sm",children:["Seleccionada: ",e.jsx("span",{className:"font-medium",children:N})]})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"report-sector",className:"text-sm font-medium",children:"Sector *"}),e.jsx(_,{id:"report-sector",placeholder:"Ej: Farmacia, Perfumería, General",value:B,onChange:n=>$(n.target.value),className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"report-date",className:"text-sm font-medium",children:"Fecha del Inventario *"}),e.jsx(_,{id:"report-date",type:"date",value:V,onChange:n=>A(n.target.value),className:"mt-2"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(T,{variant:"outline",onClick:()=>E(!1),disabled:b,className:"flex-1",children:"Cancelar"}),e.jsx(T,{onClick:Q,disabled:b,className:"flex-1",children:b?"Guardando...":"Guardar Reporte"})]})]})]})})}function He(){const[I,E]=i.useState(null),[U,C]=i.useState(!1),[a,N]=i.useState(null),[w,D]=i.useState({headers:[],rows:[]}),[f,q]=i.useState("value"),[R,B]=i.useState(!1),[$,V]=i.useState(!1),[A,b]=i.useState(!1),[k,F]=i.useState("Inventario"),Q=i.useRef(null),n=s=>{var u;const r=(u=s.target.files)==null?void 0:u[0];r&&(r.type==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"||r.type==="application/vnd.ms-excel"?(E(r),N(null),D({headers:[],rows:[]}),o.success("Archivo cargado correctamente")):o.error("Por favor, selecciona un archivo Excel válido"))},oe=async()=>{if(!I){o.error("Por favor, selecciona un archivo primero");return}C(!0),o.info("Analizando archivo...",{id:"analysis-toast"});try{const s=await I.arrayBuffer(),r=Se(s),u=r.SheetNames[0],z=r.Sheets[u],v=x.sheet_to_json(z,{header:1}),y=v[0],d=v.slice(1),l=v.slice(1).map(t=>({codebar:t[6],name:t[10],physicalCount:Number(t[13])||0,systemStock:Number(t[15])||0,diffQty:Number(t[17])||0,cost:Number(t[19])||0,salePrice:Number(t[21])||0,diffValue:Number(t[22])||0})).filter(t=>t.codebar&&t.name);D({headers:y,rows:d});const c=l.filter(t=>t.diffQty<0),P=l.filter(t=>t.diffQty>0),S=l.filter(t=>t.diffQty===0).length,g=l.length>0?S/l.length*100:100,H=c.reduce((t,m)=>t+m.diffValue,0),J=P.reduce((t,m)=>t+m.diffValue,0),Z=c.reduce((t,m)=>t+m.diffQty,0),K=P.reduce((t,m)=>t+m.diffQty,0),xe=[...c].sort((t,m)=>t.diffValue-m.diffValue).slice(0,10),he=[...P].sort((t,m)=>m.diffValue-t.diffValue).slice(0,10);N({totalProducts:l.length,allShortages:c,allSurpluses:P,topShortagesByValue:xe,topSurplusesByValue:he,totalShortageValue:Math.abs(H),totalSurplusValue:J,totalShortageUnits:Math.abs(Z),totalSurplusUnits:K,inventoryAccuracy:g,totalProductsNoDifference:S,netDiscrepancyValue:J+H,netDiscrepancyUnits:K+Z,totalScannedUnits:l.reduce((t,m)=>t+m.physicalCount,0)}),o.success("Análisis completado",{id:"analysis-toast"}),setTimeout(()=>{var t;(t=Q.current)==null||t.scrollIntoView({behavior:"smooth",block:"start"})},300)}catch(s){console.error("Error analyzing file:",s),o.error("Hubo un error al analizar el archivo.",{id:"analysis-toast"})}finally{C(!1)}},ie=()=>{if(!a){o.error("No hay resultados para exportar.");return}o.info("Generando resumen en Excel...");const s=d=>d.map(l=>({"Código de Barras":l.codebar,Producto:l.name,"Diferencia (Unidades)":l.diffQty,"Valor Diferencia ($)":l.diffValue,"Stock Sistema":l.systemStock,"Conteo Físico":l.physicalCount,"Costo Unitario ($)":l.cost,"Precio Venta ($)":l.salePrice})),r=[...a.allShortages].sort((d,l)=>d.diffQty-l.diffQty).slice(0,15),u=[...a.allShortages].sort((d,l)=>d.diffValue-l.diffValue).slice(0,15),z=[...a.allSurpluses].sort((d,l)=>l.diffQty-d.diffQty).slice(0,15),v=[...a.allSurpluses].sort((d,l)=>l.diffValue-d.diffValue).slice(0,15),y=x.book_new();x.book_append_sheet(y,x.json_to_sheet(s(r)),"Faltantes por Cantidad"),x.book_append_sheet(y,x.json_to_sheet(s(u)),"Faltantes por Valor"),x.book_append_sheet(y,x.json_to_sheet(s(z)),"Sobrantes por Cantidad"),x.book_append_sheet(y,x.json_to_sheet(s(v)),"Sobrantes por Valor"),Y(y,"Resumen_Diferencias.xlsx"),o.success("Resumen Excel generado correctamente.")},ne=()=>{if(!a||w.rows.length===0){o.error("No hay resultados para exportar.");return}b(!0)},ce=()=>{if(!a||w.rows.length===0){o.error("No hay resultados para exportar.");return}o.info("Generando archivo Excel...");const s=[...w.headers];s[24]="ID DE AJUSTE",s[25]="CANTIDAD DE AJUSTE";const r=w.rows.map((c,P)=>{const S=P+2,g=[...c];return g[13]=Number(c[13])||0,g[15]=Number(c[15])||0,g[19]=Number(c[19])||0,g[21]=Number(c[21])||0,g[17]={f:`(N${S}+Z${S})-P${S}`},g[22]={f:`R${S}*T${S}`},g[24]="",g[25]=0,g}),u=x.aoa_to_sheet([s,...r]),z=s.length,v=[];for(let c=0;c<z;c++)v.push({hidden:!0});[6,10,13,15,17,19,21,22,24,25].forEach(c=>{v[c]&&(v[c]={hidden:!1,wch:20})}),u["!cols"]=v;const d=x.book_new();x.book_append_sheet(d,u,"Hoja de Ajuste");const l=`${k}.xlsx`;Y(d,l),o.success("Archivo Excel generado correctamente."),B(!0),b(!1),F("Inventario")},de=i.useMemo(()=>a?f==="quantity"?[...a.allShortages].sort((s,r)=>s.diffQty-r.diffQty).slice(0,10):[...a.allShortages].sort((s,r)=>s.diffValue-r.diffValue).slice(0,10):[],[a,f]),ue=i.useMemo(()=>a?f==="quantity"?[...a.allSurpluses].sort((s,r)=>r.diffQty-s.diffQty).slice(0,10):[...a.allSurpluses].sort((s,r)=>r.diffValue-s.diffValue).slice(0,10):[],[a,f]),G=s=>f==="quantity"?`${s.diffQty} uds.`:`$${s.diffValue.toLocaleString()}`,L=s=>{if(f==="quantity")return`Valor: $${s.diffValue.toLocaleString()}`;const r=Math.abs(s.diffQty)===1?"unidad":"unidades";return`Diferencia: ${s.diffQty>0?"+":""}${s.diffQty} ${r}`},me=s=>{if(!a){o.error("No hay resultados para guardar");return}const r={id:Date.now().toString(),name:s.name,branch:s.branch,sector:s.sector,date:s.date,timestamp:new Date().toISOString(),results:a},u=JSON.parse(localStorage.getItem("inventory-reports")||"[]");u.push(r),localStorage.setItem("inventory-reports",JSON.stringify(u)),V(!1)};return e.jsxs(j.div,{className:"p-6 space-y-6 pb-32 lg:pb-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Importar Inventario"}),e.jsx("p",{className:"text-muted-foreground",children:"Carga el archivo Excel de tu conteo físico para analizar discrepancias"})]}),e.jsx(p,{className:"p-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-center w-full",children:e.jsxs("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-64 border-2 border-border border-dashed rounded-2xl cursor-pointer bg-muted/30 hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(fe,{className:"w-12 h-12 mb-4 text-muted-foreground"}),e.jsx("p",{className:"mb-2 text-sm text-foreground font-medium",children:I?I.name:"Haz clic para cargar o arrastra el archivo"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Archivos Excel (.xlsx, .xls)"})]}),e.jsx("input",{id:"dropzone-file",type:"file",className:"hidden",accept:".xlsx,.xls",onChange:n})]})}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-muted/50 rounded-lg",children:[e.jsx(O,{className:"w-5 h-5 text-muted-foreground"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-foreground",children:"Formato requerido"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"El archivo debe contener las columnas: Código, Producto, Stock Sistema, Stock Físico, Diferencia"})]})]}),e.jsx(T,{onClick:oe,disabled:!I||U,className:"w-full",size:"lg",children:U?"Analizando...":"Analizar Inventario"})]})}),a&&e.jsxs(j.div,{ref:Q,className:"space-y-6",initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[e.jsxs(j.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",initial:"hidden",animate:"show",variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},children:[e.jsx(j.div,{variants:{hidden:{opacity:0,scale:.9},show:{opacity:1,scale:1}},children:e.jsx(p,{className:"p-6 border-destructive/20",children:e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-destructive/10 rounded-lg",children:e.jsx(ee,{className:"w-5 h-5 text-destructive"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Faltantes"}),e.jsx("p",{className:"text-2xl font-bold text-destructive",children:e.jsx(h,{value:a.totalShortageValue,prefix:"$"})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:e.jsx(h,{value:a.totalShortageUnits,suffix:" unidades"})})]})]})})}),e.jsx(j.div,{variants:{hidden:{opacity:0,scale:.9},show:{opacity:1,scale:1}},children:e.jsx(p,{className:"p-6 border-warning/20",children:e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-warning/10 rounded-lg",children:e.jsx(W,{className:"w-5 h-5 text-warning"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Discrepancia"}),e.jsx("p",{className:"text-2xl font-bold text-warning",children:e.jsx(h,{value:a.totalShortageValue+a.totalSurplusValue,prefix:"$"})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:e.jsx(h,{value:a.totalShortageUnits+a.totalSurplusUnits,suffix:" unidades en total"})})]})]})})}),e.jsx(j.div,{variants:{hidden:{opacity:0,scale:.9},show:{opacity:1,scale:1}},children:e.jsx(p,{className:"p-6 border-success/20",children:e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-success/10 rounded-lg",children:e.jsx(se,{className:"w-5 h-5 text-success"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Sobrantes"}),e.jsx("p",{className:"text-2xl font-bold text-success",children:e.jsx(h,{value:a.totalSurplusValue,prefix:"$"})}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",e.jsx(h,{value:a.totalSurplusUnits,suffix:" unidades"})]})]})]})})}),e.jsx(j.div,{variants:{hidden:{opacity:0,scale:.9},show:{opacity:1,scale:1}},children:e.jsx(p,{className:"p-6 border-blue-500/20",children:e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:e.jsx(we,{className:"w-5 h-5 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Cálculo Original (Neto)"}),e.jsx("p",{className:`text-2xl font-bold ${a.netDiscrepancyValue<0?"text-destructive":"text-success"}`,children:e.jsx(h,{value:a.netDiscrepancyValue,prefix:"$"})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:e.jsx(h,{value:a.netDiscrepancyUnits,suffix:" unidades netas"})})]})]})})}),e.jsx(j.div,{variants:{hidden:{opacity:0,scale:.9},show:{opacity:1,scale:1}},children:e.jsx(p,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-muted rounded-lg",children:e.jsx(O,{className:"w-5 h-5 text-muted-foreground"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Productos"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:e.jsx(h,{value:a.totalProducts})})]})]})})}),e.jsx(j.div,{variants:{hidden:{opacity:0,scale:.9},show:{opacity:1,scale:1}},children:e.jsx(p,{className:"p-6 bg-primary/5 border-primary/20",children:e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(ge,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Unidades Escaneadas"}),e.jsx("p",{className:"text-2xl font-bold text-primary",children:e.jsx(h,{value:a.totalScannedUnits})})]})]})})}),e.jsx(j.div,{variants:{hidden:{opacity:0,scale:.9},show:{opacity:1,scale:1}},children:e.jsx(p,{className:"p-6 border-primary/20",children:e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(je,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Productos sin Diferencia"}),e.jsx("p",{className:"text-2xl font-bold text-primary",children:e.jsx(h,{value:a.totalProductsNoDifference})})]})]})})}),e.jsx(j.div,{variants:{hidden:{opacity:0,scale:.9},show:{opacity:1,scale:1}},children:e.jsx(p,{className:"p-6 border-primary/20",children:e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(De,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Precisión del Inventario"}),e.jsx("p",{className:"text-2xl font-bold text-primary",children:e.jsx(h,{value:a.inventoryAccuracy,decimals:2,suffix:"%"})})]})]})})})]}),e.jsx("div",{className:"flex justify-between items-center",children:e.jsx(be,{value:f,onValueChange:s=>q(s),className:"w-fit",children:e.jsxs(ye,{children:[e.jsx(X,{value:"value",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground hover:bg-primary hover:text-primary-foreground",children:"Ver por Valor ($)"}),e.jsx(X,{value:"quantity",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground hover:bg-primary hover:text-primary-foreground",children:"Ver por Cantidad (Uds.)"})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(p,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(ee,{className:"w-5 h-5 text-destructive"}),e.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Productos con Más Faltantes"})]}),e.jsx("div",{className:"space-y-4",children:de.map((s,r)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-destructive/5 rounded-lg border border-destructive/20",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-foreground",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:L(s)})]}),e.jsx("p",{className:"text-lg font-bold text-destructive",children:G(s)})]},r))})]}),e.jsxs(p,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(se,{className:"w-5 h-5 text-success"}),e.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Productos con Más Sobrantes"})]}),e.jsx("div",{className:"space-y-4",children:ue.map((s,r)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-success/5 rounded-lg border border-success/20",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-foreground",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:L(s)})]}),e.jsx("p",{className:"text-lg font-bold text-success",children:G(s)})]},r))})]})]}),e.jsx(p,{className:"p-6 bg-muted/30",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(W,{className:"w-5 h-5 text-warning mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-foreground mb-2",children:"Recomendaciones"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsx("li",{children:"• Revisar los productos con mayor diferencia para verificar posibles errores de conteo"}),e.jsx("li",{children:"• Investigar las causas de los faltantes más significativos"}),e.jsx("li",{children:"• Ajustar el stock en el sistema según los resultados del inventario físico"}),e.jsx("li",{children:"• Programar inventarios cíclicos más frecuentes para productos con alta variación"})]})]})]})}),e.jsx(Ve,{actions:[{label:"Guardar Reporte",icon:e.jsx(Ce,{className:"w-5 h-5"}),onClick:()=>V(!0),variant:"default",color:"bg-primary text-primary-foreground",disabled:!R},{label:"Exportar Inventario",icon:e.jsx(ve,{className:"w-5 h-5"}),onClick:ne,variant:"secondary"},{label:"Exportar Resumen",icon:e.jsx(O,{className:"w-5 h-5"}),onClick:ie,variant:"secondary",color:"text-green-600"}]})]}),e.jsx(Pe,{open:$,onOpenChange:V,onSave:me}),e.jsx(ae,{open:A,onOpenChange:b,children:e.jsxs(te,{className:"w-[420px]",children:[e.jsxs(re,{children:[e.jsx(le,{children:"Exportar Inventario"}),e.jsx(Ne,{children:"Ingresa el nombre del archivo que deseas descargar. Se guardará como un archivo Excel (.xlsx)."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"fileName",className:"block text-sm font-medium text-foreground mb-2",children:"Nombre del archivo"}),e.jsx(_,{id:"fileName",type:"text",placeholder:"Inventario",value:k,onChange:s=>F(s.target.value),className:"w-full"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"La extensión .xlsx se agregará automáticamente"})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(T,{variant:"outline",onClick:()=>b(!1),children:"Cancelar"}),e.jsx(T,{onClick:ce,disabled:!k.trim(),children:"Descargar"})]})]})]})})]})}export{He as default};
