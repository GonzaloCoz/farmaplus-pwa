import{j as e,s as D,h as I}from"./ui-vendor-yOY8nbWe.js";import{r as m}from"./react-vendor-ylmX0jv_.js";import{i as F,B as v,X as B,I as G,H as X,b as P}from"./index-dksozvqM.js";import{C as U}from"./CounterAnimation-B87AY37Y.js";import{A as b,m as c}from"./animation-B1XBg4Wj.js";import{C as H}from"./chevron-left-C3aSNXdU.js";const W=t=>{const s=[];for(let d=0;d<=30;d++){const h=d/30*100,o=d/30;let a;t?a=50-o*50*.5+Math.sin(o*Math.PI*3)*4:a=50*.5+o*50*.3+Math.sin(o*Math.PI*3)*4,a=Math.max(10,Math.min(40,a)),s.push([h,a])}return s},w=t=>{if(t.length===0)return"";let s=`M ${t[0][0]} ${t[0][1]}`;for(let i=1;i<t.length;i++)s+=` L ${t[i][0]} ${t[i][1]}`;return s};function le({items:t,className:s}){const[i,n]=m.useState(0),[r,d]=m.useState([]),[h,o]=m.useState(!1),a=t[i],u=a.color.includes("success")||a.value>=0&&!a.color.includes("destructive"),p=u?"#10b981":"#ef4444",R=u?"text-emerald-500":"text-red-500",A=a.trend||{value:(Math.random()*15+5).toFixed(1),isPositive:u};m.useEffect(()=>{const l=W(u);d(l)},[i,u]);const E=()=>n(l=>(l+1)%t.length),V=()=>n(l=>(l-1+t.length)%t.length),_=Math.floor(r.length*.7),x=r[_];return e.jsxs(F,{className:`relative overflow-hidden group ${s} h-full min-h-[160px] flex flex-col`,children:[e.jsx(b,{children:h&&e.jsx(c.div,{className:"absolute inset-0 bg-background/80 backdrop-blur-sm z-40 flex items-center justify-center p-6 text-center cursor-pointer",initial:{clipPath:"circle(0% at top right)"},animate:{clipPath:"circle(150% at top right)"},exit:{clipPath:"circle(0% at top right)"},transition:{type:"spring",stiffness:200,damping:30},onClick:()=>o(!1),children:e.jsxs("div",{className:"space-y-2 pointer-events-none",children:[e.jsx("h4",{className:"font-semibold text-base",children:a.label}),e.jsxs("p",{className:"text-xs text-muted-foreground leading-relaxed",children:["Esta métrica representa el estado actual de ",a.label.toLowerCase(),". Utilice esta información para tomar decisiones informadas sobre su inventario."]})]})})}),e.jsxs("div",{className:"p-5 flex flex-col h-full relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between relative z-50",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground tracking-tight",children:a.label}),e.jsx(v,{variant:"ghost",size:"icon",className:"h-6 w-6 rounded-full hover:bg-muted transition-colors -mr-2 -mt-1",onClick:()=>o(!h),children:e.jsx(b,{mode:"wait",children:h?e.jsx(c.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.2},children:e.jsx(B,{className:"w-4 h-4 text-foreground"})},"close"):e.jsx(c.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},transition:{duration:.2},children:e.jsx(G,{className:"w-4 h-4 text-muted-foreground/40"})},"info")})})]}),e.jsx("div",{className:"mt-1 relative z-30",children:e.jsx(b,{mode:"wait",children:e.jsx(c.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},transition:{duration:.2},className:"flex flex-col gap-1",children:e.jsxs("div",{className:"flex items-baseline gap-2 flex-wrap",children:[(()=>{const l=a.prefix||"",O=a.value>0&&l==="$"?"+":"",T=new Intl.NumberFormat("es-AR").format(Math.abs(a.value)),N=`${O}${l}${T}`;let g="text-3xl";return N.length>15?g="text-xl":N.length>10&&(g="text-2xl"),e.jsxs("div",{className:`${g} font-bold tracking-tight text-foreground`,children:[a.value>0&&a.prefix==="$"?"+":"",e.jsx(U,{value:a.value,prefix:a.prefix})]})})(),e.jsx("div",{className:"flex items-center gap-1",children:e.jsxs("span",{className:`text-sm font-bold flex items-center ${R}`,children:[u?"▲":"▼"," ",A.value,"%"]})})]})},a.id)})})]}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 h-[42%] pointer-events-none z-20",children:[e.jsxs("svg",{viewBox:"0 0 100 50",className:"w-full h-full",preserveAspectRatio:"none",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:`gradient-${i}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:p,stopOpacity:"0.15"}),e.jsx("stop",{offset:"100%",stopColor:p,stopOpacity:"0"})]})}),r.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(c.path,{d:`${w(r)} L 100 50 L 0 50 Z`,fill:`url(#gradient-${i})`,initial:{opacity:0},animate:{opacity:1},transition:{duration:.5}},`area-${i}`),e.jsx(c.path,{d:w(r),fill:"none",stroke:p,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:1.5,ease:"easeInOut"}},`line-${i}`)]})]}),x&&e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 h-full",children:[e.jsx(c.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"100%"},transition:{delay:.8,duration:.4},className:"absolute border-l border-dashed border-primary/30 top-0",style:{left:`${x[0]}%`}}),e.jsx(c.div,{initial:{opacity:0,width:0},animate:{opacity:1,width:"100%"},transition:{delay:.8,duration:.4},className:"absolute border-t border-dashed border-primary/30 left-0",style:{top:`${x[1]/50*100}%`}}),e.jsx(c.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:1.2,type:"spring"},className:"absolute bg-background border-2 rounded-full shadow-sm",style:{left:`${x[0]}%`,top:`${x[1]/50*100}%`,width:"14px",height:"14px",marginLeft:"-7px",marginTop:"-7px",borderColor:p},children:e.jsx("div",{className:"absolute inset-0 rounded-full opacity-20 animate-pulse",style:{backgroundColor:p}})})]})})]}),e.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 left-2 opacity-0 group-hover:opacity-100 transition-opacity z-30",children:e.jsx(v,{variant:"secondary",size:"icon",className:"h-8 w-8 rounded-full shadow-sm bg-background/80 backdrop-blur-sm hover:bg-background",onClick:l=>{l.stopPropagation(),V()},children:e.jsx(H,{className:"h-4 w-4"})})}),e.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 right-2 opacity-0 group-hover:opacity-100 transition-opacity z-30",children:e.jsx(v,{variant:"secondary",size:"icon",className:"h-8 w-8 rounded-full shadow-sm bg-background/80 backdrop-blur-sm hover:bg-background",onClick:l=>{l.stopPropagation(),E()},children:e.jsx(X,{className:"h-4 w-4"})})})]})}var y="Progress",j=100,[Z,ce]=D(y),[q,J]=Z(y),k=m.forwardRef((t,s)=>{const{__scopeProgress:i,value:n=null,max:r,getValueLabel:d=K,...h}=t;(r||r===0)&&!$(r)&&console.error(Q(`${r}`,"Progress"));const o=$(r)?r:j;n!==null&&!C(n,o)&&console.error(Y(`${n}`,"Progress"));const a=C(n,o)?n:null,u=f(a)?d(a,o):void 0;return e.jsx(q,{scope:i,value:a,max:o,children:e.jsx(I.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":f(a)?a:void 0,"aria-valuetext":u,role:"progressbar","data-state":S(a,o),"data-value":a??void 0,"data-max":o,...h,ref:s})})});k.displayName=y;var M="ProgressIndicator",L=m.forwardRef((t,s)=>{const{__scopeProgress:i,...n}=t,r=J(M,i);return e.jsx(I.div,{"data-state":S(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...n,ref:s})});L.displayName=M;function K(t,s){return`${Math.round(t/s*100)}%`}function S(t,s){return t==null?"indeterminate":t===s?"complete":"loading"}function f(t){return typeof t=="number"}function $(t){return f(t)&&!isNaN(t)&&t>0}function C(t,s){return f(t)&&!isNaN(t)&&t<=s&&t>=0}function Q(t,s){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${s}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${j}\`.`}function Y(t,s){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${s}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${j} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var z=k,ee=L;const te=m.forwardRef(({className:t,value:s,indicatorClassName:i,...n},r)=>e.jsx(z,{ref:r,className:P("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:e.jsx(ee,{className:P("h-full w-full flex-1 bg-primary transition-all",i),style:{transform:`translateX(-${100-(s||0)}%)`}})}));te.displayName=z.displayName;export{le as M,te as P};
